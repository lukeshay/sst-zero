var nL=Object.defineProperty;var zE=e=>{throw TypeError(e)};var iL=(e,t,i)=>t in e?nL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var C=(e,t,i)=>iL(e,typeof t!="symbol"?t+"":t,i),x0=(e,t,i)=>t.has(e)||zE("Cannot "+i);var d=(e,t,i)=>(x0(e,t,"read from private field"),i?i.call(e):t.get(e)),x=(e,t,i)=>t.has(e)?zE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),D=(e,t,i,r)=>(x0(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),O=(e,t,i)=>(x0(e,t,"access private method"),i);var fa=(e,t,i,r)=>({set _(o){D(e,t,o,i)},get _(){return d(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function VO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C0={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function sL(){if(jE)return ff;jE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:f,ref:o!==void 0?o:null,props:u}}return ff.Fragment=t,ff.jsx=i,ff.jsxs=i,ff}var LE;function rL(){return LE||(LE=1,C0.exports=sL()),C0.exports}var w=rL(),E0={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function aL(){if(IE)return Te;IE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function z(N,Q,re){this.props=N,this.context=Q,this.refs=A,this.updater=re||E}z.prototype.isReactComponent={},z.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=z.prototype;function U(N,Q,re){this.props=N,this.context=Q,this.refs=A,this.updater=re||E}var X=U.prototype=new j;X.constructor=U,R(X,z.prototype),X.isPureReactComponent=!0;var G=Array.isArray,P={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function se(N,Q,re,le,ie,ve){return re=ve.ref,{$$typeof:e,type:N,key:Q,ref:re!==void 0?re:null,props:ve}}function F(N,Q){return se(N.type,Q,void 0,void 0,void 0,N.props)}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function Z(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return Q[re]})}var ne=/\/+/g;function ue(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?Z(""+N.key):Q.toString(36)}function ge(){}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ge,ge):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function de(N,Q,re,le,ie){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(ve){case"bigint":case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case e:case t:he=!0;break;case g:return he=N._init,de(he(N._payload),Q,re,le,ie)}}if(he)return ie=ie(N),he=le===""?"."+ue(N,0):le,G(ie)?(re="",he!=null&&(re=he.replace(ne,"$&/")+"/"),de(ie,Q,re,"",function(ke){return ke})):ie!=null&&(k(ie)&&(ie=F(ie,re+(ie.key==null||N&&N.key===ie.key?"":(""+ie.key).replace(ne,"$&/")+"/")+he)),Q.push(ie)),1;he=0;var Be=le===""?".":le+":";if(G(N))for(var pe=0;pe<N.length;pe++)le=N[pe],ve=Be+ue(le,pe),he+=de(le,Q,re,ve,ie);else if(pe=b(N),typeof pe=="function")for(N=pe.call(N),pe=0;!(le=N.next()).done;)le=le.value,ve=Be+ue(le,pe++),he+=de(le,Q,re,ve,ie);else if(ve==="object"){if(typeof N.then=="function")return de(Ee(N),Q,re,le,ie);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return he}function J(N,Q,re){if(N==null)return N;var le=[],ie=0;return de(N,le,"","",function(ve){return Q.call(re,ve,ie++)}),le}function ae(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var oe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ce(){}return Te.Children={map:J,forEach:function(N,Q,re){J(N,function(){Q.apply(this,arguments)},re)},count:function(N){var Q=0;return J(N,function(){Q++}),Q},toArray:function(N){return J(N,function(Q){return Q})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Te.Component=z,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=U,Te.StrictMode=r,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(N){return function(){return N.apply(null,arguments)}},Te.cloneElement=function(N,Q,re){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=R({},N.props),ie=N.key,ve=void 0;if(Q!=null)for(he in Q.ref!==void 0&&(ve=void 0),Q.key!==void 0&&(ie=""+Q.key),Q)!V.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(le[he]=Q[he]);var he=arguments.length-2;if(he===1)le.children=re;else if(1<he){for(var Be=Array(he),pe=0;pe<he;pe++)Be[pe]=arguments[pe+2];le.children=Be}return se(N.type,ie,void 0,void 0,ve,le)},Te.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Te.createElement=function(N,Q,re){var le,ie={},ve=null;if(Q!=null)for(le in Q.key!==void 0&&(ve=""+Q.key),Q)V.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ie[le]=Q[le]);var he=arguments.length-2;if(he===1)ie.children=re;else if(1<he){for(var Be=Array(he),pe=0;pe<he;pe++)Be[pe]=arguments[pe+2];ie.children=Be}if(N&&N.defaultProps)for(le in he=N.defaultProps,he)ie[le]===void 0&&(ie[le]=he[le]);return se(N,ve,void 0,void 0,null,ie)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(N){return{$$typeof:h,render:N}},Te.isValidElement=k,Te.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:ae}},Te.memo=function(N,Q){return{$$typeof:y,type:N,compare:Q===void 0?null:Q}},Te.startTransition=function(N){var Q=P.T,re={};P.T=re;try{var le=N(),ie=P.S;ie!==null&&ie(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ce,oe)}catch(ve){oe(ve)}finally{P.T=Q}},Te.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Te.use=function(N){return P.H.use(N)},Te.useActionState=function(N,Q,re){return P.H.useActionState(N,Q,re)},Te.useCallback=function(N,Q){return P.H.useCallback(N,Q)},Te.useContext=function(N){return P.H.useContext(N)},Te.useDebugValue=function(){},Te.useDeferredValue=function(N,Q){return P.H.useDeferredValue(N,Q)},Te.useEffect=function(N,Q){return P.H.useEffect(N,Q)},Te.useId=function(){return P.H.useId()},Te.useImperativeHandle=function(N,Q,re){return P.H.useImperativeHandle(N,Q,re)},Te.useInsertionEffect=function(N,Q){return P.H.useInsertionEffect(N,Q)},Te.useLayoutEffect=function(N,Q){return P.H.useLayoutEffect(N,Q)},Te.useMemo=function(N,Q){return P.H.useMemo(N,Q)},Te.useOptimistic=function(N,Q){return P.H.useOptimistic(N,Q)},Te.useReducer=function(N,Q,re){return P.H.useReducer(N,Q,re)},Te.useRef=function(N){return P.H.useRef(N)},Te.useState=function(N){return P.H.useState(N)},Te.useSyncExternalStore=function(N,Q,re){return P.H.useSyncExternalStore(N,Q,re)},Te.useTransition=function(){return P.H.useTransition()},Te.version="19.0.0",Te}var HE;function Gh(){return HE||(HE=1,E0.exports=aL()),E0.exports}var we=Gh();const Ze=VO(we);var _0={exports:{}},df={},D0={exports:{}},T0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function oL(){return UE||(UE=1,function(e){function t(J,ae){var oe=J.length;J.push(ae);e:for(;0<oe;){var Ce=oe-1>>>1,N=J[Ce];if(0<o(N,ae))J[Ce]=ae,J[oe]=N,oe=Ce;else break e}}function i(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],oe=J.pop();if(oe!==ae){J[0]=oe;e:for(var Ce=0,N=J.length,Q=N>>>1;Ce<Q;){var re=2*(Ce+1)-1,le=J[re],ie=re+1,ve=J[ie];if(0>o(le,oe))ie<N&&0>o(ve,le)?(J[Ce]=ve,J[ie]=oe,Ce=ie):(J[Ce]=le,J[re]=oe,Ce=re);else if(ie<N&&0>o(ve,oe))J[Ce]=ve,J[ie]=oe,Ce=ie;else break e}}return ae}function o(J,ae){var oe=J.sortIndex-ae.sortIndex;return oe!==0?oe:J.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var m=[],y=[],g=1,v=null,b=3,E=!1,R=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(J){for(var ae=i(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=J)r(y),ae.sortIndex=ae.expirationTime,t(m,ae);else break;ae=i(y)}}function G(J){if(A=!1,X(J),!R)if(i(m)!==null)R=!0,Ee();else{var ae=i(y);ae!==null&&de(G,ae.startTime-J)}}var P=!1,V=-1,se=5,F=-1;function k(){return!(e.unstable_now()-F<se)}function Z(){if(P){var J=e.unstable_now();F=J;var ae=!0;try{e:{R=!1,A&&(A=!1,j(V),V=-1),E=!0;var oe=b;try{t:{for(X(J),v=i(m);v!==null&&!(v.expirationTime>J&&k());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,b=v.priorityLevel;var N=Ce(v.expirationTime<=J);if(J=e.unstable_now(),typeof N=="function"){v.callback=N,X(J),ae=!0;break t}v===i(m)&&r(m),X(J)}else r(m);v=i(m)}if(v!==null)ae=!0;else{var Q=i(y);Q!==null&&de(G,Q.startTime-J),ae=!1}}break e}finally{v=null,b=oe,E=!1}ae=void 0}}finally{ae?ne():P=!1}}}var ne;if(typeof U=="function")ne=function(){U(Z)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ge=ue.port2;ue.port1.onmessage=Z,ne=function(){ge.postMessage(null)}}else ne=function(){z(Z,0)};function Ee(){P||(P=!0,ne())}function de(J,ae){V=z(function(){J(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){R||E||(R=!0,Ee())},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var oe=b;b=ae;try{return J()}finally{b=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=b;b=J;try{return ae()}finally{b=oe}},e.unstable_scheduleCallback=function(J,ae,oe){var Ce=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,J){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=oe+N,J={id:g++,callback:ae,priorityLevel:J,startTime:oe,expirationTime:N,sortIndex:-1},oe>Ce?(J.sortIndex=oe,t(y,J),i(m)===null&&J===i(y)&&(A?(j(V),V=-1):A=!0,de(G,oe-Ce))):(J.sortIndex=N,t(m,J),R||E||(R=!0,Ee())),J},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(J){var ae=b;return function(){var oe=b;b=ae;try{return J.apply(this,arguments)}finally{b=oe}}}}(T0)),T0}var BE;function lL(){return BE||(BE=1,D0.exports=oL()),D0.exports}var R0={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function uL(){if(PE)return Pt;PE=1;var e=Gh();function t(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:y,implementation:g}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pt.createPortal=function(m,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(m,y,null,g)},Pt.flushSync=function(m){var y=f.T,g=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=y,r.p=g,r.d.f()}},Pt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},Pt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Pt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var g=y.as,v=h(g,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,E=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Pt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=h(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},Pt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,v=h(g,y.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Pt.preloadModule=function(m,y){if(typeof m=="string")if(y){var g=h(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},Pt.requestFormReset=function(m){r.d.r(m)},Pt.unstable_batchedUpdates=function(m,y){return m(y)},Pt.useFormState=function(m,y,g){return f.H.useFormState(m,y,g)},Pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Pt.version="19.0.0",Pt}var $E;function FO(){if($E)return R0.exports;$E=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),R0.exports=uL(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function cL(){if(VE)return df;VE=1;var e=lL(),t=Gh(),i=FO();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var se=Symbol.for("react.client.reference");function F(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===se?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case h:return"Portal";case g:return"Profiler";case y:return"StrictMode";case A:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case E:return(n.displayName||"Context")+".Provider";case b:return(n._context.displayName||"Context")+".Consumer";case R:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:F(n.type)||"Memo";case U:s=n._payload,n=n._init;try{return F(n(s))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.assign,ne,ue;function ge(n){if(ne===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||"",ue=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+n+ue}var Ee=!1;function de(n,s){if(!n||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var $=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){$=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){$=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var M=S.split(`
`),I=_.split(`
`);for(c=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===M.length||c===I.length)for(l=M.length-1,c=I.length-1;1<=l&&0<=c&&M[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(M[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||M[l]!==I[c]){var Y=`
`+M[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ge(a):""}function J(n){switch(n.tag){case 26:case 27:case 5:return ge(n.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function ae(n){try{var s="";do s+=J(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function oe(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ce(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function N(n){if(oe(n)!==n)throw Error(r(188))}function Q(n){var s=n.alternate;if(!s){if(s=oe(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var c=a.return;if(c===null)break;var p=c.alternate;if(p===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===p.child){for(p=c.child;p;){if(p===a)return N(c),n;if(p===l)return N(c),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=p;else{for(var S=!1,_=c.child;_;){if(_===a){S=!0,a=c,l=p;break}if(_===l){S=!0,l=c,a=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===a){S=!0,a=p,l=c;break}if(_===l){S=!0,l=p,a=c;break}_=_.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function re(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=re(n),s!==null)return s;n=n.sibling}return null}var le=Array.isArray,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},he=[],Be=-1;function pe(n){return{current:n}}function ke(n){0>Be||(n.current=he[Be],he[Be]=null,Be--)}function Le(n,s){Be++,he[Be]=n.current,n.current=s}var We=pe(null),et=pe(null),st=pe(null),Rt=pe(null);function Qt(n,s){switch(Le(st,s),Le(et,n),Le(We,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?uE(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=uE(n),s=cE(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ke(We),Le(We,s)}function Yt(){ke(We),ke(et),ke(st)}function ii(n){n.memoizedState!==null&&Le(Rt,n);var s=We.current,a=cE(s,n.type);s!==a&&(Le(et,n),Le(We,a))}function An(n){et.current===n&&(ke(We),ke(et)),Rt.current===n&&(ke(Rt),af._currentValue=ve)}var co=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,hc=e.unstable_shouldYield,np=e.unstable_requestPaint,zn=e.unstable_now,yg=e.unstable_getCurrentPriorityLevel,Zw=e.unstable_ImmediatePriority,Ww=e.unstable_UserBlockingPriority,ip=e.unstable_NormalPriority,I6=e.unstable_LowPriority,e1=e.unstable_IdlePriority,H6=e.log,U6=e.unstable_setDisableYieldValue,pc=null,Sn=null;function B6(n){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(pc,n,void 0,(n.current.flags&128)===128)}catch{}}function Ns(n){if(typeof H6=="function"&&U6(n),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(pc,n)}catch{}}var bn=Math.clz32?Math.clz32:V6,P6=Math.log,$6=Math.LN2;function V6(n){return n>>>=0,n===0?32:31-(P6(n)/$6|0)|0}var sp=128,rp=4194304;function Vr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ap(n,s){var a=n.pendingLanes;if(a===0)return 0;var l=0,c=n.suspendedLanes,p=n.pingedLanes,S=n.warmLanes;n=n.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~c,a!==0?l=Vr(a):(p&=_,p!==0?l=Vr(p):n||(S=_&~S,S!==0&&(l=Vr(S))))):(_=a&~c,_!==0?l=Vr(_):p!==0?l=Vr(p):n||(S=a&~S,S!==0&&(l=Vr(S)))),l===0?0:s!==0&&s!==l&&!(s&c)&&(c=l&-l,S=s&-s,c>=S||c===32&&(S&4194176)!==0)?s:l}function mc(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function F6(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t1(){var n=sp;return sp<<=1,!(sp&4194176)&&(sp=128),n}function n1(){var n=rp;return rp<<=1,!(rp&62914560)&&(rp=4194304),n}function gg(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function yc(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function G6(n,s,a,l,c,p){var S=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var _=n.entanglements,M=n.expirationTimes,I=n.hiddenUpdates;for(a=S&~a;0<a;){var Y=31-bn(a),te=1<<Y;_[Y]=0,M[Y]=-1;var $=I[Y];if($!==null)for(I[Y]=null,Y=0;Y<$.length;Y++){var K=$[Y];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&i1(n,l,0),p!==0&&c===0&&n.tag!==0&&(n.suspendedLanes|=p&~(S&~s))}function i1(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-bn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function s1(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-bn(a),c=1<<l;c&s|n[l]&s&&(n[l]|=s),a&=~c}}function r1(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function a1(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:RE(n.type))}function q6(n,s){var a=ie.p;try{return ie.p=n,s()}finally{ie.p=a}}var As=Math.random().toString(36).slice(2),Ut="__reactFiber$"+As,cn="__reactProps$"+As,fo="__reactContainer$"+As,vg="__reactEvents$"+As,K6="__reactListeners$"+As,Q6="__reactHandles$"+As,o1="__reactResources$"+As,gc="__reactMarker$"+As;function Sg(n){delete n[Ut],delete n[cn],delete n[vg],delete n[K6],delete n[Q6]}function Fr(n){var s=n[Ut];if(s)return s;for(var a=n.parentNode;a;){if(s=a[fo]||a[Ut]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=hE(n);n!==null;){if(a=n[Ut])return a;n=hE(n)}return s}n=a,a=n.parentNode}return null}function ho(n){if(n=n[Ut]||n[fo]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function vc(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function po(n){var s=n[o1];return s||(s=n[o1]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(n){n[gc]=!0}var l1=new Set,u1={};function Gr(n,s){mo(n,s),mo(n+"Capture",s)}function mo(n,s){for(u1[n]=s,n=0;n<s.length;n++)l1.add(s[n])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),c1={},f1={};function J6(n){return co.call(f1,n)?!0:co.call(c1,n)?!1:Y6.test(n)?f1[n]=!0:(c1[n]=!0,!1)}function op(n,s,a){if(J6(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function lp(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Gi(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function jn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function d1(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function X6(n){var s=d1(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return c.call(this)},set:function(S){l=""+S,p.call(this,S)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function up(n){n._valueTracker||(n._valueTracker=X6(n))}function h1(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=d1(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function cp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Z6=/[\n"\\]/g;function Ln(n){return n.replace(Z6,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bg(n,s,a,l,c,p,S,_){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+jn(s)):n.value!==""+jn(s)&&(n.value=""+jn(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?wg(n,S,jn(s)):a!=null?wg(n,S,jn(a)):l!=null&&n.removeAttribute("value"),c==null&&p!=null&&(n.defaultChecked=!!p),c!=null&&(n.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+jn(_):n.removeAttribute("name")}function p1(n,s,a,l,c,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+jn(a):"",s=s!=null?""+jn(s):a,_||s===n.value||(n.value=s),n.defaultValue=s}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=_?n.checked:!!l,n.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function wg(n,s,a){s==="number"&&cp(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function yo(n,s,a,l){if(n=n.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<n.length;a++)c=s.hasOwnProperty("$"+n[a].value),n[a].selected!==c&&(n[a].selected=c),c&&l&&(n[a].defaultSelected=!0)}else{for(a=""+jn(a),s=null,c=0;c<n.length;c++){if(n[c].value===a){n[c].selected=!0,l&&(n[c].defaultSelected=!0);return}s!==null||n[c].disabled||(s=n[c])}s!==null&&(s.selected=!0)}}function m1(n,s,a){if(s!=null&&(s=""+jn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+jn(a):""}function y1(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=jn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function go(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var W6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function g1(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||W6.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function v1(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var c in s)l=s[c],s.hasOwnProperty(c)&&a[c]!==l&&g1(n,c,l)}else for(var p in s)s.hasOwnProperty(p)&&g1(n,p,s[p])}function xg(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ez=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fp(n){return tz.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Cg=null;function Eg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vo=null,So=null;function S1(n){var s=ho(n);if(s&&(n=s.stateNode)){var a=n[cn]||null;e:switch(n=s.stateNode,s.type){case"input":if(bg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ln(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var c=l[cn]||null;if(!c)throw Error(r(90));bg(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&h1(l)}break e;case"textarea":m1(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&yo(n,!!a.multiple,s,!1)}}}var _g=!1;function b1(n,s,a){if(_g)return n(s,a);_g=!0;try{var l=n(s);return l}finally{if(_g=!1,(vo!==null||So!==null)&&(Qp(),vo&&(s=vo,n=So,So=vo=null,S1(s),n)))for(s=0;s<n.length;s++)S1(n[s])}}function Sc(n,s){var a=n.stateNode;if(a===null)return null;var l=a[cn]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Dg=!1;if(Fi)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Dg=!1}var zs=null,Tg=null,dp=null;function w1(){if(dp)return dp;var n,s=Tg,a=s.length,l,c="value"in zs?zs.value:zs.textContent,p=c.length;for(n=0;n<a&&s[n]===c[n];n++);var S=a-n;for(l=1;l<=S&&s[a-l]===c[p-l];l++);return dp=c.slice(n,1<l?1-l:void 0)}function hp(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pp(){return!0}function x1(){return!1}function fn(n){function s(a,l,c,p,S){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(a=n[_],this[_]=a?a(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pp:x1,this.isPropagationStopped=x1,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),s}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=fn(qr),wc=Z({},qr,{view:0,detail:0}),nz=fn(wc),Rg,Mg,xc,yp=Z({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xc&&(xc&&n.type==="mousemove"?(Rg=n.screenX-xc.screenX,Mg=n.screenY-xc.screenY):Mg=Rg=0,xc=n),Rg)},movementY:function(n){return"movementY"in n?n.movementY:Mg}}),C1=fn(yp),iz=Z({},yp,{dataTransfer:0}),sz=fn(iz),rz=Z({},wc,{relatedTarget:0}),Og=fn(rz),az=Z({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),oz=fn(az),lz=Z({},qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uz=fn(lz),cz=Z({},qr,{data:0}),E1=fn(cz),fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pz(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=hz[n])?!!s[n]:!1}function kg(){return pz}var mz=Z({},wc,{key:function(n){if(n.key){var s=fz[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=hp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(n){return n.type==="keypress"?hp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yz=fn(mz),gz=Z({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=fn(gz),vz=Z({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),Sz=fn(vz),bz=Z({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wz=fn(bz),xz=Z({},yp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cz=fn(xz),Ez=Z({},qr,{newState:0,oldState:0}),_z=fn(Ez),Dz=[9,13,27,32],Ng=Fi&&"CompositionEvent"in window,Cc=null;Fi&&"documentMode"in document&&(Cc=document.documentMode);var Tz=Fi&&"TextEvent"in window&&!Cc,D1=Fi&&(!Ng||Cc&&8<Cc&&11>=Cc),T1=" ",R1=!1;function M1(n,s){switch(n){case"keyup":return Dz.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function Rz(n,s){switch(n){case"compositionend":return O1(s);case"keypress":return s.which!==32?null:(R1=!0,T1);case"textInput":return n=s.data,n===T1&&R1?null:n;default:return null}}function Mz(n,s){if(bo)return n==="compositionend"||!Ng&&M1(n,s)?(n=w1(),dp=Tg=zs=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return D1&&s.locale!=="ko"?null:s.data;default:return null}}var Oz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Oz[n.type]:s==="textarea"}function N1(n,s,a,l){vo?So?So.push(l):So=[l]:vo=l,s=Wp(s,"onChange"),0<s.length&&(a=new mp("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ec=null,_c=null;function kz(n){sE(n,0)}function gp(n){var s=vc(n);if(h1(s))return n}function A1(n,s){if(n==="change")return s}var z1=!1;if(Fi){var Ag;if(Fi){var zg="oninput"in document;if(!zg){var j1=document.createElement("div");j1.setAttribute("oninput","return;"),zg=typeof j1.oninput=="function"}Ag=zg}else Ag=!1;z1=Ag&&(!document.documentMode||9<document.documentMode)}function L1(){Ec&&(Ec.detachEvent("onpropertychange",I1),_c=Ec=null)}function I1(n){if(n.propertyName==="value"&&gp(_c)){var s=[];N1(s,_c,n,Eg(n)),b1(kz,s)}}function Nz(n,s,a){n==="focusin"?(L1(),Ec=s,_c=a,Ec.attachEvent("onpropertychange",I1)):n==="focusout"&&L1()}function Az(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gp(_c)}function zz(n,s){if(n==="click")return gp(s)}function jz(n,s){if(n==="input"||n==="change")return gp(s)}function Lz(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var wn=typeof Object.is=="function"?Object.is:Lz;function Dc(n,s){if(wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!co.call(s,c)||!wn(n[c],s[c]))return!1}return!0}function H1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function U1(n,s){var a=H1(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=H1(a)}}function B1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?B1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function P1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=cp(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=cp(n.document)}return s}function jg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Iz(n,s){var a=P1(s);s=n.focusedElem;var l=n.selectionRange;if(a!==s&&s&&s.ownerDocument&&B1(s.ownerDocument.documentElement,s)){if(l!==null&&jg(s)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(a,s.value.length);else if(a=(n=s.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var c=s.textContent.length,p=Math.min(l.start,c);l=l.end===void 0?p:Math.min(l.end,c),!a.extend&&p>l&&(c=l,l=p,p=c),c=U1(s,p);var S=U1(s,l);c&&S&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==S.node||a.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),a.addRange(n)))}}for(n=[],a=s;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)a=n[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Hz=Fi&&"documentMode"in document&&11>=document.documentMode,wo=null,Lg=null,Tc=null,Ig=!1;function $1(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ig||wo==null||wo!==cp(l)||(l=wo,"selectionStart"in l&&jg(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tc&&Dc(Tc,l)||(Tc=l,l=Wp(Lg,"onSelect"),0<l.length&&(s=new mp("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=wo)))}function Kr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var xo={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Hg={},V1={};Fi&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Qr(n){if(Hg[n])return Hg[n];if(!xo[n])return n;var s=xo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in V1)return Hg[n]=s[a];return n}var F1=Qr("animationend"),G1=Qr("animationiteration"),q1=Qr("animationstart"),Uz=Qr("transitionrun"),Bz=Qr("transitionstart"),Pz=Qr("transitioncancel"),K1=Qr("transitionend"),Q1=new Map,Y1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function si(n,s){Q1.set(n,s),Gr(s,[n])}var In=[],Co=0,Ug=0;function vp(){for(var n=Co,s=Ug=Co=0;s<n;){var a=In[s];In[s++]=null;var l=In[s];In[s++]=null;var c=In[s];In[s++]=null;var p=In[s];if(In[s++]=null,l!==null&&c!==null){var S=l.pending;S===null?c.next=c:(c.next=S.next,S.next=c),l.pending=c}p!==0&&J1(a,c,p)}}function Sp(n,s,a,l){In[Co++]=n,In[Co++]=s,In[Co++]=a,In[Co++]=l,Ug|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Bg(n,s,a,l){return Sp(n,s,a,l),bp(n)}function js(n,s){return Sp(n,null,null,s),bp(n)}function J1(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var c=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(c=!0)),n=p,p=p.return;c&&s!==null&&n.tag===3&&(p=n.stateNode,c=31-bn(a),p=p.hiddenUpdates,n=p[c],n===null?p[c]=[s]:n.push(s),s.lane=a|536870912)}function bp(n){if(50<Zc)throw Zc=0,qv=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Eo={},X1=new WeakMap;function Hn(n,s){if(typeof n=="object"&&n!==null){var a=X1.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ae(s)},X1.set(n,s),s)}return{value:n,source:s,stack:ae(s)}}var _o=[],Do=0,wp=null,xp=0,Un=[],Bn=0,Yr=null,qi=1,Ki="";function Jr(n,s){_o[Do++]=xp,_o[Do++]=wp,wp=n,xp=s}function Z1(n,s,a){Un[Bn++]=qi,Un[Bn++]=Ki,Un[Bn++]=Yr,Yr=n;var l=qi;n=Ki;var c=32-bn(l)-1;l&=~(1<<c),a+=1;var p=32-bn(s)+c;if(30<p){var S=c-c%5;p=(l&(1<<S)-1).toString(32),l>>=S,c-=S,qi=1<<32-bn(s)+c|a<<c|l,Ki=p+n}else qi=1<<p|a<<c|l,Ki=n}function Pg(n){n.return!==null&&(Jr(n,1),Z1(n,1,0))}function $g(n){for(;n===wp;)wp=_o[--Do],_o[Do]=null,xp=_o[--Do],_o[Do]=null;for(;n===Yr;)Yr=Un[--Bn],Un[Bn]=null,Ki=Un[--Bn],Un[Bn]=null,qi=Un[--Bn],Un[Bn]=null}var Jt=null,Mt=null,Ie=!1,ri=null,bi=!1,Vg=Error(r(519));function Xr(n){var s=Error(r(418,""));throw Oc(Hn(s,n)),Vg}function W1(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ut]=n,s[cn]=l,a){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(a=0;a<ef.length;a++)Ne(ef[a],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),p1(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),up(s);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),y1(s,l.value,l.defaultValue,l.children),up(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||lE(s.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),l.onScroll!=null&&Ne("scroll",s),l.onScrollEnd!=null&&Ne("scrollend",s),l.onClick!=null&&(s.onclick=em),s=!0):s=!1,s||Xr(n)}function ex(n){for(Jt=n.return;Jt;)switch(Jt.tag){case 3:case 27:bi=!0;return;case 5:case 13:bi=!1;return;default:Jt=Jt.return}}function Rc(n){if(n!==Jt)return!1;if(!Ie)return ex(n),Ie=!0,!1;var s=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||u0(n.type,n.memoizedProps)),a=!a),a&&(s=!0),s&&Mt&&Xr(n),ex(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Mt=oi(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Mt=null}}else Mt=Jt?oi(n.stateNode.nextSibling):null;return!0}function Mc(){Mt=Jt=null,Ie=!1}function Oc(n){ri===null?ri=[n]:ri.push(n)}var kc=Error(r(460)),tx=Error(r(474)),Fg={then:function(){}};function nx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cp(){}function ix(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Cp,Cp),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===kc?Error(r(483)):n;default:if(typeof s.status=="string")s.then(Cp,Cp);else{if(n=qe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=l}},function(l){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===kc?Error(r(483)):n}throw Nc=s,kc}}var Nc=null;function sx(){if(Nc===null)throw Error(r(459));var n=Nc;return Nc=null,n}var To=null,Ac=0;function Ep(n){var s=Ac;return Ac+=1,To===null&&(To=[]),ix(To,n,s)}function zc(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function _p(n,s){throw s.$$typeof===u?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function rx(n){var s=n._init;return s(n._payload)}function ax(n){function s(H,L){if(n){var B=H.deletions;B===null?(H.deletions=[L],H.flags|=16):B.push(L)}}function a(H,L){if(!n)return null;for(;L!==null;)s(H,L),L=L.sibling;return null}function l(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function c(H,L){return H=Ks(H,L),H.index=0,H.sibling=null,H}function p(H,L,B){return H.index=B,n?(B=H.alternate,B!==null?(B=B.index,B<L?(H.flags|=33554434,L):B):(H.flags|=33554434,L)):(H.flags|=1048576,L)}function S(H){return n&&H.alternate===null&&(H.flags|=33554434),H}function _(H,L,B,ee){return L===null||L.tag!==6?(L=Hv(B,H.mode,ee),L.return=H,L):(L=c(L,B),L.return=H,L)}function M(H,L,B,ee){var fe=B.type;return fe===m?Y(H,L,B.props.children,ee,B.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===U&&rx(fe)===L.type)?(L=c(L,B.props),zc(L,B),L.return=H,L):(L=Vp(B.type,B.key,B.props,null,H.mode,ee),zc(L,B),L.return=H,L)}function I(H,L,B,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Uv(B,H.mode,ee),L.return=H,L):(L=c(L,B.children||[]),L.return=H,L)}function Y(H,L,B,ee,fe){return L===null||L.tag!==7?(L=oa(B,H.mode,ee,fe),L.return=H,L):(L=c(L,B),L.return=H,L)}function te(H,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Hv(""+L,H.mode,B),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return B=Vp(L.type,L.key,L.props,null,H.mode,B),zc(B,L),B.return=H,B;case h:return L=Uv(L,H.mode,B),L.return=H,L;case U:var ee=L._init;return L=ee(L._payload),te(H,L,B)}if(le(L)||V(L))return L=oa(L,H.mode,B,null),L.return=H,L;if(typeof L.then=="function")return te(H,Ep(L),B);if(L.$$typeof===E)return te(H,Bp(H,L),B);_p(H,L)}return null}function $(H,L,B,ee){var fe=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:_(H,L,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===fe?M(H,L,B,ee):null;case h:return B.key===fe?I(H,L,B,ee):null;case U:return fe=B._init,B=fe(B._payload),$(H,L,B,ee)}if(le(B)||V(B))return fe!==null?null:Y(H,L,B,ee,null);if(typeof B.then=="function")return $(H,L,Ep(B),ee);if(B.$$typeof===E)return $(H,L,Bp(H,B),ee);_p(H,B)}return null}function K(H,L,B,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(B)||null,_(L,H,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case f:return H=H.get(ee.key===null?B:ee.key)||null,M(L,H,ee,fe);case h:return H=H.get(ee.key===null?B:ee.key)||null,I(L,H,ee,fe);case U:var Me=ee._init;return ee=Me(ee._payload),K(H,L,B,ee,fe)}if(le(ee)||V(ee))return H=H.get(B)||null,Y(L,H,ee,fe,null);if(typeof ee.then=="function")return K(H,L,B,Ep(ee),fe);if(ee.$$typeof===E)return K(H,L,B,Bp(L,ee),fe);_p(L,ee)}return null}function me(H,L,B,ee){for(var fe=null,Me=null,Se=L,xe=L=0,Et=null;Se!==null&&xe<B.length;xe++){Se.index>xe?(Et=Se,Se=null):Et=Se.sibling;var He=$(H,Se,B[xe],ee);if(He===null){Se===null&&(Se=Et);break}n&&Se&&He.alternate===null&&s(H,Se),L=p(He,L,xe),Me===null?fe=He:Me.sibling=He,Me=He,Se=Et}if(xe===B.length)return a(H,Se),Ie&&Jr(H,xe),fe;if(Se===null){for(;xe<B.length;xe++)Se=te(H,B[xe],ee),Se!==null&&(L=p(Se,L,xe),Me===null?fe=Se:Me.sibling=Se,Me=Se);return Ie&&Jr(H,xe),fe}for(Se=l(Se);xe<B.length;xe++)Et=K(Se,H,xe,B[xe],ee),Et!==null&&(n&&Et.alternate!==null&&Se.delete(Et.key===null?xe:Et.key),L=p(Et,L,xe),Me===null?fe=Et:Me.sibling=Et,Me=Et);return n&&Se.forEach(function(er){return s(H,er)}),Ie&&Jr(H,xe),fe}function _e(H,L,B,ee){if(B==null)throw Error(r(151));for(var fe=null,Me=null,Se=L,xe=L=0,Et=null,He=B.next();Se!==null&&!He.done;xe++,He=B.next()){Se.index>xe?(Et=Se,Se=null):Et=Se.sibling;var er=$(H,Se,He.value,ee);if(er===null){Se===null&&(Se=Et);break}n&&Se&&er.alternate===null&&s(H,Se),L=p(er,L,xe),Me===null?fe=er:Me.sibling=er,Me=er,Se=Et}if(He.done)return a(H,Se),Ie&&Jr(H,xe),fe;if(Se===null){for(;!He.done;xe++,He=B.next())He=te(H,He.value,ee),He!==null&&(L=p(He,L,xe),Me===null?fe=He:Me.sibling=He,Me=He);return Ie&&Jr(H,xe),fe}for(Se=l(Se);!He.done;xe++,He=B.next())He=K(Se,H,xe,He.value,ee),He!==null&&(n&&He.alternate!==null&&Se.delete(He.key===null?xe:He.key),L=p(He,L,xe),Me===null?fe=He:Me.sibling=He,Me=He);return n&&Se.forEach(function(tL){return s(H,tL)}),Ie&&Jr(H,xe),fe}function lt(H,L,B,ee){if(typeof B=="object"&&B!==null&&B.type===m&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var fe=B.key;L!==null;){if(L.key===fe){if(fe=B.type,fe===m){if(L.tag===7){a(H,L.sibling),ee=c(L,B.props.children),ee.return=H,H=ee;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===U&&rx(fe)===L.type){a(H,L.sibling),ee=c(L,B.props),zc(ee,B),ee.return=H,H=ee;break e}a(H,L);break}else s(H,L);L=L.sibling}B.type===m?(ee=oa(B.props.children,H.mode,ee,B.key),ee.return=H,H=ee):(ee=Vp(B.type,B.key,B.props,null,H.mode,ee),zc(ee,B),ee.return=H,H=ee)}return S(H);case h:e:{for(fe=B.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(H,L.sibling),ee=c(L,B.children||[]),ee.return=H,H=ee;break e}else{a(H,L);break}else s(H,L);L=L.sibling}ee=Uv(B,H.mode,ee),ee.return=H,H=ee}return S(H);case U:return fe=B._init,B=fe(B._payload),lt(H,L,B,ee)}if(le(B))return me(H,L,B,ee);if(V(B)){if(fe=V(B),typeof fe!="function")throw Error(r(150));return B=fe.call(B),_e(H,L,B,ee)}if(typeof B.then=="function")return lt(H,L,Ep(B),ee);if(B.$$typeof===E)return lt(H,L,Bp(H,B),ee);_p(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(a(H,L.sibling),ee=c(L,B),ee.return=H,H=ee):(a(H,L),ee=Hv(B,H.mode,ee),ee.return=H,H=ee),S(H)):a(H,L)}return function(H,L,B,ee){try{Ac=0;var fe=lt(H,L,B,ee);return To=null,fe}catch(Se){if(Se===kc)throw Se;var Me=Fn(29,Se,null,H.mode);return Me.lanes=ee,Me.return=H,Me}finally{}}}var Zr=ax(!0),ox=ax(!1),Ro=pe(null),Dp=pe(0);function lx(n,s){n=ss,Le(Dp,n),Le(Ro,s),ss=n|s.baseLanes}function Gg(){Le(Dp,ss),Le(Ro,Ro.current)}function qg(){ss=Dp.current,ke(Ro),ke(Dp)}var Pn=pe(null),wi=null;function Ls(n){var s=n.alternate;Le(vt,vt.current&1),Le(Pn,n),wi===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(wi=n)}function ux(n){if(n.tag===22){if(Le(vt,vt.current),Le(Pn,n),wi===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(wi=n)}}else Is()}function Is(){Le(vt,vt.current),Le(Pn,Pn.current)}function Qi(n){ke(Pn),wi===n&&(wi=null),ke(vt)}var vt=pe(0);function Tp(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $z=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Vz=e.unstable_scheduleCallback,Fz=e.unstable_NormalPriority,St={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kg(){return{controller:new $z,data:new Map,refCount:0}}function jc(n){n.refCount--,n.refCount===0&&Vz(Fz,function(){n.controller.abort()})}var Lc=null,Qg=0,Mo=0,Oo=null;function Gz(n,s){if(Lc===null){var a=Lc=[];Qg=0,Mo=e0(),Oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qg++,s.then(cx,cx),s}function cx(){if(--Qg===0&&Lc!==null){Oo!==null&&(Oo.status="fulfilled");var n=Lc;Lc=null,Mo=0,Oo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function qz(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var fx=k.S;k.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Gz(n,s),fx!==null&&fx(n,s)};var Wr=pe(null);function Yg(){var n=Wr.current;return n!==null?n:qe.pooledCache}function Rp(n,s){s===null?Le(Wr,Wr.current):Le(Wr,s.pool)}function dx(){var n=Yg();return n===null?null:{parent:St._currentValue,pool:n}}var Hs=0,Re=null,Ve=null,pt=null,Mp=!1,ko=!1,ea=!1,Op=0,Ic=0,No=null,Kz=0;function ct(){throw Error(r(321))}function Jg(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!wn(n[a],s[a]))return!1;return!0}function Xg(n,s,a,l,c,p){return Hs=p,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=n===null||n.memoizedState===null?ta:Us,ea=!1,p=a(l,c),ea=!1,ko&&(p=px(s,a,l,c)),hx(n),p}function hx(n){k.H=xi;var s=Ve!==null&&Ve.next!==null;if(Hs=0,pt=Ve=Re=null,Mp=!1,Ic=0,No=null,s)throw Error(r(300));n===null||xt||(n=n.dependencies,n!==null&&Up(n)&&(xt=!0))}function px(n,s,a,l){Re=n;var c=0;do{if(ko&&(No=null),Ic=0,ko=!1,25<=c)throw Error(r(301));if(c+=1,pt=Ve=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=na,p=s(a,l)}while(ko);return p}function Qz(){var n=k.H,s=n.useState()[0];return s=typeof s.then=="function"?Hc(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(Re.flags|=1024),s}function Zg(){var n=Op!==0;return Op=0,n}function Wg(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function ev(n){if(Mp){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Mp=!1}Hs=0,pt=Ve=Re=null,ko=!1,Ic=Op=0,No=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=n:pt=pt.next=n,pt}function mt(){if(Ve===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=pt===null?Re.memoizedState:pt.next;if(s!==null)pt=s,Ve=n;else{if(n===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?Re.memoizedState=pt=n:pt=pt.next=n}return pt}var kp;kp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hc(n){var s=Ic;return Ic+=1,No===null&&(No=[]),n=ix(No,n,s),s=Re,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?ta:Us),n}function Np(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hc(n);if(n.$$typeof===E)return Bt(n)}throw Error(r(438,String(n)))}function tv(n){var s=null,a=Re.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=kp(),Re.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=G;return s.index++,a}function Yi(n,s){return typeof s=="function"?s(n):s}function Ap(n){var s=mt();return nv(s,Ve,n)}function nv(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=n.baseQueue,p=l.pending;if(p!==null){if(c!==null){var S=c.next;c.next=p.next,p.next=S}s.baseQueue=c=p,l.pending=null}if(p=n.baseState,c===null)n.memoizedState=p;else{s=c.next;var _=S=null,M=null,I=s,Y=!1;do{var te=I.lane&-536870913;if(te!==I.lane?(Ae&te)===te:(Hs&te)===te){var $=I.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),te===Mo&&(Y=!0);else if((Hs&$)===$){I=I.next,$===Mo&&(Y=!0);continue}else te={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(_=M=te,S=p):M=M.next=te,Re.lanes|=$,Qs|=$;te=I.action,ea&&a(p,te),p=I.hasEagerState?I.eagerState:a(p,te)}else $={lane:te,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(_=M=$,S=p):M=M.next=$,Re.lanes|=te,Qs|=te;I=I.next}while(I!==null&&I!==s);if(M===null?S=p:M.next=_,!wn(p,n.memoizedState)&&(xt=!0,Y&&(a=Oo,a!==null)))throw a;n.memoizedState=p,n.baseState=S,n.baseQueue=M,l.lastRenderedState=p}return c===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function iv(n){var s=mt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,c=a.pending,p=s.memoizedState;if(c!==null){a.pending=null;var S=c=c.next;do p=n(p,S.action),S=S.next;while(S!==c);wn(p,s.memoizedState)||(xt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function mx(n,s,a){var l=Re,c=mt(),p=Ie;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var S=!wn((Ve||c).memoizedState,a);if(S&&(c.memoizedState=a,xt=!0),c=c.queue,av(vx.bind(null,l,c,n),[n]),c.getSnapshot!==s||S||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Ao(9,gx.bind(null,l,c,a,s),{destroy:void 0},null),qe===null)throw Error(r(349));p||Hs&60||yx(l,s,a)}return a}function yx(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Re.updateQueue,s===null?(s=kp(),Re.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function gx(n,s,a,l){s.value=a,s.getSnapshot=l,Sx(s)&&bx(n)}function vx(n,s,a){return a(function(){Sx(s)&&bx(n)})}function Sx(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!wn(n,a)}catch{return!0}}function bx(n){var s=js(n,2);s!==null&&Xt(s,n,2)}function sv(n){var s=dn();if(typeof n=="function"){var a=n;if(n=a(),ea){Ns(!0);try{a()}finally{Ns(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},s}function wx(n,s,a,l){return n.baseState=a,nv(n,Ve,typeof l=="function"?l:Yi)}function Yz(n,s,a,l,c){if(Lp(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:c,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};k.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,xx(s,p)):(p.next=a.next,s.pending=a.next=p)}}function xx(n,s){var a=s.action,l=s.payload,c=n.state;if(s.isTransition){var p=k.T,S={};k.T=S;try{var _=a(c,l),M=k.S;M!==null&&M(S,_),Cx(n,s,_)}catch(I){rv(n,s,I)}finally{k.T=p}}else try{p=a(c,l),Cx(n,s,p)}catch(I){rv(n,s,I)}}function Cx(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ex(n,s,l)},function(l){return rv(n,s,l)}):Ex(n,s,a)}function Ex(n,s,a){s.status="fulfilled",s.value=a,_x(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,xx(n,a)))}function rv(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,_x(s),s=s.next;while(s!==l)}n.action=null}function _x(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Dx(n,s){return s}function Tx(n,s){if(Ie){var a=qe.formState;if(a!==null){e:{var l=Re;if(Ie){if(Mt){t:{for(var c=Mt,p=bi;c.nodeType!==8;){if(!p){c=null;break t}if(c=oi(c.nextSibling),c===null){c=null;break t}}p=c.data,c=p==="F!"||p==="F"?c:null}if(c){Mt=oi(c.nextSibling),l=c.data==="F!";break e}}Xr(l)}l=!1}l&&(s=a[0])}}return a=dn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dx,lastRenderedState:s},a.queue=l,a=Gx.bind(null,Re,l),l.dispatch=a,l=sv(!1),p=fv.bind(null,Re,!1,l.queue),l=dn(),c={state:s,dispatch:null,action:n,pending:null},l.queue=c,a=Yz.bind(null,Re,c,p,a),c.dispatch=a,l.memoizedState=n,[s,a,!1]}function Rx(n){var s=mt();return Mx(s,Ve,n)}function Mx(n,s,a){s=nv(n,s,Dx)[0],n=Ap(Yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Hc(s):s;var l=mt(),c=l.queue,p=c.dispatch;return a!==l.memoizedState&&(Re.flags|=2048,Ao(9,Jz.bind(null,c,a),{destroy:void 0},null)),[s,p,n]}function Jz(n,s){n.action=s}function Ox(n){var s=mt(),a=Ve;if(a!==null)return Mx(s,a,n);mt(),s=s.memoizedState,a=mt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Ao(n,s,a,l){return n={tag:n,create:s,inst:a,deps:l,next:null},s=Re.updateQueue,s===null&&(s=kp(),Re.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function kx(){return mt().memoizedState}function zp(n,s,a,l){var c=dn();Re.flags|=n,c.memoizedState=Ao(1|s,a,{destroy:void 0},l===void 0?null:l)}function jp(n,s,a,l){var c=mt();l=l===void 0?null:l;var p=c.memoizedState.inst;Ve!==null&&l!==null&&Jg(l,Ve.memoizedState.deps)?c.memoizedState=Ao(s,a,p,l):(Re.flags|=n,c.memoizedState=Ao(1|s,a,p,l))}function Nx(n,s){zp(8390656,8,n,s)}function av(n,s){jp(2048,8,n,s)}function Ax(n,s){return jp(4,2,n,s)}function zx(n,s){return jp(4,4,n,s)}function jx(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Lx(n,s,a){a=a!=null?a.concat([n]):null,jp(4,4,jx.bind(null,s,n),a)}function ov(){}function Ix(n,s){var a=mt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Jg(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function Hx(n,s){var a=mt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Jg(s,l[1]))return l[0];if(l=n(),ea){Ns(!0);try{n()}finally{Ns(!1)}}return a.memoizedState=[l,s],l}function lv(n,s,a){return a===void 0||Hs&1073741824?n.memoizedState=s:(n.memoizedState=a,n=BC(),Re.lanes|=n,Qs|=n,a)}function Ux(n,s,a,l){return wn(a,s)?a:Ro.current!==null?(n=lv(n,a,l),wn(n,s)||(xt=!0),n):Hs&42?(n=BC(),Re.lanes|=n,Qs|=n,s):(xt=!0,n.memoizedState=a)}function Bx(n,s,a,l,c){var p=ie.p;ie.p=p!==0&&8>p?p:8;var S=k.T,_={};k.T=_,fv(n,!1,s,a);try{var M=c(),I=k.S;if(I!==null&&I(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=qz(M,l);Uc(n,s,Y,_n(n))}else Uc(n,s,l,_n(n))}catch(te){Uc(n,s,{then:function(){},status:"rejected",reason:te},_n())}finally{ie.p=p,k.T=S}}function Xz(){}function uv(n,s,a,l){if(n.tag!==5)throw Error(r(476));var c=Px(n).queue;Bx(n,c,s,ve,a===null?Xz:function(){return $x(n),a(l)})}function Px(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ve},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $x(n){var s=Px(n).next.queue;Uc(n,s,{},_n())}function cv(){return Bt(af)}function Vx(){return mt().memoizedState}function Fx(){return mt().memoizedState}function Zz(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=_n();n=$s(a);var l=Vs(s,n,a);l!==null&&(Xt(l,s,a),$c(l,s,a)),s={cache:Kg()},n.payload=s;return}s=s.return}}function Wz(n,s,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lp(n)?qx(s,a):(a=Bg(n,s,a,l),a!==null&&(Xt(a,n,l),Kx(a,s,l)))}function Gx(n,s,a){var l=_n();Uc(n,s,a,l)}function Uc(n,s,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lp(n))qx(s,c);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var S=s.lastRenderedState,_=p(S,a);if(c.hasEagerState=!0,c.eagerState=_,wn(_,S))return Sp(n,s,c,0),qe===null&&vp(),!1}catch{}finally{}if(a=Bg(n,s,c,l),a!==null)return Xt(a,n,l),Kx(a,s,l),!0}return!1}function fv(n,s,a,l){if(l={lane:2,revertLane:e0(),action:l,hasEagerState:!1,eagerState:null,next:null},Lp(n)){if(s)throw Error(r(479))}else s=Bg(n,a,l,2),s!==null&&Xt(s,n,2)}function Lp(n){var s=n.alternate;return n===Re||s!==null&&s===Re}function qx(n,s){ko=Mp=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Kx(n,s,a){if(a&4194176){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,s1(n,a)}}var xi={readContext:Bt,use:Np,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};xi.useCacheRefresh=ct,xi.useMemoCache=ct,xi.useHostTransitionStatus=ct,xi.useFormState=ct,xi.useActionState=ct,xi.useOptimistic=ct;var ta={readContext:Bt,use:Np,useCallback:function(n,s){return dn().memoizedState=[n,s===void 0?null:s],n},useContext:Bt,useEffect:Nx,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,zp(4194308,4,jx.bind(null,s,n),a)},useLayoutEffect:function(n,s){return zp(4194308,4,n,s)},useInsertionEffect:function(n,s){zp(4,2,n,s)},useMemo:function(n,s){var a=dn();s=s===void 0?null:s;var l=n();if(ea){Ns(!0);try{n()}finally{Ns(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=dn();if(a!==void 0){var c=a(s);if(ea){Ns(!0);try{a(s)}finally{Ns(!1)}}}else c=s;return l.memoizedState=l.baseState=c,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:c},l.queue=n,n=n.dispatch=Wz.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var s=dn();return n={current:n},s.memoizedState=n},useState:function(n){n=sv(n);var s=n.queue,a=Gx.bind(null,Re,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:ov,useDeferredValue:function(n,s){var a=dn();return lv(a,n,s)},useTransition:function(){var n=sv(!1);return n=Bx.bind(null,Re,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Re,c=dn();if(Ie){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),qe===null)throw Error(r(349));Ae&60||yx(l,s,a)}c.memoizedState=a;var p={value:a,getSnapshot:s};return c.queue=p,Nx(vx.bind(null,l,p,n),[n]),l.flags|=2048,Ao(9,gx.bind(null,l,p,a,s),{destroy:void 0},null),a},useId:function(){var n=dn(),s=qe.identifierPrefix;if(Ie){var a=Ki,l=qi;a=(l&~(1<<32-bn(l)-1)).toString(32)+a,s=":"+s+"R"+a,a=Op++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Kz++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return dn().memoizedState=Zz.bind(null,Re)}};ta.useMemoCache=tv,ta.useHostTransitionStatus=cv,ta.useFormState=Tx,ta.useActionState=Tx,ta.useOptimistic=function(n){var s=dn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=fv.bind(null,Re,!0,a),a.dispatch=s,[n,s]};var Us={readContext:Bt,use:Np,useCallback:Ix,useContext:Bt,useEffect:av,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:zx,useMemo:Hx,useReducer:Ap,useRef:kx,useState:function(){return Ap(Yi)},useDebugValue:ov,useDeferredValue:function(n,s){var a=mt();return Ux(a,Ve.memoizedState,n,s)},useTransition:function(){var n=Ap(Yi)[0],s=mt().memoizedState;return[typeof n=="boolean"?n:Hc(n),s]},useSyncExternalStore:mx,useId:Vx};Us.useCacheRefresh=Fx,Us.useMemoCache=tv,Us.useHostTransitionStatus=cv,Us.useFormState=Rx,Us.useActionState=Rx,Us.useOptimistic=function(n,s){var a=mt();return wx(a,Ve,n,s)};var na={readContext:Bt,use:Np,useCallback:Ix,useContext:Bt,useEffect:av,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:zx,useMemo:Hx,useReducer:iv,useRef:kx,useState:function(){return iv(Yi)},useDebugValue:ov,useDeferredValue:function(n,s){var a=mt();return Ve===null?lv(a,n,s):Ux(a,Ve.memoizedState,n,s)},useTransition:function(){var n=iv(Yi)[0],s=mt().memoizedState;return[typeof n=="boolean"?n:Hc(n),s]},useSyncExternalStore:mx,useId:Vx};na.useCacheRefresh=Fx,na.useMemoCache=tv,na.useHostTransitionStatus=cv,na.useFormState=Ox,na.useActionState=Ox,na.useOptimistic=function(n,s){var a=mt();return Ve!==null?wx(a,Ve,n,s):(a.baseState=n,[n,a.queue.dispatch])};function dv(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:Z({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hv={isMounted:function(n){return(n=n._reactInternals)?oe(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var l=_n(),c=$s(l);c.payload=s,a!=null&&(c.callback=a),s=Vs(n,c,l),s!==null&&(Xt(s,n,l),$c(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=_n(),c=$s(l);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=Vs(n,c,l),s!==null&&(Xt(s,n,l),$c(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=_n(),l=$s(a);l.tag=2,s!=null&&(l.callback=s),s=Vs(n,l,a),s!==null&&(Xt(s,n,a),$c(s,n,a))}};function Qx(n,s,a,l,c,p,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,S):s.prototype&&s.prototype.isPureReactComponent?!Dc(a,l)||!Dc(c,p):!0}function Yx(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&hv.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=Z({},a));for(var c in n)a[c]===void 0&&(a[c]=n[c])}return a}var Ip=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Jx(n){Ip(n)}function Xx(n){console.error(n)}function Zx(n){Ip(n)}function Hp(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Wx(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pv(n,s,a){return a=$s(a),a.tag=3,a.payload={element:null},a.callback=function(){Hp(n,s)},a}function eC(n){return n=$s(n),n.tag=3,n}function tC(n,s,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var p=l.value;n.payload=function(){return c(p)},n.callback=function(){Wx(s,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Wx(s,a,l),typeof c!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function ej(n,s,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Pc(s,a,c,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return wi===null?Yv():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Fg?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Xv(n,l,c)),!1;case 22:return a.flags|=65536,l===Fg?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Xv(n,l,c)),!1}throw Error(r(435,a.tag))}return Xv(n,l,c),Yv(),!1}if(Ie)return s=Pn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=c,l!==Vg&&(n=Error(r(422),{cause:l}),Oc(Hn(n,a)))):(l!==Vg&&(s=Error(r(423),{cause:l}),Oc(Hn(s,a))),n=n.current.alternate,n.flags|=65536,c&=-c,n.lanes|=c,l=Hn(l,a),c=pv(n.stateNode,l,c),Mv(n,c),ot!==4&&(ot=2)),!1;var p=Error(r(520),{cause:l});if(p=Hn(p,a),Jc===null?Jc=[p]:Jc.push(p),ot!==4&&(ot=2),s===null)return!0;l=Hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=c&-c,a.lanes|=n,n=pv(a.stateNode,l,n),Mv(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))))return a.flags|=65536,c&=-c,a.lanes|=c,c=eC(c),tC(c,n,a,l),Mv(a,c),!1}a=a.return}while(a!==null);return!1}var nC=Error(r(461)),xt=!1;function Ot(n,s,a,l){s.child=n===null?ox(s,null,a,l):Zr(s,n.child,a,l)}function iC(n,s,a,l,c){a=a.render;var p=s.ref;if("ref"in l){var S={};for(var _ in l)_!=="ref"&&(S[_]=l[_])}else S=l;return ra(s),l=Xg(n,s,a,S,p,c),_=Zg(),n!==null&&!xt?(Wg(n,s,c),Ji(n,s,c)):(Ie&&_&&Pg(s),s.flags|=1,Ot(n,s,l,c),s.child)}function sC(n,s,a,l,c){if(n===null){var p=a.type;return typeof p=="function"&&!Iv(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,rC(n,s,p,l,c)):(n=Vp(a.type,null,l,s,s.mode,c),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Cv(n,c)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:Dc,a(S,l)&&n.ref===s.ref)return Ji(n,s,c)}return s.flags|=1,n=Ks(p,l),n.ref=s.ref,n.return=s,s.child=n}function rC(n,s,a,l,c){if(n!==null){var p=n.memoizedProps;if(Dc(p,l)&&n.ref===s.ref)if(xt=!1,s.pendingProps=l=p,Cv(n,c))n.flags&131072&&(xt=!0);else return s.lanes=n.lanes,Ji(n,s,c)}return mv(n,s,a,l,c)}function aC(n,s,a){var l=s.pendingProps,c=l.children,p=(s.stateNode._pendingVisibility&2)!==0,S=n!==null?n.memoizedState:null;if(Bc(n,s),l.mode==="hidden"||p){if(s.flags&128){if(l=S!==null?S.baseLanes|a:a,n!==null){for(c=s.child=n.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return oC(n,s,l,a)}if(a&536870912)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rp(s,S!==null?S.cachePool:null),S!==null?lx(s,S):Gg(),ux(s);else return s.lanes=s.childLanes=536870912,oC(n,s,S!==null?S.baseLanes|a:a,a)}else S!==null?(Rp(s,S.cachePool),lx(s,S),Is(),s.memoizedState=null):(n!==null&&Rp(s,null),Gg(),Is());return Ot(n,s,c,a),s.child}function oC(n,s,a,l){var c=Yg();return c=c===null?null:{parent:St._currentValue,pool:c},s.memoizedState={baseLanes:a,cachePool:c},n!==null&&Rp(s,null),Gg(),ux(s),n!==null&&Pc(n,s,l,!0),null}function Bc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=2097664)}}function mv(n,s,a,l,c){return ra(s),a=Xg(n,s,a,l,void 0,c),l=Zg(),n!==null&&!xt?(Wg(n,s,c),Ji(n,s,c)):(Ie&&l&&Pg(s),s.flags|=1,Ot(n,s,a,c),s.child)}function lC(n,s,a,l,c,p){return ra(s),s.updateQueue=null,a=px(s,l,a,c),hx(n),l=Zg(),n!==null&&!xt?(Wg(n,s,p),Ji(n,s,p)):(Ie&&l&&Pg(s),s.flags|=1,Ot(n,s,a,p),s.child)}function uC(n,s,a,l,c){if(ra(s),s.stateNode===null){var p=Eo,S=a.contextType;typeof S=="object"&&S!==null&&(p=Bt(S)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hv,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},Tv(s),S=a.contextType,p.context=typeof S=="object"&&S!==null?Bt(S):Eo,p.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(dv(s,a,S,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&hv.enqueueReplaceState(p,p.state,null),Fc(s,l,p,c),Vc(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var _=s.memoizedProps,M=ia(a,_);p.props=M;var I=p.context,Y=a.contextType;S=Eo,typeof Y=="object"&&Y!==null&&(S=Bt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||I!==S)&&Yx(s,p,l,S),Ps=!1;var $=s.memoizedState;p.state=$,Fc(s,l,p,c),Vc(),I=s.memoizedState,_||$!==I||Ps?(typeof te=="function"&&(dv(s,a,te,l),I=s.memoizedState),(M=Ps||Qx(s,a,M,l,$,I,S))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=I),p.props=l,p.state=I,p.context=S,l=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Rv(n,s),S=s.memoizedProps,Y=ia(a,S),p.props=Y,te=s.pendingProps,$=p.context,I=a.contextType,M=Eo,typeof I=="object"&&I!==null&&(M=Bt(I)),_=a.getDerivedStateFromProps,(I=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==te||$!==M)&&Yx(s,p,l,M),Ps=!1,$=s.memoizedState,p.state=$,Fc(s,l,p,c),Vc();var K=s.memoizedState;S!==te||$!==K||Ps||n!==null&&n.dependencies!==null&&Up(n.dependencies)?(typeof _=="function"&&(dv(s,a,_,l),K=s.memoizedState),(Y=Ps||Qx(s,a,Y,l,$,K,M)||n!==null&&n.dependencies!==null&&Up(n.dependencies))?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),p.props=l,p.state=K,p.context=M,l=Y):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,Bc(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=Zr(s,n.child,null,c),s.child=Zr(s,null,a,c)):Ot(n,s,a,c),s.memoizedState=p.state,n=s.child):n=Ji(n,s,c),n}function cC(n,s,a,l){return Mc(),s.flags|=256,Ot(n,s,a,l),s.child}var yv={dehydrated:null,treeContext:null,retryLane:0};function gv(n){return{baseLanes:n,cachePool:dx()}}function vv(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Gn),n}function fC(n,s,a){var l=s.pendingProps,c=!1,p=(s.flags&128)!==0,S;if((S=p)||(S=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),S&&(c=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ie){if(c?Ls(s):Is(),Ie){var _=Mt,M;if(M=_){e:{for(M=_,_=bi;M.nodeType!==8;){if(!_){_=null;break e}if(M=oi(M.nextSibling),M===null){_=null;break e}}_=M}_!==null?(s.memoizedState={dehydrated:_,treeContext:Yr!==null?{id:qi,overflow:Ki}:null,retryLane:536870912},M=Fn(18,null,null,0),M.stateNode=_,M.return=s,s.child=M,Jt=s,Mt=null,M=!0):M=!1}M||Xr(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?s.lanes=16:s.lanes=536870912,null;Qi(s)}return _=l.children,l=l.fallback,c?(Is(),c=s.mode,_=bv({mode:"hidden",children:_},c),l=oa(l,c,a,null),_.return=s,l.return=s,_.sibling=l,s.child=_,c=s.child,c.memoizedState=gv(a),c.childLanes=vv(n,S,a),s.memoizedState=yv,l):(Ls(s),Sv(s,_))}if(M=n.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(p)s.flags&256?(Ls(s),s.flags&=-257,s=wv(n,s,a)):s.memoizedState!==null?(Is(),s.child=n.child,s.flags|=128,s=null):(Is(),c=l.fallback,_=s.mode,l=bv({mode:"visible",children:l.children},_),c=oa(c,_,a,null),c.flags|=2,l.return=s,c.return=s,l.sibling=c,s.child=l,Zr(s,n.child,null,a),l=s.child,l.memoizedState=gv(a),l.childLanes=vv(n,S,a),s.memoizedState=yv,s=c);else if(Ls(s),_.data==="$!"){if(S=_.nextSibling&&_.nextSibling.dataset,S)var I=S.dgst;S=I,l=Error(r(419)),l.stack="",l.digest=S,Oc({value:l,source:null,stack:null}),s=wv(n,s,a)}else if(xt||Pc(n,s,a,!1),S=(a&n.childLanes)!==0,xt||S){if(S=qe,S!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(S.suspendedLanes|a)?0:l,l!==0&&l!==M.retryLane)throw M.retryLane=l,js(n,l),Xt(S,n,l),nC}_.data==="$?"||Yv(),s=wv(n,s,a)}else _.data==="$?"?(s.flags|=128,s.child=n.child,s=mj.bind(null,n),_._reactRetry=s,s=null):(n=M.treeContext,Mt=oi(_.nextSibling),Jt=s,Ie=!0,ri=null,bi=!1,n!==null&&(Un[Bn++]=qi,Un[Bn++]=Ki,Un[Bn++]=Yr,qi=n.id,Ki=n.overflow,Yr=s),s=Sv(s,l.children),s.flags|=4096);return s}return c?(Is(),c=l.fallback,_=s.mode,M=n.child,I=M.sibling,l=Ks(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&31457280,I!==null?c=Ks(I,c):(c=oa(c,_,a,null),c.flags|=2),c.return=s,l.return=s,l.sibling=c,s.child=l,l=c,c=s.child,_=n.child.memoizedState,_===null?_=gv(a):(M=_.cachePool,M!==null?(I=St._currentValue,M=M.parent!==I?{parent:I,pool:I}:M):M=dx(),_={baseLanes:_.baseLanes|a,cachePool:M}),c.memoizedState=_,c.childLanes=vv(n,S,a),s.memoizedState=yv,l):(Ls(s),a=n.child,n=a.sibling,a=Ks(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=a,s.memoizedState=null,a)}function Sv(n,s){return s=bv({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function bv(n,s){return IC(n,s,0,null)}function wv(n,s,a){return Zr(s,n.child,null,a),n=Sv(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function dC(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),_v(n.return,s,a)}function xv(n,s,a,l,c){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c)}function hC(n,s,a){var l=s.pendingProps,c=l.revealOrder,p=l.tail;if(Ot(n,s,l.children,a),l=vt.current,l&2)l=l&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dC(n,a,s);else if(n.tag===19)dC(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Le(vt,l),c){case"forwards":for(a=s.child,c=null;a!==null;)n=a.alternate,n!==null&&Tp(n)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),xv(s,!1,c,a,p);break;case"backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(n=c.alternate,n!==null&&Tp(n)===null){s.child=c;break}n=c.sibling,c.sibling=a,a=c,c=n}xv(s,!0,a,null,p);break;case"together":xv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ji(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Qs|=s.lanes,!(a&s.childLanes))if(n!==null){if(Pc(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ks(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ks(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Cv(n,s){return n.lanes&s?!0:(n=n.dependencies,!!(n!==null&&Up(n)))}function tj(n,s,a){switch(s.tag){case 3:Qt(s,s.stateNode.containerInfo),Bs(s,St,n.memoizedState.cache),Mc();break;case 27:case 5:ii(s);break;case 4:Qt(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(s),s.flags|=128,null):a&s.child.childLanes?fC(n,s,a):(Ls(s),n=Ji(n,s,a),n!==null?n.sibling:null);Ls(s);break;case 19:var c=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Pc(n,s,a,!1),l=(a&s.childLanes)!==0),c){if(l)return hC(n,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(vt,vt.current),l)break;return null;case 22:case 23:return s.lanes=0,aC(n,s,a);case 24:Bs(s,St,n.memoizedState.cache)}return Ji(n,s,a)}function pC(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)xt=!0;else{if(!Cv(n,a)&&!(s.flags&128))return xt=!1,tj(n,s,a);xt=!!(n.flags&131072)}else xt=!1,Ie&&s.flags&1048576&&Z1(s,xp,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,c=l._init;if(l=c(l._payload),s.type=l,typeof l=="function")Iv(l)?(n=ia(l,n),s.tag=1,s=uC(null,s,l,n,a)):(s.tag=0,s=mv(null,s,l,n,a));else{if(l!=null){if(c=l.$$typeof,c===R){s.tag=11,s=iC(null,s,l,n,a);break e}else if(c===j){s.tag=14,s=sC(null,s,l,n,a);break e}}throw s=F(l)||l,Error(r(306,s,""))}}return s;case 0:return mv(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,c=ia(l,s.pendingProps),uC(n,s,l,c,a);case 3:e:{if(Qt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));var p=s.pendingProps;c=s.memoizedState,l=c.element,Rv(n,s),Fc(s,p,null,a);var S=s.memoizedState;if(p=S.cache,Bs(s,St,p),p!==c.cache&&Dv(s,[St],a,!0),Vc(),p=S.element,c.isDehydrated)if(c={element:p,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=cC(n,s,p,a);break e}else if(p!==l){l=Hn(Error(r(424)),s),Oc(l),s=cC(n,s,p,a);break e}else for(Mt=oi(s.stateNode.containerInfo.firstChild),Jt=s,Ie=!0,ri=null,bi=!0,a=ox(s,null,p,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mc(),p===l){s=Ji(n,s,a);break e}Ot(n,s,p,a)}s=s.child}return s;case 26:return Bc(n,s),n===null?(a=gE(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ie||(a=s.type,n=s.pendingProps,l=tm(st.current).createElement(a),l[Ut]=s,l[cn]=n,kt(l,a,n),wt(l),s.stateNode=l):s.memoizedState=gE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ii(s),n===null&&Ie&&(l=s.stateNode=pE(s.type,s.pendingProps,st.current),Jt=s,bi=!0,Mt=oi(l.firstChild)),l=s.pendingProps.children,n!==null||Ie?Ot(n,s,l,a):s.child=Zr(s,null,l,a),Bc(n,s),s.child;case 5:return n===null&&Ie&&((c=l=Mt)&&(l=kj(l,s.type,s.pendingProps,bi),l!==null?(s.stateNode=l,Jt=s,Mt=oi(l.firstChild),bi=!1,c=!0):c=!1),c||Xr(s)),ii(s),c=s.type,p=s.pendingProps,S=n!==null?n.memoizedProps:null,l=p.children,u0(c,p)?l=null:S!==null&&u0(c,S)&&(s.flags|=32),s.memoizedState!==null&&(c=Xg(n,s,Qz,null,null,a),af._currentValue=c),Bc(n,s),Ot(n,s,l,a),s.child;case 6:return n===null&&Ie&&((n=a=Mt)&&(a=Nj(a,s.pendingProps,bi),a!==null?(s.stateNode=a,Jt=s,Mt=null,n=!0):n=!1),n||Xr(s)),null;case 13:return fC(n,s,a);case 4:return Qt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Zr(s,null,l,a):Ot(n,s,l,a),s.child;case 11:return iC(n,s,s.type,s.pendingProps,a);case 7:return Ot(n,s,s.pendingProps,a),s.child;case 8:return Ot(n,s,s.pendingProps.children,a),s.child;case 12:return Ot(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),Ot(n,s,l.children,a),s.child;case 9:return c=s.type._context,l=s.pendingProps.children,ra(s),c=Bt(c),l=l(c),s.flags|=1,Ot(n,s,l,a),s.child;case 14:return sC(n,s,s.type,s.pendingProps,a);case 15:return rC(n,s,s.type,s.pendingProps,a);case 19:return hC(n,s,a);case 22:return aC(n,s,a);case 24:return ra(s),l=Bt(St),n===null?(c=Yg(),c===null&&(c=qe,p=Kg(),c.pooledCache=p,p.refCount++,p!==null&&(c.pooledCacheLanes|=a),c=p),s.memoizedState={parent:l,cache:c},Tv(s),Bs(s,St,c)):(n.lanes&a&&(Rv(n,s),Fc(s,null,null,a),Vc()),c=n.memoizedState,p=s.memoizedState,c.parent!==l?(c={parent:l,cache:l},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),Bs(s,St,l)):(l=p.cache,Bs(s,St,l),l!==c.cache&&Dv(s,[St],a,!0))),Ot(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Ev=pe(null),sa=null,Xi=null;function Bs(n,s,a){Le(Ev,s._currentValue),s._currentValue=a}function Zi(n){n._currentValue=Ev.current,ke(Ev)}function _v(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Dv(n,s,a,l){var c=n.child;for(c!==null&&(c.return=n);c!==null;){var p=c.dependencies;if(p!==null){var S=c.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=c;for(var M=0;M<s.length;M++)if(_.context===s[M]){p.lanes|=a,_=p.alternate,_!==null&&(_.lanes|=a),_v(p.return,a,n),l||(S=null);break e}p=_.next}}else if(c.tag===18){if(S=c.return,S===null)throw Error(r(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),_v(S,a,n),S=null}else S=c.child;if(S!==null)S.return=c;else for(S=c;S!==null;){if(S===n){S=null;break}if(c=S.sibling,c!==null){c.return=S.return,S=c;break}S=S.return}c=S}}function Pc(n,s,a,l){n=null;for(var c=s,p=!1;c!==null;){if(!p){if(c.flags&524288)p=!0;else if(c.flags&262144)break}if(c.tag===10){var S=c.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var _=c.type;wn(c.pendingProps.value,S.value)||(n!==null?n.push(_):n=[_])}}else if(c===Rt.current){if(S=c.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(n!==null?n.push(af):n=[af])}c=c.return}n!==null&&Dv(s,n,a,l),s.flags|=262144}function Up(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ra(n){sa=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bt(n){return mC(sa,n)}function Bp(n,s){return sa===null&&ra(n),mC(n,s)}function mC(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(r(308));Xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xi=Xi.next=s;return a}var Ps=!1;function Tv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rv(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $s(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,nt&2){var c=l.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),l.pending=s,s=bp(n),J1(n,null,a),s}return Sp(n,l,s,a),bp(n)}function $c(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,s1(n,a)}}function Mv(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?c=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?c=p=s:p=p.next=s}else c=p=s;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ov=!1;function Vc(){if(Ov){var n=Oo;if(n!==null)throw n}}function Fc(n,s,a,l){Ov=!1;var c=n.updateQueue;Ps=!1;var p=c.firstBaseUpdate,S=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var M=_,I=M.next;M.next=null,S===null?p=I:S.next=I,S=M;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,_=Y.lastBaseUpdate,_!==S&&(_===null?Y.firstBaseUpdate=I:_.next=I,Y.lastBaseUpdate=M))}if(p!==null){var te=c.baseState;S=0,Y=I=M=null,_=p;do{var $=_.lane&-536870913,K=$!==_.lane;if(K?(Ae&$)===$:(l&$)===$){$!==0&&$===Mo&&(Ov=!0),Y!==null&&(Y=Y.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var me=n,_e=_;$=s;var lt=a;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){te=me.call(lt,te,$);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,$=typeof me=="function"?me.call(lt,te,$):me,$==null)break e;te=Z({},te,$);break e;case 2:Ps=!0}}$=_.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=c.callbacks,K===null?c.callbacks=[$]:K.push($))}else K={lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Y===null?(I=Y=K,M=te):Y=Y.next=K,S|=$;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;K=_,_=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);Y===null&&(M=te),c.baseState=M,c.firstBaseUpdate=I,c.lastBaseUpdate=Y,p===null&&(c.shared.lanes=0),Qs|=S,n.lanes=S,n.memoizedState=te}}function yC(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function gC(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)yC(a[n],s)}function Gc(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&n)===n){l=void 0;var p=a.create,S=a.inst;l=p(),S.destroy=l}a=a.next}while(a!==c)}}catch(_){Ge(s,s.return,_)}}function Fs(n,s,a){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&n)===n){var S=l.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,c=s;var M=a;try{_()}catch(I){Ge(c,M,I)}}}l=l.next}while(l!==p)}}catch(I){Ge(s,s.return,I)}}function vC(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{gC(s,a)}catch(l){Ge(n,n.return,l)}}}function SC(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ge(n,s,l)}}function aa(n,s){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(p){Ge(n,s,p)}}function xn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ge(n,s,c)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ge(n,s,c)}else a.current=null}function bC(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ge(n,n.return,c)}}function wC(n,s,a){try{var l=n.stateNode;Dj(l,n.type,a,s),l[cn]=s}catch(c){Ge(n,n.return,c)}}function xC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function kv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nv(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=em));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Nv(n,s,a),n=n.sibling;n!==null;)Nv(n,s,a),n=n.sibling}function Pp(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Pp(n,s,a),n=n.sibling;n!==null;)Pp(n,s,a),n=n.sibling}var Wi=!1,at=!1,Av=!1,CC=typeof WeakSet=="function"?WeakSet:Set,Ct=null,EC=!1;function nj(n,s){if(n=n.containerInfo,o0=om,n=P1(n),jg(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,_=-1,M=-1,I=0,Y=0,te=n,$=null;t:for(;;){for(var K;te!==a||c!==0&&te.nodeType!==3||(_=S+c),te!==p||l!==0&&te.nodeType!==3||(M=S+l),te.nodeType===3&&(S+=te.nodeValue.length),(K=te.firstChild)!==null;)$=te,te=K;for(;;){if(te===n)break t;if($===a&&++I===c&&(_=S),$===p&&++Y===l&&(M=S),(K=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=K}a=_===-1||M===-1?null:{start:_,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(l0={focusedElem:n,selectionRange:a},om=!1,Ct=s;Ct!==null;)if(s=Ct,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ct=n;else for(;Ct!==null;){switch(s=Ct,p=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&p!==null){n=void 0,a=s,c=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var me=ia(a.type,c,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(me,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Ge(a,a.return,_e)}}break;case 3:if(n&1024){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)d0(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":d0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ct=n;break}Ct=s.return}return me=EC,EC=!1,me}function _C(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ts(n,a),l&4&&Gc(5,a);break;case 1:if(ts(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){Ge(a,a.return,_)}else{var c=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(c,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ge(a,a.return,_)}}l&64&&vC(a),l&512&&aa(a,a.return);break;case 3:if(ts(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gC(l,n)}catch(_){Ge(a,a.return,_)}}break;case 26:ts(n,a),l&512&&aa(a,a.return);break;case 27:case 5:ts(n,a),s===null&&l&4&&bC(a),l&512&&aa(a,a.return);break;case 12:ts(n,a);break;case 13:ts(n,a),l&4&&RC(n,a);break;case 22:if(c=a.memoizedState!==null||Wi,!c){s=s!==null&&s.memoizedState!==null||at;var p=Wi,S=at;Wi=c,(at=s)&&!S?Gs(n,a,(a.subtreeFlags&8772)!==0):ts(n,a),Wi=p,at=S}l&512&&(a.memoizedProps.mode==="manual"?aa(a,a.return):xn(a,a.return));break;default:ts(n,a)}}function DC(n){var s=n.alternate;s!==null&&(n.alternate=null,DC(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Sg(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Cn=!1;function es(n,s,a){for(a=a.child;a!==null;)TC(n,s,a),a=a.sibling}function TC(n,s,a){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(pc,a)}catch{}switch(a.tag){case 26:at||xn(a,s),es(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||xn(a,s);var l=yt,c=Cn;for(yt=a.stateNode,es(n,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Sg(a),yt=l,Cn=c;break;case 5:at||xn(a,s);case 6:c=yt;var p=Cn;if(yt=null,es(n,s,a),yt=c,Cn=p,yt!==null)if(Cn)try{n=yt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(S){Ge(a,s,S)}else try{yt.removeChild(a.stateNode)}catch(S){Ge(a,s,S)}break;case 18:yt!==null&&(Cn?(s=yt,a=a.stateNode,s.nodeType===8?f0(s.parentNode,a):s.nodeType===1&&f0(s,a),cf(s)):f0(yt,a.stateNode));break;case 4:l=yt,c=Cn,yt=a.stateNode.containerInfo,Cn=!0,es(n,s,a),yt=l,Cn=c;break;case 0:case 11:case 14:case 15:at||Fs(2,a,s),at||Fs(4,a,s),es(n,s,a);break;case 1:at||(xn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&SC(a,s,l)),es(n,s,a);break;case 21:es(n,s,a);break;case 22:at||xn(a,s),at=(l=at)||a.memoizedState!==null,es(n,s,a),at=l;break;default:es(n,s,a)}}function RC(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cf(n)}catch(a){Ge(s,s.return,a)}}function ij(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new CC),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new CC),s;default:throw Error(r(435,n.tag))}}function zv(n,s){var a=ij(n);s.forEach(function(l){var c=yj.bind(null,n,l);a.has(l)||(a.add(l),l.then(c,c))})}function $n(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],p=n,S=s,_=S;e:for(;_!==null;){switch(_.tag){case 27:case 5:yt=_.stateNode,Cn=!1;break e;case 3:yt=_.stateNode.containerInfo,Cn=!0;break e;case 4:yt=_.stateNode.containerInfo,Cn=!0;break e}_=_.return}if(yt===null)throw Error(r(160));TC(p,S,c),yt=null,Cn=!1,p=c.alternate,p!==null&&(p.return=null),c.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)MC(s,n),s=s.sibling}var ai=null;function MC(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(s,n),Vn(n),l&4&&(Fs(3,n,n.return),Gc(3,n),Fs(5,n,n.return));break;case 1:$n(s,n),Vn(n),l&512&&(at||a===null||xn(a,a.return)),l&64&&Wi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ai;if($n(s,n),Vn(n),l&512&&(at||a===null||xn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":p=c.getElementsByTagName("title")[0],(!p||p[gc]||p[Ut]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=c.createElement(l),c.head.insertBefore(p,c.querySelector("head > title"))),kt(p,l,a),p[Ut]=n,wt(p),l=p;break e;case"link":var S=bE("link","href",c).get(l+(a.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(_,1);break t}}p=c.createElement(l),kt(p,l,a),c.head.appendChild(p);break;case"meta":if(S=bE("meta","content",c).get(l+(a.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(_,1);break t}}p=c.createElement(l),kt(p,l,a),c.head.appendChild(p);break;default:throw Error(r(468,l))}p[Ut]=n,wt(p),l=p}n.stateNode=l}else wE(c,n.type,n.stateNode);else n.stateNode=SE(c,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?wE(c,n.type,n.stateNode):SE(c,l,n.memoizedProps)):l===null&&n.stateNode!==null&&wC(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){c=n.stateNode,p=n.memoizedProps;try{for(var M=c.firstChild;M;){var I=M.nextSibling,Y=M.nodeName;M[gc]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&M.rel.toLowerCase()==="stylesheet"||c.removeChild(M),M=I}for(var te=n.type,$=c.attributes;$.length;)c.removeAttributeNode($[0]);kt(c,te,p),c[Ut]=n,c[cn]=p}catch(me){Ge(n,n.return,me)}}case 5:if($n(s,n),Vn(n),l&512&&(at||a===null||xn(a,a.return)),n.flags&32){c=n.stateNode;try{go(c,"")}catch(me){Ge(n,n.return,me)}}l&4&&n.stateNode!=null&&(c=n.memoizedProps,wC(n,c,a!==null?a.memoizedProps:c)),l&1024&&(Av=!0);break;case 6:if($n(s,n),Vn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(me){Ge(n,n.return,me)}}break;case 3:if(sm=null,c=ai,ai=nm(s.containerInfo),$n(s,n),ai=c,Vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cf(s.containerInfo)}catch(me){Ge(n,n.return,me)}Av&&(Av=!1,OC(n));break;case 4:l=ai,ai=nm(n.stateNode.containerInfo),$n(s,n),Vn(n),ai=l;break;case 12:$n(s,n),Vn(n);break;case 13:$n(s,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vv=zn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zv(n,l)));break;case 22:if(l&512&&(at||a===null||xn(a,a.return)),M=n.memoizedState!==null,I=a!==null&&a.memoizedState!==null,Y=Wi,te=at,Wi=Y||M,at=te||I,$n(s,n),at=te,Wi=Y,Vn(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,l&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=Wi||at,a===null||I||s||zo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){I=a=s;try{if(c=I.stateNode,M)p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{S=I.stateNode,_=I.memoizedProps.style;var K=_!=null&&_.hasOwnProperty("display")?_.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){Ge(I,I.return,me)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=M?"":I.memoizedProps}catch(me){Ge(I,I.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zv(n,a))));break;case 19:$n(s,n),Vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zv(n,l)));break;case 21:break;default:$n(s,n),Vn(n)}}function Vn(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(xC(a)){var l=a;break e}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var c=l.stateNode,p=kv(n);Pp(n,p,c);break;case 5:var S=l.stateNode;l.flags&32&&(go(S,""),l.flags&=-33);var _=kv(n);Pp(n,_,S);break;case 3:case 4:var M=l.stateNode.containerInfo,I=kv(n);Nv(n,I,M);break;default:throw Error(r(161))}}}catch(Y){Ge(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function OC(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;OC(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ts(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_C(n,s.alternate,s),s=s.sibling}function zo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Fs(4,s,s.return),zo(s);break;case 1:xn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&SC(s,s.return,a),zo(s);break;case 26:case 27:case 5:xn(s,s.return),zo(s);break;case 22:xn(s,s.return),s.memoizedState===null&&zo(s);break;default:zo(s)}n=n.sibling}}function Gs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,c=n,p=s,S=p.flags;switch(p.tag){case 0:case 11:case 15:Gs(c,p,a),Gc(4,p);break;case 1:if(Gs(c,p,a),l=p,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ge(l,l.return,I)}if(l=p,c=l.updateQueue,c!==null){var _=l.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)yC(M[c],_)}catch(I){Ge(l,l.return,I)}}a&&S&64&&vC(p),aa(p,p.return);break;case 26:case 27:case 5:Gs(c,p,a),a&&l===null&&S&4&&bC(p),aa(p,p.return);break;case 12:Gs(c,p,a);break;case 13:Gs(c,p,a),a&&S&4&&RC(c,p);break;case 22:p.memoizedState===null&&Gs(c,p,a),aa(p,p.return);break;default:Gs(c,p,a)}s=s.sibling}}function jv(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&jc(a))}function Lv(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&jc(n))}function qs(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kC(n,s,a,l),s=s.sibling}function kC(n,s,a,l){var c=s.flags;switch(s.tag){case 0:case 11:case 15:qs(n,s,a,l),c&2048&&Gc(9,s);break;case 3:qs(n,s,a,l),c&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&jc(n)));break;case 12:if(c&2048){qs(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Ge(s,s.return,M)}}else qs(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?qs(n,s,a,l):qc(n,s):p._visibility&4?qs(n,s,a,l):(p._visibility|=4,jo(n,s,a,l,(s.subtreeFlags&10256)!==0)),c&2048&&jv(s.alternate,s);break;case 24:qs(n,s,a,l),c&2048&&Lv(s.alternate,s);break;default:qs(n,s,a,l)}}function jo(n,s,a,l,c){for(c=c&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=n,S=s,_=a,M=l,I=S.flags;switch(S.tag){case 0:case 11:case 15:jo(p,S,_,M,c),Gc(8,S);break;case 23:break;case 22:var Y=S.stateNode;S.memoizedState!==null?Y._visibility&4?jo(p,S,_,M,c):qc(p,S):(Y._visibility|=4,jo(p,S,_,M,c)),c&&I&2048&&jv(S.alternate,S);break;case 24:jo(p,S,_,M,c),c&&I&2048&&Lv(S.alternate,S);break;default:jo(p,S,_,M,c)}s=s.sibling}}function qc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,c=l.flags;switch(l.tag){case 22:qc(a,l),c&2048&&jv(l.alternate,l);break;case 24:qc(a,l),c&2048&&Lv(l.alternate,l);break;default:qc(a,l)}s=s.sibling}}var Kc=8192;function Lo(n){if(n.subtreeFlags&Kc)for(n=n.child;n!==null;)NC(n),n=n.sibling}function NC(n){switch(n.tag){case 26:Lo(n),n.flags&Kc&&n.memoizedState!==null&&Gj(ai,n.memoizedState,n.memoizedProps);break;case 5:Lo(n);break;case 3:case 4:var s=ai;ai=nm(n.stateNode.containerInfo),Lo(n),ai=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Kc,Kc=16777216,Lo(n),Kc=s):Lo(n));break;default:Lo(n)}}function AC(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Qc(n){var s=n.deletions;if(n.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ct=l,jC(l,n)}AC(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zC(n),n=n.sibling}function zC(n){switch(n.tag){case 0:case 11:case 15:Qc(n),n.flags&2048&&Fs(9,n,n.return);break;case 3:Qc(n);break;case 12:Qc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,$p(n)):Qc(n);break;default:Qc(n)}}function $p(n){var s=n.deletions;if(n.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ct=l,jC(l,n)}AC(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Fs(8,s,s.return),$p(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,$p(s));break;default:$p(s)}n=n.sibling}}function jC(n,s){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:Fs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jc(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ct=l;else e:for(a=n;Ct!==null;){l=Ct;var c=l.sibling,p=l.return;if(DC(l),l===a){Ct=null;break e}if(c!==null){c.return=p,Ct=c;break e}Ct=p}}}function sj(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,s,a,l){return new sj(n,s,a,l)}function Iv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ks(n,s){var a=n.alternate;return a===null?(a=Fn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function LC(n,s){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Vp(n,s,a,l,c,p){var S=0;if(l=n,typeof n=="function")Iv(n)&&(S=1);else if(typeof n=="string")S=Vj(n,a,We.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return oa(a.children,c,p,s);case y:S=8,c|=24;break;case g:return n=Fn(12,a,s,c|2),n.elementType=g,n.lanes=p,n;case A:return n=Fn(13,a,s,c),n.elementType=A,n.lanes=p,n;case z:return n=Fn(19,a,s,c),n.elementType=z,n.lanes=p,n;case X:return IC(a,c,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v:case E:S=10;break e;case b:S=9;break e;case R:S=11;break e;case j:S=14;break e;case U:S=16,l=null;break e}S=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Fn(S,a,s,c),s.elementType=n,s.type=l,s.lanes=p,s}function oa(n,s,a,l){return n=Fn(7,n,l,s),n.lanes=a,n}function IC(n,s,a,l){n=Fn(22,n,l,s),n.elementType=X,n.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=c._current;if(p===null)throw Error(r(456));if(!(c._pendingVisibility&2)){var S=js(p,2);S!==null&&(c._pendingVisibility|=2,Xt(S,p,2))}},attach:function(){var p=c._current;if(p===null)throw Error(r(456));if(c._pendingVisibility&2){var S=js(p,2);S!==null&&(c._pendingVisibility&=-3,Xt(S,p,2))}}};return n.stateNode=c,n}function Hv(n,s,a){return n=Fn(6,n,null,s),n.lanes=a,n}function Uv(n,s,a){return s=Fn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function ns(n){n.flags|=4}function HC(n,s){if(s.type!=="stylesheet"||s.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!xE(s)){if(s=Pn.current,s!==null&&((Ae&4194176)===Ae?wi!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||s!==wi))throw Nc=Fg,tx;n.flags|=8192}}function Fp(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?n1():536870912,n.lanes|=s,Ho|=s)}function Yc(n,s){if(!Ie)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var c=n.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function rj(n,s,a){var l=s.pendingProps;switch($g(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zi(St),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Rc(s)?ns(s):n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ri!==null&&(Kv(ri),ri=null))),tt(s),null;case 26:return a=s.memoizedState,n===null?(ns(s),a!==null?(tt(s),HC(s,a)):(tt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ns(s),tt(s),HC(s,a)):(tt(s),s.flags&=-16777217):(n.memoizedProps!==l&&ns(s),tt(s),s.flags&=-16777217),null;case 27:An(s),a=st.current;var c=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}n=We.current,Rc(s)?W1(s):(n=pE(c,l,a),s.stateNode=n,ns(s))}return tt(s),null;case 5:if(An(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}if(n=We.current,Rc(s))W1(s);else{switch(c=tm(st.current),n){case 1:n=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}n[Ut]=s,n[cn]=l;e:for(c=s.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s.stateNode=n;e:switch(kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ns(s)}}return tt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=st.current,Rc(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,c=Jt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}n[Ut]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lE(n.nodeValue,a)),n||Xr(s)}else n=tm(n).createTextNode(l),n[Ut]=s,s.stateNode=n}return tt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(c=Rc(s),l!==null&&l.dehydrated!==null){if(n===null){if(!c)throw Error(r(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ut]=s}else Mc(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;tt(s),c=!1}else ri!==null&&(Kv(ri),ri=null),c=!0;if(!c)return s.flags&256?(Qi(s),s):(Qi(s),null)}if(Qi(s),s.flags&128)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==c&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Fp(s,s.updateQueue),tt(s),null;case 4:return Yt(),n===null&&s0(s.stateNode.containerInfo),tt(s),null;case 10:return Zi(s.type),tt(s),null;case 19:if(ke(vt),c=s.memoizedState,c===null)return tt(s),null;if(l=(s.flags&128)!==0,p=c.rendering,p===null)if(l)Yc(c,!1);else{if(ot!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(p=Tp(n),p!==null){for(s.flags|=128,Yc(c,!1),n=p.updateQueue,s.updateQueue=n,Fp(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)LC(a,n),a=a.sibling;return Le(vt,vt.current&1|2),s.child}n=n.sibling}c.tail!==null&&zn()>Gp&&(s.flags|=128,l=!0,Yc(c,!1),s.lanes=4194304)}else{if(!l)if(n=Tp(p),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Fp(s,n),Yc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ie)return tt(s),null}else 2*zn()-c.renderingStartTime>Gp&&a!==536870912&&(s.flags|=128,l=!0,Yc(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(n=c.last,n!==null?n.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=zn(),s.sibling=null,n=vt.current,Le(vt,l?n&1|2:n&1),s):(tt(s),null);case 22:case 23:return Qi(s),qg(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?a&536870912&&!(s.flags&128)&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&Fp(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ke(Wr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zi(St),tt(s),null;case 25:return null}throw Error(r(156,s.tag))}function aj(n,s){switch($g(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Zi(St),Yt(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return An(s),null;case 13:if(Qi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Mc()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ke(vt),null;case 4:return Yt(),null;case 10:return Zi(s.type),null;case 22:case 23:return Qi(s),qg(),n!==null&&ke(Wr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Zi(St),null;case 25:return null;default:return null}}function UC(n,s){switch($g(s),s.tag){case 3:Zi(St),Yt();break;case 26:case 27:case 5:An(s);break;case 4:Yt();break;case 13:Qi(s);break;case 19:ke(vt);break;case 10:Zi(s.type);break;case 22:case 23:Qi(s),qg(),n!==null&&ke(Wr);break;case 24:Zi(St)}}var oj={getCacheForType:function(n){var s=Bt(St),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},lj=typeof WeakMap=="function"?WeakMap:Map,nt=0,qe=null,Oe=null,Ae=0,Ke=0,En=null,is=!1,Io=!1,Bv=!1,ss=0,ot=0,Qs=0,la=0,Pv=0,Gn=0,Ho=0,Jc=null,Ci=null,$v=!1,Vv=0,Gp=1/0,qp=null,Ys=null,Kp=!1,ua=null,Xc=0,Fv=0,Gv=null,Zc=0,qv=null;function _n(){if(nt&2&&Ae!==0)return Ae&-Ae;if(k.T!==null){var n=Mo;return n!==0?n:e0()}return a1()}function BC(){Gn===0&&(Gn=!(Ae&536870912)||Ie?t1():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),Gn}function Xt(n,s,a){(n===qe&&Ke===2||n.cancelPendingCommit!==null)&&(Uo(n,0),rs(n,Ae,Gn,!1)),yc(n,a),(!(nt&2)||n!==qe)&&(n===qe&&(!(nt&2)&&(la|=a),ot===4&&rs(n,Ae,Gn,!1)),Ei(n))}function PC(n,s,a){if(nt&6)throw Error(r(327));var l=!a&&(s&60)===0&&(s&n.expiredLanes)===0||mc(n,s),c=l?fj(n,s):Jv(n,s,!0),p=l;do{if(c===0){Io&&!l&&rs(n,s,0,!1);break}else if(c===6)rs(n,s,0,!is);else{if(a=n.current.alternate,p&&!uj(a)){c=Jv(n,s,!1),p=!1;continue}if(c===2){if(p=s,n.errorRecoveryDisabledLanes&p)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var _=n;c=Jc;var M=_.current.memoizedState.isDehydrated;if(M&&(Uo(_,S).flags|=256),S=Jv(_,S,!1),S!==2){if(Bv&&!M){_.errorRecoveryDisabledLanes|=p,la|=p,c=4;break e}p=Ci,Ci=c,p!==null&&Kv(p)}c=S}if(p=!1,c!==2)continue}}if(c===1){Uo(n,0),rs(n,s,0,!0);break}e:{switch(l=n,c){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){rs(l,s,Gn,!is);break e}break;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=s,(s&62914560)===s&&(p=Vv+300-zn(),10<p)){if(rs(l,s,Gn,!is),ap(l,0)!==0)break e;l.timeoutHandle=fE($C.bind(null,l,a,Ci,qp,$v,s,Gn,la,Ho,is,2,-0,0),p);break e}$C(l,a,Ci,qp,$v,s,Gn,la,Ho,is,0,-0,0)}}break}while(!0);Ei(n)}function Kv(n){Ci===null?Ci=n:Ci.push.apply(Ci,n)}function $C(n,s,a,l,c,p,S,_,M,I,Y,te,$){var K=s.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(rf={stylesheets:null,count:0,unsuspend:Fj},NC(s),s=qj(),s!==null)){n.cancelPendingCommit=s(YC.bind(null,n,a,l,c,S,_,M,1,te,$)),rs(n,p,S,!I);return}YC(n,a,l,c,S,_,M,Y,te,$)}function uj(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],p=c.getSnapshot;c=c.value;try{if(!wn(p(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(n,s,a,l){s&=~Pv,s&=~la,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var c=s;0<c;){var p=31-bn(c),S=1<<p;l[p]=-1,c&=~S}a!==0&&i1(n,a,s)}function Qp(){return nt&6?!0:(Wc(0),!1)}function Qv(){if(Oe!==null){if(Ke===0)var n=Oe.return;else n=Oe,Xi=sa=null,ev(n),To=null,Ac=0,n=Oe;for(;n!==null;)UC(n.alternate,n),n=n.return;Oe=null}}function Uo(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Rj(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qv(),qe=n,Oe=a=Ks(n.current,null),Ae=s,Ke=0,En=null,is=!1,Io=mc(n,s),Bv=!1,Ho=Gn=Pv=la=Qs=ot=0,Ci=Jc=null,$v=!1,s&8&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var c=31-bn(l),p=1<<c;s|=n[c],l&=~p}return ss=s,vp(),a}function VC(n,s){Re=null,k.H=xi,s===kc?(s=sx(),Ke=3):s===tx?(s=sx(),Ke=4):Ke=s===nC?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,Oe===null&&(ot=1,Hp(n,Hn(s,n.current)))}function FC(){var n=k.H;return k.H=xi,n===null?xi:n}function GC(){var n=k.A;return k.A=oj,n}function Yv(){ot=4,is||(Ae&4194176)!==Ae&&Pn.current!==null||(Io=!0),!(Qs&134217727)&&!(la&134217727)||qe===null||rs(qe,Ae,Gn,!1)}function Jv(n,s,a){var l=nt;nt|=2;var c=FC(),p=GC();(qe!==n||Ae!==s)&&(qp=null,Uo(n,s)),s=!1;var S=ot;e:do try{if(Ke!==0&&Oe!==null){var _=Oe,M=En;switch(Ke){case 8:Qv(),S=6;break e;case 3:case 2:case 6:Pn.current===null&&(s=!0);var I=Ke;if(Ke=0,En=null,Bo(n,_,M,I),a&&Io){S=0;break e}break;default:I=Ke,Ke=0,En=null,Bo(n,_,M,I)}}cj(),S=ot;break}catch(Y){VC(n,Y)}while(!0);return s&&n.shellSuspendCounter++,Xi=sa=null,nt=l,k.H=c,k.A=p,Oe===null&&(qe=null,Ae=0,vp()),S}function cj(){for(;Oe!==null;)qC(Oe)}function fj(n,s){var a=nt;nt|=2;var l=FC(),c=GC();qe!==n||Ae!==s?(qp=null,Gp=zn()+500,Uo(n,s)):Io=mc(n,s);e:do try{if(Ke!==0&&Oe!==null){s=Oe;var p=En;t:switch(Ke){case 1:Ke=0,En=null,Bo(n,s,p,1);break;case 2:if(nx(p)){Ke=0,En=null,KC(s);break}s=function(){Ke===2&&qe===n&&(Ke=7),Ei(n)},p.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:nx(p)?(Ke=0,En=null,KC(s)):(Ke=0,En=null,Bo(n,s,p,7));break;case 5:var S=null;switch(Oe.tag){case 26:S=Oe.memoizedState;case 5:case 27:var _=Oe;if(!S||xE(S)){Ke=0,En=null;var M=_.sibling;if(M!==null)Oe=M;else{var I=_.return;I!==null?(Oe=I,Yp(I)):Oe=null}break t}}Ke=0,En=null,Bo(n,s,p,5);break;case 6:Ke=0,En=null,Bo(n,s,p,6);break;case 8:Qv(),ot=6;break e;default:throw Error(r(462))}}dj();break}catch(Y){VC(n,Y)}while(!0);return Xi=sa=null,k.H=l,k.A=c,nt=a,Oe!==null?0:(qe=null,Ae=0,vp(),ot)}function dj(){for(;Oe!==null&&!hc();)qC(Oe)}function qC(n){var s=pC(n.alternate,n,ss);n.memoizedProps=n.pendingProps,s===null?Yp(n):Oe=s}function KC(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=lC(a,s,s.pendingProps,s.type,void 0,Ae);break;case 11:s=lC(a,s,s.pendingProps,s.type.render,s.ref,Ae);break;case 5:ev(s);default:UC(a,s),s=Oe=LC(s,ss),s=pC(a,s,ss)}n.memoizedProps=n.pendingProps,s===null?Yp(n):Oe=s}function Bo(n,s,a,l){Xi=sa=null,ev(s),To=null,Ac=0;var c=s.return;try{if(ej(n,c,s,a,Ae)){ot=1,Hp(n,Hn(a,n.current)),Oe=null;return}}catch(p){if(c!==null)throw Oe=c,p;ot=1,Hp(n,Hn(a,n.current)),Oe=null;return}s.flags&32768?(Ie||l===1?n=!0:Io||Ae&536870912?n=!1:(is=n=!0,(l===2||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),QC(s,n)):Yp(s)}function Yp(n){var s=n;do{if(s.flags&32768){QC(s,is);return}n=s.return;var a=rj(s.alternate,s,ss);if(a!==null){Oe=a;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=n}while(s!==null);ot===0&&(ot=5)}function QC(n,s){do{var a=aj(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ot=6,Oe=null}function YC(n,s,a,l,c,p,S,_,M,I){var Y=k.T,te=ie.p;try{ie.p=2,k.T=null,hj(n,s,a,l,te,c,p,S,_,M,I)}finally{k.T=Y,ie.p=te}}function hj(n,s,a,l,c,p,S,_){do Po();while(ua!==null);if(nt&6)throw Error(r(327));var M=n.finishedWork;if(l=n.finishedLanes,M===null)return null;if(n.finishedWork=null,n.finishedLanes=0,M===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var I=M.lanes|M.childLanes;if(I|=Ug,G6(n,l,I,p,S,_),n===qe&&(Oe=qe=null,Ae=0),!(M.subtreeFlags&10256)&&!(M.flags&10256)||Kp||(Kp=!0,Fv=I,Gv=a,gj(ip,function(){return Po(),null})),a=(M.flags&15990)!==0,M.subtreeFlags&15990||a?(a=k.T,k.T=null,p=ie.p,ie.p=2,S=nt,nt|=4,nj(n,M),MC(M,n),Iz(l0,n.containerInfo),om=!!o0,l0=o0=null,n.current=M,_C(n,M.alternate,M),np(),nt=S,ie.p=p,k.T=a):n.current=M,Kp?(Kp=!1,ua=n,Xc=l):JC(n,I),I=n.pendingLanes,I===0&&(Ys=null),B6(M.stateNode),Ei(n),s!==null)for(c=n.onRecoverableError,M=0;M<s.length;M++)I=s[M],c(I.value,{componentStack:I.stack});return Xc&3&&Po(),I=n.pendingLanes,l&4194218&&I&42?n===qv?Zc++:(Zc=0,qv=n):Zc=0,Wc(0),null}function JC(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,jc(s)))}function Po(){if(ua!==null){var n=ua,s=Fv;Fv=0;var a=r1(Xc),l=k.T,c=ie.p;try{if(ie.p=32>a?32:a,k.T=null,ua===null)var p=!1;else{a=Gv,Gv=null;var S=ua,_=Xc;if(ua=null,Xc=0,nt&6)throw Error(r(331));var M=nt;if(nt|=4,zC(S.current),kC(S,S.current,_,a),nt=M,Wc(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(pc,S)}catch{}p=!0}return p}finally{ie.p=c,k.T=l,JC(n,s)}}return!1}function XC(n,s,a){s=Hn(a,s),s=pv(n.stateNode,s,2),n=Vs(n,s,2),n!==null&&(yc(n,2),Ei(n))}function Ge(n,s,a){if(n.tag===3)XC(n,n,a);else for(;s!==null;){if(s.tag===3){XC(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){n=Hn(a,n),a=eC(2),l=Vs(s,a,2),l!==null&&(tC(a,l,s,n),yc(l,2),Ei(l));break}}s=s.return}}function Xv(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new lj;var c=new Set;l.set(s,c)}else c=l.get(s),c===void 0&&(c=new Set,l.set(s,c));c.has(a)||(Bv=!0,c.add(a),n=pj.bind(null,n,s,a),s.then(n,n))}function pj(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,qe===n&&(Ae&a)===a&&(ot===4||ot===3&&(Ae&62914560)===Ae&&300>zn()-Vv?!(nt&2)&&Uo(n,0):Pv|=a,Ho===Ae&&(Ho=0)),Ei(n)}function ZC(n,s){s===0&&(s=n1()),n=js(n,s),n!==null&&(yc(n,s),Ei(n))}function mj(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),ZC(n,a)}function yj(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,c=n.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),ZC(n,a)}function gj(n,s){return $e(n,s)}var Jp=null,$o=null,Zv=!1,Xp=!1,Wv=!1,ca=0;function Ei(n){n!==$o&&n.next===null&&($o===null?Jp=$o=n:$o=$o.next=n),Xp=!0,Zv||(Zv=!0,Sj(vj))}function Wc(n,s){if(!Wv&&Xp){Wv=!0;do for(var a=!1,l=Jp;l!==null;){if(n!==0){var c=l.pendingLanes;if(c===0)var p=0;else{var S=l.suspendedLanes,_=l.pingedLanes;p=(1<<31-bn(42|n)+1)-1,p&=c&~(S&~_),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,tE(l,p))}else p=Ae,p=ap(l,l===qe?p:0),!(p&3)||mc(l,p)||(a=!0,tE(l,p));l=l.next}while(a);Wv=!1}}function vj(){Xp=Zv=!1;var n=0;ca!==0&&(Tj()&&(n=ca),ca=0);for(var s=zn(),a=null,l=Jp;l!==null;){var c=l.next,p=WC(l,s);p===0?(l.next=null,a===null?Jp=c:a.next=c,c===null&&($o=a)):(a=l,(n!==0||p&3)&&(Xp=!0)),l=c}Wc(n)}function WC(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,c=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var S=31-bn(p),_=1<<S,M=c[S];M===-1?(!(_&a)||_&l)&&(c[S]=F6(_,s)):M<=s&&(n.expiredLanes|=_),p&=~_}if(s=qe,a=Ae,a=ap(n,n===s?a:0),l=n.callbackNode,a===0||n===s&&Ke===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||mc(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&rt(l),r1(a)){case 2:case 8:a=Ww;break;case 32:a=ip;break;case 268435456:a=e1;break;default:a=ip}return l=eE.bind(null,n),a=$e(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&rt(l),n.callbackPriority=2,n.callbackNode=null,2}function eE(n,s){var a=n.callbackNode;if(Po()&&n.callbackNode!==a)return null;var l=Ae;return l=ap(n,n===qe?l:0),l===0?null:(PC(n,l,s),WC(n,zn()),n.callbackNode!=null&&n.callbackNode===a?eE.bind(null,n):null)}function tE(n,s){if(Po())return null;PC(n,s,!0)}function Sj(n){Mj(function(){nt&6?$e(Zw,n):n()})}function e0(){return ca===0&&(ca=t1()),ca}function nE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fp(""+n)}function iE(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function bj(n,s,a,l,c){if(s==="submit"&&a&&a.stateNode===c){var p=nE((c[cn]||null).action),S=l.submitter;S&&(s=(s=S[cn]||null)?nE(s.formAction):S.getAttribute("formAction"),s!==null&&(p=s,S=null));var _=new mp("action","action",null,l,c);n.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var M=S?iE(c,S):new FormData(c);uv(a,{pending:!0,data:M,method:c.method,action:p},null,M)}}else typeof p=="function"&&(_.preventDefault(),M=S?iE(c,S):new FormData(c),uv(a,{pending:!0,data:M,method:c.method,action:p},p,M))},currentTarget:c}]})}}for(var t0=0;t0<Y1.length;t0++){var n0=Y1[t0],wj=n0.toLowerCase(),xj=n0[0].toUpperCase()+n0.slice(1);si(wj,"on"+xj)}si(F1,"onAnimationEnd"),si(G1,"onAnimationIteration"),si(q1,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Uz,"onTransitionRun"),si(Bz,"onTransitionStart"),si(Pz,"onTransitionCancel"),si(K1,"onTransitionEnd"),mo("onMouseEnter",["mouseout","mouseover"]),mo("onMouseLeave",["mouseout","mouseover"]),mo("onPointerEnter",["pointerout","pointerover"]),mo("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function sE(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],c=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var S=l.length-1;0<=S;S--){var _=l[S],M=_.instance,I=_.currentTarget;if(_=_.listener,M!==p&&c.isPropagationStopped())break e;p=_,c.currentTarget=I;try{p(c)}catch(Y){Ip(Y)}c.currentTarget=null,p=M}else for(S=0;S<l.length;S++){if(_=l[S],M=_.instance,I=_.currentTarget,_=_.listener,M!==p&&c.isPropagationStopped())break e;p=_,c.currentTarget=I;try{p(c)}catch(Y){Ip(Y)}c.currentTarget=null,p=M}}}}function Ne(n,s){var a=s[vg];a===void 0&&(a=s[vg]=new Set);var l=n+"__bubble";a.has(l)||(rE(s,n,2,!1),a.add(l))}function i0(n,s,a){var l=0;s&&(l|=4),rE(a,n,l,s)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function s0(n){if(!n[Zp]){n[Zp]=!0,l1.forEach(function(a){a!=="selectionchange"&&(Cj.has(a)||i0(a,!1,n),i0(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Zp]||(s[Zp]=!0,i0("selectionchange",!1,s))}}function rE(n,s,a,l){switch(RE(s)){case 2:var c=Yj;break;case 8:c=Jj;break;default:c=g0}a=c.bind(null,s,a,n),c=void 0,!Dg||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),l?c!==void 0?n.addEventListener(s,a,{capture:!0,passive:c}):n.addEventListener(s,a,!0):c!==void 0?n.addEventListener(s,a,{passive:c}):n.addEventListener(s,a,!1)}function r0(n,s,a,l,c){var p=l;if(!(s&1)&&!(s&2)&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(S===4)for(S=l.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===c||M.nodeType===8&&M.parentNode===c))return;S=S.return}for(;_!==null;){if(S=Fr(_),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){l=p=S;continue e}_=_.parentNode}}l=l.return}b1(function(){var I=p,Y=Eg(a),te=[];e:{var $=Q1.get(n);if($!==void 0){var K=mp,me=n;switch(n){case"keypress":if(hp(a)===0)break e;case"keydown":case"keyup":K=yz;break;case"focusin":me="focus",K=Og;break;case"focusout":me="blur",K=Og;break;case"beforeblur":case"afterblur":K=Og;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=C1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=sz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Sz;break;case F1:case G1:case q1:K=oz;break;case K1:K=wz;break;case"scroll":case"scrollend":K=nz;break;case"wheel":K=Cz;break;case"copy":case"cut":case"paste":K=uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=_1;break;case"toggle":case"beforetoggle":K=_z}var _e=(s&4)!==0,lt=!_e&&(n==="scroll"||n==="scrollend"),H=_e?$!==null?$+"Capture":null:$;_e=[];for(var L=I,B;L!==null;){var ee=L;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||H===null||(ee=Sc(L,H),ee!=null&&_e.push(tf(L,ee,B))),lt)break;L=L.return}0<_e.length&&($=new K($,me,null,a,Y),te.push({event:$,listeners:_e}))}}if(!(s&7)){e:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&a!==Cg&&(me=a.relatedTarget||a.fromElement)&&(Fr(me)||me[fo]))break e;if((K||$)&&($=Y.window===Y?Y:($=Y.ownerDocument)?$.defaultView||$.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=I,me=me?Fr(me):null,me!==null&&(lt=oe(me),_e=me.tag,me!==lt||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(K=null,me=I),K!==me)){if(_e=C1,ee="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(_e=_1,ee="onPointerLeave",H="onPointerEnter",L="pointer"),lt=K==null?$:vc(K),B=me==null?$:vc(me),$=new _e(ee,L+"leave",K,a,Y),$.target=lt,$.relatedTarget=B,ee=null,Fr(Y)===I&&(_e=new _e(H,L+"enter",me,a,Y),_e.target=B,_e.relatedTarget=lt,ee=_e),lt=ee,K&&me)t:{for(_e=K,H=me,L=0,B=_e;B;B=Vo(B))L++;for(B=0,ee=H;ee;ee=Vo(ee))B++;for(;0<L-B;)_e=Vo(_e),L--;for(;0<B-L;)H=Vo(H),B--;for(;L--;){if(_e===H||H!==null&&_e===H.alternate)break t;_e=Vo(_e),H=Vo(H)}_e=null}else _e=null;K!==null&&aE(te,$,K,_e,!1),me!==null&&lt!==null&&aE(te,lt,me,_e,!0)}}e:{if($=I?vc(I):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var fe=A1;else if(k1($))if(z1)fe=jz;else{fe=Az;var Me=Nz}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?I&&xg(I.elementType)&&(fe=A1):fe=zz;if(fe&&(fe=fe(n,I))){N1(te,fe,a,Y);break e}Me&&Me(n,$,I),n==="focusout"&&I&&$.type==="number"&&I.memoizedProps.value!=null&&wg($,"number",$.value)}switch(Me=I?vc(I):window,n){case"focusin":(k1(Me)||Me.contentEditable==="true")&&(wo=Me,Lg=I,Tc=null);break;case"focusout":Tc=Lg=wo=null;break;case"mousedown":Ig=!0;break;case"contextmenu":case"mouseup":case"dragend":Ig=!1,$1(te,a,Y);break;case"selectionchange":if(Hz)break;case"keydown":case"keyup":$1(te,a,Y)}var Se;if(Ng)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else bo?M1(n,a)&&(xe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(D1&&a.locale!=="ko"&&(bo||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&bo&&(Se=w1()):(zs=Y,Tg="value"in zs?zs.value:zs.textContent,bo=!0)),Me=Wp(I,xe),0<Me.length&&(xe=new E1(xe,n,null,a,Y),te.push({event:xe,listeners:Me}),Se?xe.data=Se:(Se=O1(a),Se!==null&&(xe.data=Se)))),(Se=Tz?Rz(n,a):Mz(n,a))&&(xe=Wp(I,"onBeforeInput"),0<xe.length&&(Me=new E1("onBeforeInput","beforeinput",null,a,Y),te.push({event:Me,listeners:xe}),Me.data=Se)),bj(te,n,I,a,Y)}sE(te,s)})}function tf(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Wp(n,s){for(var a=s+"Capture",l=[];n!==null;){var c=n,p=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||p===null||(c=Sc(n,a),c!=null&&l.unshift(tf(n,c,p)),c=Sc(n,s),c!=null&&l.push(tf(n,c,p))),n=n.return}return l}function Vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function aE(n,s,a,l,c){for(var p=s._reactName,S=[];a!==null&&a!==l;){var _=a,M=_.alternate,I=_.stateNode;if(_=_.tag,M!==null&&M===l)break;_!==5&&_!==26&&_!==27||I===null||(M=I,c?(I=Sc(a,p),I!=null&&S.unshift(tf(a,I,M))):c||(I=Sc(a,p),I!=null&&S.push(tf(a,I,M)))),a=a.return}S.length!==0&&n.push({event:s,listeners:S})}var Ej=/\r\n?/g,_j=/\u0000|\uFFFD/g;function oE(n){return(typeof n=="string"?n:""+n).replace(Ej,`
`).replace(_j,"")}function lE(n,s){return s=oE(s),oE(n)===s}function em(){}function Fe(n,s,a,l,c,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||go(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&go(n,""+l);break;case"className":lp(n,"class",l);break;case"tabIndex":lp(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lp(n,a,l);break;case"style":v1(n,l,p);break;case"data":if(s!=="object"){lp(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fp(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Fe(n,s,"name",c.name,c,null),Fe(n,s,"formEncType",c.formEncType,c,null),Fe(n,s,"formMethod",c.formMethod,c,null),Fe(n,s,"formTarget",c.formTarget,c,null)):(Fe(n,s,"encType",c.encType,c,null),Fe(n,s,"method",c.method,c,null),Fe(n,s,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fp(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=em);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=fp(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),op(n,"popover",l);break;case"xlinkActuate":Gi(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gi(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gi(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gi(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gi(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":op(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ez.get(a)||a,op(n,a,l))}}function a0(n,s,a,l,c,p){switch(a){case"style":v1(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?go(n,l):(typeof l=="number"||typeof l=="bigint")&&go(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=em);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u1.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),p=n[cn]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,c),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,c);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):op(n,a,l)}}}function kt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,c=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fe(n,s,p,S,a,null)}}c&&Fe(n,s,"srcSet",a.srcSet,a,null),l&&Fe(n,s,"src",a.src,a,null);return;case"input":Ne("invalid",n);var _=p=S=c=null,M=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":S=Y;break;case"checked":M=Y;break;case"defaultChecked":I=Y;break;case"value":p=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Fe(n,s,l,Y,a,null)}}p1(n,p,_,M,I,S,c,!1),up(n);return;case"select":Ne("invalid",n),l=S=p=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":l=_;default:Fe(n,s,c,_,a,null)}s=p,a=S,n.multiple=!!l,s!=null?yo(n,!!l,s,!1):a!=null&&yo(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),p=c=l=null;for(S in a)if(a.hasOwnProperty(S)&&(_=a[S],_!=null))switch(S){case"value":l=_;break;case"defaultValue":c=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Fe(n,s,S,_,a,null)}y1(n,l,c,p),up(n);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(n,s,M,l,a,null)}return;case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<ef.length;l++)Ne(ef[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fe(n,s,I,l,a,null)}return;default:if(xg(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&a0(n,s,Y,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Fe(n,s,_,l,a,null))}function Dj(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,p=null,S=null,_=null,M=null,I=null,Y=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=te;default:l.hasOwnProperty(K)||Fe(n,s,K,null,l,te)}}for(var $ in l){var K=l[$];if(te=a[$],l.hasOwnProperty($)&&(K!=null||te!=null))switch($){case"type":p=K;break;case"name":c=K;break;case"checked":I=K;break;case"defaultChecked":Y=K;break;case"value":S=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==te&&Fe(n,s,$,K,l,te)}}bg(n,S,_,M,I,Y,p,c);return;case"select":K=S=_=$=null;for(p in a)if(M=a[p],a.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(p)||Fe(n,s,p,null,l,M)}for(c in l)if(p=l[c],M=a[c],l.hasOwnProperty(c)&&(p!=null||M!=null))switch(c){case"value":$=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==M&&Fe(n,s,c,p,l,M)}s=_,a=S,l=K,$!=null?yo(n,!!a,$,!1):!!l!=!!a&&(s!=null?yo(n,!!a,s,!0):yo(n,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Fe(n,s,_,null,l,c)}for(S in l)if(c=l[S],p=a[S],l.hasOwnProperty(S)&&(c!=null||p!=null))switch(S){case"value":$=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==p&&Fe(n,s,S,c,l,p)}m1(n,$,K);return;case"option":for(var me in a)if($=a[me],a.hasOwnProperty(me)&&$!=null&&!l.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Fe(n,s,me,null,l,$)}for(M in l)if($=l[M],K=a[M],l.hasOwnProperty(M)&&$!==K&&($!=null||K!=null))switch(M){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Fe(n,s,M,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)$=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e)&&Fe(n,s,_e,null,l,$);for(I in l)if($=l[I],K=a[I],l.hasOwnProperty(I)&&$!==K&&($!=null||K!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Fe(n,s,I,$,l,K)}return;default:if(xg(s)){for(var lt in a)$=a[lt],a.hasOwnProperty(lt)&&$!==void 0&&!l.hasOwnProperty(lt)&&a0(n,s,lt,void 0,l,$);for(Y in l)$=l[Y],K=a[Y],!l.hasOwnProperty(Y)||$===K||$===void 0&&K===void 0||a0(n,s,Y,$,l,K);return}}for(var H in a)$=a[H],a.hasOwnProperty(H)&&$!=null&&!l.hasOwnProperty(H)&&Fe(n,s,H,null,l,$);for(te in l)$=l[te],K=a[te],!l.hasOwnProperty(te)||$===K||$==null&&K==null||Fe(n,s,te,$,l,K)}var o0=null,l0=null;function tm(n){return n.nodeType===9?n:n.ownerDocument}function uE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function u0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var c0=null;function Tj(){var n=window.event;return n&&n.type==="popstate"?n===c0?!1:(c0=n,!0):(c0=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,Rj=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(n){return dE.resolve(null).then(n).catch(Oj)}:fE;function Oj(n){setTimeout(function(){throw n})}function f0(n,s){var a=s,l=0;do{var c=a.nextSibling;if(n.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){n.removeChild(c),cf(s);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);cf(s)}function d0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":d0(a),Sg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function kj(n,s,a,l){for(;n.nodeType===1;){var c=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[gc])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==c.rel||n.getAttribute("href")!==(c.href==null?null:c.href)||n.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||n.getAttribute("title")!==(c.title==null?null:c.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(c.src==null?null:c.src)||n.getAttribute("type")!==(c.type==null?null:c.type)||n.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=c.name==null?null:""+c.name;if(c.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function Nj(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=oi(n.nextSibling),n===null))return null;return n}function oi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function hE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function pE(n,s,a){switch(s=tm(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}var qn=new Map,mE=new Set;function nm(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var as=ie.d;ie.d={f:Aj,r:zj,D:jj,C:Lj,L:Ij,m:Hj,X:Bj,S:Uj,M:Pj};function Aj(){var n=as.f(),s=Qp();return n||s}function zj(n){var s=ho(n);s!==null&&s.tag===5&&s.type==="form"?$x(s):as.r(n)}var Fo=typeof document>"u"?null:document;function yE(n,s,a){var l=Fo;if(l&&typeof s=="string"&&s){var c=Ln(s);c='link[rel="'+n+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),mE.has(c)||(mE.add(c),n={rel:n,crossOrigin:a,href:s},l.querySelector(c)===null&&(s=l.createElement("link"),kt(s,"link",n),wt(s),l.head.appendChild(s)))}}function jj(n){as.D(n),yE("dns-prefetch",n,null)}function Lj(n,s){as.C(n,s),yE("preconnect",n,s)}function Ij(n,s,a){as.L(n,s,a);var l=Fo;if(l&&n&&s){var c='link[rel="preload"][as="'+Ln(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ln(a.imageSizes)+'"]')):c+='[href="'+Ln(n)+'"]';var p=c;switch(s){case"style":p=Go(n);break;case"script":p=qo(n)}qn.has(p)||(n=Z({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),qn.set(p,n),l.querySelector(c)!==null||s==="style"&&l.querySelector(nf(p))||s==="script"&&l.querySelector(sf(p))||(s=l.createElement("link"),kt(s,"link",n),wt(s),l.head.appendChild(s)))}}function Hj(n,s){as.m(n,s);var a=Fo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Ln(l)+'"][href="'+Ln(n)+'"]',p=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=qo(n)}if(!qn.has(p)&&(n=Z({rel:"modulepreload",href:n},s),qn.set(p,n),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sf(p)))return}l=a.createElement("link"),kt(l,"link",n),wt(l),a.head.appendChild(l)}}}function Uj(n,s,a){as.S(n,s,a);var l=Fo;if(l&&n){var c=po(l).hoistableStyles,p=Go(n);s=s||"default";var S=c.get(p);if(!S){var _={loading:0,preload:null};if(S=l.querySelector(nf(p)))_.loading=5;else{n=Z({rel:"stylesheet",href:n,"data-precedence":s},a),(a=qn.get(p))&&h0(n,a);var M=S=l.createElement("link");wt(M),kt(M,"link",n),M._p=new Promise(function(I,Y){M.onload=I,M.onerror=Y}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,im(S,s,l)}S={type:"stylesheet",instance:S,count:1,state:_},c.set(p,S)}}}function Bj(n,s){as.X(n,s);var a=Fo;if(a&&n){var l=po(a).hoistableScripts,c=qo(n),p=l.get(c);p||(p=a.querySelector(sf(c)),p||(n=Z({src:n,async:!0},s),(s=qn.get(c))&&p0(n,s),p=a.createElement("script"),wt(p),kt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(c,p))}}function Pj(n,s){as.M(n,s);var a=Fo;if(a&&n){var l=po(a).hoistableScripts,c=qo(n),p=l.get(c);p||(p=a.querySelector(sf(c)),p||(n=Z({src:n,async:!0,type:"module"},s),(s=qn.get(c))&&p0(n,s),p=a.createElement("script"),wt(p),kt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(c,p))}}function gE(n,s,a,l){var c=(c=st.current)?nm(c):null;if(!c)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Go(a.href),a=po(c).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Go(a.href);var p=po(c).hoistableStyles,S=p.get(n);if(S||(c=c.ownerDocument||c,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,S),(p=c.querySelector(nf(n)))&&!p._p&&(S.instance=p,S.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),p||$j(c,n,a,S.state))),s&&l===null)throw Error(r(528,""));return S}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qo(a),a=po(c).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Go(n){return'href="'+Ln(n)+'"'}function nf(n){return'link[rel="stylesheet"]['+n+"]"}function vE(n){return Z({},n,{"data-precedence":n.precedence,precedence:null})}function $j(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),kt(s,"link",a),wt(s),n.head.appendChild(s))}function qo(n){return'[src="'+Ln(n)+'"]'}function sf(n){return"script[async]"+n}function SE(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Ln(a.href)+'"]');if(l)return s.instance=l,wt(l),l;var c=Z({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),wt(l),kt(l,"style",c),im(l,a.precedence,n),s.instance=l;case"stylesheet":c=Go(a.href);var p=n.querySelector(nf(c));if(p)return s.state.loading|=4,s.instance=p,wt(p),p;l=vE(a),(c=qn.get(c))&&h0(l,c),p=(n.ownerDocument||n).createElement("link"),wt(p);var S=p;return S._p=new Promise(function(_,M){S.onload=_,S.onerror=M}),kt(p,"link",l),s.state.loading|=4,im(p,a.precedence,n),s.instance=p;case"script":return p=qo(a.src),(c=n.querySelector(sf(p)))?(s.instance=c,wt(c),c):(l=a,(c=qn.get(p))&&(l=Z({},a),p0(l,c)),n=n.ownerDocument||n,c=n.createElement("script"),wt(c),kt(c,"link",l),n.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(l=s.instance,s.state.loading|=4,im(l,a.precedence,n));return s.instance}function im(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,p=c,S=0;S<l.length;S++){var _=l[S];if(_.dataset.precedence===s)p=_;else if(p!==c)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function h0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function p0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var sm=null;function bE(n,s,a){if(sm===null){var l=new Map,c=sm=new Map;c.set(a,l)}else c=sm,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),c=0;c<a.length;c++){var p=a[c];if(!(p[gc]||p[Ut]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(s)||"";S=n+S;var _=l.get(S);_?_.push(p):l.set(S,[p])}}return l}function wE(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Vj(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xE(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var rf=null;function Fj(){}function Gj(n,s,a){if(rf===null)throw Error(r(475));var l=rf;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var c=Go(a.href),p=n.querySelector(nf(c));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=rm.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=p,wt(p);return}p=n.ownerDocument||n,a=vE(a),(c=qn.get(c))&&h0(a,c),p=p.createElement("link"),wt(p);var S=p;S._p=new Promise(function(_,M){S.onload=_,S.onerror=M}),kt(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&!(s.state.loading&3)&&(l.count++,s=rm.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function qj(){if(rf===null)throw Error(r(475));var n=rf;return n.stylesheets&&n.count===0&&m0(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&m0(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function rm(){if(this.count--,this.count===0){if(this.stylesheets)m0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var am=null;function m0(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,am=new Map,s.forEach(Kj,n),am=null,rm.call(n))}function Kj(n,s){if(!(s.state.loading&4)){var a=am.get(n);if(a)var l=a.get(null);else{a=new Map,am.set(n,a);for(var c=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<c.length;p++){var S=c[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}c=s.instance,S=c.getAttribute("data-precedence"),p=a.get(S)||l,p===l&&a.set(null,c),a.set(S,c),this.count++,l=rm.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),p?p.parentNode.insertBefore(c,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(c,n.firstChild)),s.state.loading|=4}}var af={$$typeof:E,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Qj(n,s,a,l,c,p,S,_){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.hiddenUpdates=gg(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function CE(n,s,a,l,c,p,S,_,M,I,Y,te){return n=new Qj(n,s,a,S,_,M,I,te),s=1,p===!0&&(s|=24),p=Fn(3,null,null,s),n.current=p,p.stateNode=n,s=Kg(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},Tv(p),n}function EE(n){return n?(n=Eo,n):Eo}function _E(n,s,a,l,c,p){c=EE(c),l.context===null?l.context=c:l.pendingContext=c,l=$s(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Vs(n,l,s),a!==null&&(Xt(a,n,s),$c(a,n,s))}function DE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function y0(n,s){DE(n,s),(n=n.alternate)&&DE(n,s)}function TE(n){if(n.tag===13){var s=js(n,67108864);s!==null&&Xt(s,n,67108864),y0(n,67108864)}}var om=!0;function Yj(n,s,a,l){var c=k.T;k.T=null;var p=ie.p;try{ie.p=2,g0(n,s,a,l)}finally{ie.p=p,k.T=c}}function Jj(n,s,a,l){var c=k.T;k.T=null;var p=ie.p;try{ie.p=8,g0(n,s,a,l)}finally{ie.p=p,k.T=c}}function g0(n,s,a,l){if(om){var c=v0(l);if(c===null)r0(n,s,l,lm,a),ME(n,l);else if(Zj(c,n,s,a,l))l.stopPropagation();else if(ME(n,l),s&4&&-1<Xj.indexOf(n)){for(;c!==null;){var p=ho(c);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Vr(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var M=1<<31-bn(S);_.entanglements[1]|=M,S&=~M}Ei(p),!(nt&6)&&(Gp=zn()+500,Wc(0))}}break;case 13:_=js(p,2),_!==null&&Xt(_,p,2),Qp(),y0(p,2)}if(p=v0(l),p===null&&r0(n,s,l,lm,a),p===c)break;c=p}c!==null&&l.stopPropagation()}else r0(n,s,l,null,a)}}function v0(n){return n=Eg(n),S0(n)}var lm=null;function S0(n){if(lm=null,n=Fr(n),n!==null){var s=oe(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=Ce(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return lm=n,null}function RE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yg()){case Zw:return 2;case Ww:return 8;case ip:case I6:return 32;case e1:return 268435456;default:return 32}default:return 32}}var b0=!1,Js=null,Xs=null,Zs=null,of=new Map,lf=new Map,Ws=[],Xj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(n,s){switch(n){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":of.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(s.pointerId)}}function uf(n,s,a,l,c,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[c]},s!==null&&(s=ho(s),s!==null&&TE(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),n)}function Zj(n,s,a,l,c){switch(s){case"focusin":return Js=uf(Js,n,s,a,l,c),!0;case"dragenter":return Xs=uf(Xs,n,s,a,l,c),!0;case"mouseover":return Zs=uf(Zs,n,s,a,l,c),!0;case"pointerover":var p=c.pointerId;return of.set(p,uf(of.get(p)||null,n,s,a,l,c)),!0;case"gotpointercapture":return p=c.pointerId,lf.set(p,uf(lf.get(p)||null,n,s,a,l,c)),!0}return!1}function OE(n){var s=Fr(n.target);if(s!==null){var a=oe(s);if(a!==null){if(s=a.tag,s===13){if(s=Ce(a),s!==null){n.blockedOn=s,q6(n.priority,function(){if(a.tag===13){var l=_n(),c=js(a,l);c!==null&&Xt(c,a,l),y0(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function um(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=v0(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Cg=l,a.target.dispatchEvent(l),Cg=null}else return s=ho(a),s!==null&&TE(s),n.blockedOn=a,!1;s.shift()}return!0}function kE(n,s,a){um(n)&&a.delete(s)}function Wj(){b0=!1,Js!==null&&um(Js)&&(Js=null),Xs!==null&&um(Xs)&&(Xs=null),Zs!==null&&um(Zs)&&(Zs=null),of.forEach(kE),lf.forEach(kE)}function cm(n,s){n.blockedOn===s&&(n.blockedOn=null,b0||(b0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wj)))}var fm=null;function NE(n){fm!==n&&(fm=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fm===n&&(fm=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],c=n[s+2];if(typeof l!="function"){if(S0(l||a)===null)continue;break}var p=ho(a);p!==null&&(n.splice(s,3),s-=3,uv(p,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function cf(n){function s(M){return cm(M,n)}Js!==null&&cm(Js,n),Xs!==null&&cm(Xs,n),Zs!==null&&cm(Zs,n),of.forEach(s),lf.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)OE(a),a.blockedOn===null&&Ws.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],p=a[l+1],S=c[cn]||null;if(typeof p=="function")S||NE(a);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(c=p,S=p[cn]||null)_=S.formAction;else if(S0(c)!==null)continue}else _=S.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),NE(a)}}}function w0(n){this._internalRoot=n}dm.prototype.render=w0.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=_n();_E(a,l,n,s,null,null)},dm.prototype.unmount=w0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&Po(),_E(n.current,2,null,n,null,null),Qp(),s[fo]=null}};function dm(n){this._internalRoot=n}dm.prototype.unstable_scheduleHydration=function(n){if(n){var s=a1();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,n),a===0&&OE(n)}};var AE=t.version;if(AE!=="19.0.0")throw Error(r(527,AE,"19.0.0"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Q(s),n=n!==null?re(n):null,n=n===null?null:n.stateNode,n};var eL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Fr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hm.isDisabled&&hm.supportsFiber)try{pc=hm.inject(eL),Sn=hm}catch{}}return df.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",c=Jx,p=Xx,S=Zx,_=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=CE(n,1,!1,null,null,a,l,c,p,S,_,null),n[fo]=s.current,s0(n.nodeType===8?n.parentNode:n),new w0(s)},df.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,c="",p=Jx,S=Xx,_=Zx,M=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),s=CE(n,1,!0,s,a??null,l,c,p,S,_,M,I),s.context=EE(null),a=s.current,l=_n(),c=$s(l),c.callback=null,Vs(a,c,l),s.current.lanes=l,yc(s,l),Ei(s),n[fo]=s.current,s0(n),new dm(s)},df.version="19.0.0",df}var FE;function fL(){if(FE)return _0.exports;FE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_0.exports=cL(),_0.exports}var dL=fL();const hL=VO(dL);var pL="Invariant failed";function ei(e,t){if(!e)throw new Error(pL)}function ll(e){const t=e.resolvedLocation,i=e.location,r=(t==null?void 0:t.pathname)!==i.pathname,o=(t==null?void 0:t.href)!==i.href,u=(t==null?void 0:t.hash)!==i.hash;return{fromLocation:t,toLocation:i,pathChanged:r,hrefChanged:o,hashChanged:u}}const mL="Error preloading route! ";function Rf(e){return e[e.length-1]}function yL(e){return typeof e=="function"}function Sa(e,t){return yL(e)?e(t):e}function gS(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Qn(e,t){if(e===t)return e;const i=t,r=qE(e)&&qE(i);if(r||ry(e)&&ry(i)){const o=r?e:Object.keys(e),u=o.length,f=r?i:Object.keys(i),h=f.length,m=r?[]:{};let y=0;for(let g=0;g<h;g++){const v=r?g:f[g];(!r&&o.includes(v)||r)&&e[v]===void 0&&i[v]===void 0?(m[v]=void 0,y++):(m[v]=Qn(e[v],i[v]),m[v]===e[v]&&e[v]!==void 0&&y++)}return u===h&&y===u?e:m}return i}function ry(e){if(!GE(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const i=t.prototype;return!(!GE(i)||!i.hasOwnProperty("isPrototypeOf"))}function GE(e){return Object.prototype.toString.call(e)==="[object Object]"}function qE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function KE(e,t){let i=Object.keys(e);return t&&(i=i.filter(r=>e[r]!==void 0)),i}function ul(e,t,i){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(ry(e)&&ry(t)){const r=(i==null?void 0:i.ignoreUndefined)??!0,o=KE(e,r),u=KE(t,r);return!(i!=null&&i.partial)&&o.length!==u.length?!1:u.every(f=>ul(e[f],t[f],i))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((r,o)=>!ul(r,t[o],i)):!1}function Wo(e){let t,i;const r=new Promise((o,u)=>{t=o,i=u});return r.status="pending",r.resolve=o=>{r.status="resolved",r.value=o,t(o),e==null||e(o)},r.reject=o=>{r.status="rejected",i(o)},r}function Ts(e){return Xy(e.filter(t=>t!==void 0).join("/"))}function Xy(e){return e.replace(/\/{2,}/g,"/")}function Xb(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function ba(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function vS(e){return ba(Xb(e))}function ay(e,t){return e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function gL(e,t,i){return ay(e,i)===ay(t,i)}function vL({basepath:e,base:t,to:i,trailingSlash:r="never",caseSensitive:o}){var u,f;t=oy(e,t,o),i=oy(e,i,o);let h=Wu(t);const m=Wu(i);h.length>1&&((u=Rf(h))==null?void 0:u.value)==="/"&&h.pop(),m.forEach((g,v)=>{g.value==="/"?v?v===m.length-1&&h.push(g):h=[g]:g.value===".."?h.pop():g.value==="."||h.push(g)}),h.length>1&&(((f=Rf(h))==null?void 0:f.value)==="/"?r==="never"&&h.pop():r==="always"&&h.push({type:"pathname",value:"/"}));const y=Ts([e,...h.map(g=>g.value)]);return Xy(y)}function Wu(e){if(!e)return[];e=Xy(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const i=e.split("/").filter(Boolean);return t.push(...i.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function pm({path:e,params:t,leaveWildcards:i,leaveParams:r,decodeCharMap:o}){const u=Wu(e);function f(y){const g=t[y],v=typeof g=="string";return["*","_splat"].includes(y)?v?encodeURI(g):g:v?SL(g,o):g}const h={},m=Ts(u.map(y=>{if(y.type==="wildcard"){h._splat=t._splat;const g=f("_splat");return i?`${y.value}${g??""}`:g}if(y.type==="param"){const g=y.value.substring(1);if(h[g]=t[g],r){const v=f(y.value);return`${y.value}${v??""}`}return f(g)??"undefined"}return y.value}));return{usedParams:h,interpolatedPath:m}}function SL(e,t){let i=encodeURIComponent(e);if(t)for(const[r,o]of t)i=i.replaceAll(r,o);return i}function mm(e,t,i){const r=bL(e,t,i);if(!(i.to&&!r))return r??{}}function oy(e,t,i=!1){const r=i?e:e.toLowerCase(),o=i?t:t.toLowerCase();switch(!0){case r==="/":return t;case o===r:return"";case t.length<e.length:return t;case o[r.length]!=="/":return t;case o.startsWith(r):return t.slice(e.length);default:return t}}function bL(e,t,i){if(e!=="/"&&!t.startsWith(e))return;t=oy(e,t,i.caseSensitive);const r=oy(e,`${i.to??"$"}`,i.caseSensitive),o=Wu(t),u=Wu(r);t.startsWith("/")||o.unshift({type:"pathname",value:"/"}),r.startsWith("/")||u.unshift({type:"pathname",value:"/"});const f={};return(()=>{for(let m=0;m<Math.max(o.length,u.length);m++){const y=o[m],g=u[m],v=m>=o.length-1,b=m>=u.length-1;if(g){if(g.type==="wildcard"){const E=decodeURI(Ts(o.slice(m).map(R=>R.value)));return f["*"]=E,f._splat=E,!0}if(g.type==="pathname"){if(g.value==="/"&&!(y!=null&&y.value))return!0;if(y){if(i.caseSensitive){if(g.value!==y.value)return!1}else if(g.value.toLowerCase()!==y.value.toLowerCase())return!1}}if(!y)return!1;if(g.type==="param"){if(y.value==="/")return!1;y.value.charAt(0)!=="$"&&(f[g.value.substring(1)]=decodeURIComponent(y.value))}}if(!v&&b)return f["**"]=Ts(o.slice(m+1).map(E=>E.value)),!!i.fuzzy&&(g==null?void 0:g.value)!=="/"}return!0})()?f:void 0}function wL(e,t){let i,r,o,u="";for(i in e)if((o=e[i])!==void 0)if(Array.isArray(o))for(r=0;r<o.length;r++)u&&(u+="&"),u+=encodeURIComponent(i)+"="+encodeURIComponent(o[r]);else u&&(u+="&"),u+=encodeURIComponent(i)+"="+encodeURIComponent(o);return""+u}function QE(e){if(!e)return"";const t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function xL(e,t){let i,r;const o={},u=e.split("&");for(;i=u.shift();){const f=i.indexOf("=");if(f!==-1){r=i.slice(0,f),r=decodeURIComponent(r);const h=i.slice(f+1);o[r]!==void 0?o[r]=[].concat(o[r],QE(h)):o[r]=QE(h)}else r=i,r=decodeURIComponent(r),o[r]=""}return o}const zt="__root__",CL=_L(JSON.parse),EL=DL(JSON.stringify,JSON.parse);function _L(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const i=xL(t);for(const r in i){const o=i[r];if(typeof o=="string")try{i[r]=e(o)}catch{}}return i}}function DL(e,t){function i(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(u=>{const f=r[u];typeof f>"u"||f===void 0?delete r[u]:r[u]=i(f)});const o=wL(r).toString();return o?`?${o}`:""}}const Or="__TSR_index",YE="popstate",JE="beforeunload";function GO(e){let t=e.getLocation();const i=new Set,r=f=>{t=e.getLocation(),i.forEach(h=>h({location:t,action:f}))},o=f=>{e.notifyOnIndexChange??!0?r(f):t=e.getLocation()},u=async({task:f,navigateOpts:h,...m})=>{var y,g;if((h==null?void 0:h.ignoreBlocker)??!1){f();return}const b=((y=e.getBlockers)==null?void 0:y.call(e))??[],E=m.type==="PUSH"||m.type==="REPLACE";if(typeof document<"u"&&b.length&&E)for(const R of b){const A=Af(m.path,m.state);if(await R.blockerFn({currentLocation:t,nextLocation:A,action:m.type})){(g=e.onBlocked)==null||g.call(e);return}}f()};return{get location(){return t},get length(){return e.getLength()},subscribers:i,subscribe:f=>(i.add(f),()=>{i.delete(f)}),push:(f,h,m)=>{const y=t.state[Or];h=SS(y+1,h),u({task:()=>{e.pushState(f,h),r({type:"PUSH"})},navigateOpts:m,type:"PUSH",path:f,state:h})},replace:(f,h,m)=>{const y=t.state[Or];h=SS(y,h),u({task:()=>{e.replaceState(f,h),r({type:"REPLACE"})},navigateOpts:m,type:"REPLACE",path:f,state:h})},go:(f,h)=>{u({task:()=>{e.go(f),o({type:"GO",index:f})},navigateOpts:h,type:"GO"})},back:f=>{u({task:()=>{e.back((f==null?void 0:f.ignoreBlocker)??!1),o({type:"BACK"})},navigateOpts:f,type:"BACK"})},forward:f=>{u({task:()=>{e.forward((f==null?void 0:f.ignoreBlocker)??!1),o({type:"FORWARD"})},navigateOpts:f,type:"FORWARD"})},canGoBack:()=>t.state[Or]!==0,createHref:f=>e.createHref(f),block:f=>{var h;if(!e.setBlockers)return()=>{};const m=((h=e.getBlockers)==null?void 0:h.call(e))??[];return e.setBlockers([...m,f]),()=>{var y,g;const v=((y=e.getBlockers)==null?void 0:y.call(e))??[];(g=e.setBlockers)==null||g.call(e,v.filter(b=>b!==f))}},flush:()=>{var f;return(f=e.flush)==null?void 0:f.call(e)},destroy:()=>{var f;return(f=e.destroy)==null?void 0:f.call(e)},notify:r}}function SS(e,t){return t||(t={}),{...t,key:Zb(),[Or]:e}}function TL(e){var t;const i=typeof document<"u"?window:void 0,r=i.history.pushState,o=i.history.replaceState;let u=[];const f=()=>u,h=k=>u=k,m=k=>k,y=()=>Af(`${i.location.pathname}${i.location.search}${i.location.hash}`,i.history.state);(t=i.history.state)!=null&&t.key||i.history.replaceState({[Or]:0,key:Zb()},"");let g=y(),v,b=!1,E=!1,R=!1,A=!1;const z=()=>g;let j,U;const X=()=>{j&&(F._ignoreSubscribers=!0,(j.isPush?i.history.pushState:i.history.replaceState)(j.state,"",j.href),F._ignoreSubscribers=!1,j=void 0,U=void 0,v=void 0)},G=(k,Z,ne)=>{const ue=m(Z);U||(v=g),g=Af(Z,ne),j={href:ue,state:ne,isPush:(j==null?void 0:j.isPush)||k==="push"},U||(U=Promise.resolve().then(()=>X()))},P=k=>{g=y(),F.notify({type:k})},V=async()=>{if(E){E=!1;return}const k=y(),Z=k.state[Or]-g.state[Or],ne=Z===1,ue=Z===-1,ge=!ne&&!ue||b;b=!1;const Ee=ge?"GO":ue?"BACK":"FORWARD",de=ge?{type:"GO",index:Z}:{type:ue?"BACK":"FORWARD"};if(R)R=!1;else{const J=f();if(typeof document<"u"&&J.length){for(const ae of J)if(await ae.blockerFn({currentLocation:g,nextLocation:k,action:Ee})){E=!0,i.history.go(1),F.notify(de);return}}}g=y(),F.notify(de)},se=k=>{if(A){A=!1;return}let Z=!1;const ne=f();if(typeof document<"u"&&ne.length)for(const ue of ne){const ge=ue.enableBeforeUnload??!0;if(ge===!0){Z=!0;break}if(typeof ge=="function"&&ge()===!0){Z=!0;break}}if(Z)return k.preventDefault(),k.returnValue=""},F=GO({getLocation:z,getLength:()=>i.history.length,pushState:(k,Z)=>G("push",k,Z),replaceState:(k,Z)=>G("replace",k,Z),back:k=>(k&&(R=!0),A=!0,i.history.back()),forward:k=>{k&&(R=!0),A=!0,i.history.forward()},go:k=>{b=!0,i.history.go(k)},createHref:k=>m(k),flush:X,destroy:()=>{i.history.pushState=r,i.history.replaceState=o,i.removeEventListener(JE,se,{capture:!0}),i.removeEventListener(YE,V)},onBlocked:()=>{v&&g!==v&&(g=v)},getBlockers:f,setBlockers:h,notifyOnIndexChange:!1});return i.addEventListener(JE,se,{capture:!0}),i.addEventListener(YE,V),i.history.pushState=function(...k){const Z=r.apply(i.history,k);return F._ignoreSubscribers||P("PUSH"),Z},i.history.replaceState=function(...k){const Z=o.apply(i.history,k);return F._ignoreSubscribers||P("REPLACE"),Z},F}function RL(e={initialEntries:["/"]}){const t=e.initialEntries;let i=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const r=t.map((u,f)=>SS(f,void 0));return GO({getLocation:()=>Af(t[i],r[i]),getLength:()=>t.length,pushState:(u,f)=>{i<t.length-1&&(t.splice(i+1),r.splice(i+1)),r.push(f),t.push(u),i=Math.max(t.length-1,0)},replaceState:(u,f)=>{r[i]=f,t[i]=u},back:()=>{i=Math.max(i-1,0)},forward:()=>{i=Math.min(i+1,t.length-1)},go:u=>{i=Math.min(Math.max(i+u,0),t.length-1)},createHref:u=>u})}function Af(e,t){const i=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,i>0?r>0?Math.min(i,r):i:r>0?r:e.length),hash:i>-1?e.substring(i):"",search:r>-1?e.slice(r,i===-1?void 0:i):"",state:t||{[Or]:0,key:Zb()}}}function Zb(){return(Math.random()+1).toString(36).substring(7)}function Wb(e){const t=e.errorComponent??Zy;return w.jsx(ML,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:i,reset:r})=>i?we.createElement(t,{error:i,reset:r}):e.children})}class ML extends we.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,i){i.error&&i.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,i){this.props.onCatch&&this.props.onCatch(t,i)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Zy({error:e}){const[t,i]=we.useState(!1);return w.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[w.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),w.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>i(r=>!r),children:t?"Hide Error":"Show Error"})]}),w.jsx("div",{style:{height:".25rem"}}),t?w.jsx("div",{children:w.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?w.jsx("code",{children:e.message}):null})}):null]})}var M0={exports:{}},O0={},k0={exports:{}},N0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function OL(){if(XE)return N0;XE=1;var e=Gh();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var i=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,u=e.useLayoutEffect,f=e.useDebugValue;function h(v,b){var E=b(),R=r({inst:{value:E,getSnapshot:b}}),A=R[0].inst,z=R[1];return u(function(){A.value=E,A.getSnapshot=b,m(A)&&z({inst:A})},[v,E,b]),o(function(){return m(A)&&z({inst:A}),v(function(){m(A)&&z({inst:A})})},[v]),f(E),E}function m(v){var b=v.getSnapshot;v=v.value;try{var E=b();return!i(v,E)}catch{return!0}}function y(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:h;return N0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,N0}var ZE;function kL(){return ZE||(ZE=1,k0.exports=OL()),k0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function NL(){if(WE)return O0;WE=1;var e=Gh(),t=kL();function i(y,g){return y===g&&(y!==0||1/y===1/g)||y!==y&&g!==g}var r=typeof Object.is=="function"?Object.is:i,o=t.useSyncExternalStore,u=e.useRef,f=e.useEffect,h=e.useMemo,m=e.useDebugValue;return O0.useSyncExternalStoreWithSelector=function(y,g,v,b,E){var R=u(null);if(R.current===null){var A={hasValue:!1,value:null};R.current=A}else A=R.current;R=h(function(){function j(V){if(!U){if(U=!0,X=V,V=b(V),E!==void 0&&A.hasValue){var se=A.value;if(E(se,V))return G=se}return G=V}if(se=G,r(X,V))return se;var F=b(V);return E!==void 0&&E(se,F)?(X=V,se):(X=V,G=F)}var U=!1,X,G,P=v===void 0?null:v;return[function(){return j(g())},P===null?void 0:function(){return j(P())}]},[g,v,b,E]);var z=o(y,R[0],R[1]);return f(function(){A.hasValue=!0,A.value=z},[z]),m(z),z},O0}var e_;function AL(){return e_||(e_=1,M0.exports=NL()),M0.exports}var zL=AL();const cl=new WeakMap,Rm=new WeakMap,ly={current:[]};let A0=!1,Mf=0;const vf=new Set,ym=new Map;function qO(e){const t=Array.from(e).sort((i,r)=>i instanceof fl&&i.options.deps.includes(r)?1:r instanceof fl&&r.options.deps.includes(i)?-1:0);for(const i of t){if(ly.current.includes(i))continue;ly.current.push(i),i.recompute();const r=Rm.get(i);if(r)for(const o of r){const u=cl.get(o);u&&qO(u)}}}function jL(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function LL(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function KO(e){if(Mf>0&&!ym.has(e)&&ym.set(e,e.prevState),vf.add(e),!(Mf>0)&&!A0)try{for(A0=!0;vf.size>0;){const t=Array.from(vf);vf.clear();for(const i of t){const r=ym.get(i)??i.prevState;i.prevState=r,jL(i)}for(const i of t){const r=cl.get(i);r&&(ly.current.push(i),qO(r))}for(const i of t){const r=cl.get(i);if(r)for(const o of r)LL(o)}}}finally{A0=!1,ly.current=[],ym.clear()}}function z0(e){Mf++;try{e()}finally{if(Mf--,Mf===0){const t=Array.from(vf)[0];t&&KO(t)}}}class bS{constructor(t,i){this.listeners=new Set,this.subscribe=r=>{var o,u;this.listeners.add(r);const f=(u=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:u.call(o,r,this);return()=>{this.listeners.delete(r),f==null||f()}},this.setState=r=>{var o,u,f;this.prevState=this.state,this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(f=(u=this.options)==null?void 0:u.onUpdate)==null||f.call(u),KO(this)},this.prevState=t,this.state=t,this.options=i}}class fl{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const i=[],r=[];for(const o of this.options.deps)i.push(o.prevState),r.push(o.state);return this.lastSeenDepValues=r,{prevDepVals:i,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var i,r;this.prevState=this.state;const{prevDepVals:o,currDepVals:u,prevVal:f}=this.getDepVals();this.state=this.options.fn({prevDepVals:o,currDepVals:u,prevVal:f}),(r=(i=this.options).onUpdate)==null||r.call(i)},this.checkIfRecalculationNeededDeeply=()=>{for(const u of this.options.deps)u instanceof fl&&u.checkIfRecalculationNeededDeeply();let i=!1;const r=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let u=0;u<o.length;u++)if(o[u]!==r[u]){i=!0;break}i&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const i of this._subscriptions)i()}),this.subscribe=i=>{var r,o;this.listeners.add(i);const u=(o=(r=this.options).onSubscribe)==null?void 0:o.call(r,i,this);return()=>{this.listeners.delete(i),u==null||u()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const i of t)if(i instanceof fl)i.registerOnGraph(),this.registerOnGraph(i.options.deps);else if(i instanceof bS){let r=cl.get(i);r||(r=new Set,cl.set(i,r)),r.add(this);let o=Rm.get(this);o||(o=new Set,Rm.set(this,o)),o.add(i)}}unregisterFromGraph(t=this.options.deps){for(const i of t)if(i instanceof fl)this.unregisterFromGraph(i.options.deps);else if(i instanceof bS){const r=cl.get(i);r&&r.delete(this);const o=Rm.get(this);o&&o.delete(i)}}}function IL(e,t=i=>i){return zL.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,HL)}function HL(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!t.has(r)||!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(let r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(t,i[r])||!Object.is(e[i[r]],t[i[r]]))return!1;return!0}const j0=we.createContext(null);function QO(){return typeof document>"u"?j0:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=j0,j0)}function Si(e){const t=we.useContext(QO());return e==null||e.warn,t}function jt(e){const t=Si({warn:(e==null?void 0:e.router)===void 0}),i=(e==null?void 0:e.router)||t,r=we.useRef(void 0);return IL(i.__store,o=>{if(e!=null&&e.select){if(e.structuralSharing??i.options.defaultStructuralSharing){const u=Qn(r.current,e.select(o));return r.current=u,u}return e.select(o)}return o})}const Wy=we.createContext(void 0),UL=we.createContext(void 0);function no(e){const t=we.useContext(e.from?UL:Wy);return jt({select:r=>{const o=r.matches.find(u=>e.from?e.from===u.routeId:u.id===t);if(ei(!((e.shouldThrow??!0)&&!o),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),o!==void 0)return e.select?e.select(o):o},structuralSharing:e.structuralSharing})}function BL(e){return no({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function PL(e){const{select:t,...i}=e;return no({...i,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function $L(e){return no({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function VL(e){return no({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Zn(e){return!!(e!=null&&e.isNotFound)}function FL(e){const t=jt({select:i=>`not-found-${i.location.pathname}-${i.status}`});return w.jsx(Wb,{getResetKey:()=>t,onCatch:(i,r)=>{var o;if(Zn(i))(o=e.onCatch)==null||o.call(e,i,r);else throw i},errorComponent:({error:i})=>{var r;if(Zn(i))return(r=e.fallback)==null?void 0:r.call(e,i);throw i},children:e.children})}function GL(){return w.jsx("p",{children:"Not Found"})}function qL(e){const{navigate:t}=Si();return we.useCallback(i=>t({...i}),[t])}let YO=class{constructor(t){this.init=i=>{var r,o;this.originalIndex=i.originalIndex;const u=this.options,f=!(u!=null&&u.path)&&!(u!=null&&u.id);this.parentRoute=(o=(r=this.options).getParentRoute)==null?void 0:o.call(r),f?this._path=zt:ei(this.parentRoute);let h=f?zt:u.path;h&&h!=="/"&&(h=Xb(h));const m=(u==null?void 0:u.id)||h;let y=f?zt:Ts([this.parentRoute.id===zt?"":this.parentRoute.id,m]);h===zt&&(h="/"),y!==zt&&(y=Ts(["/",y]));const g=y===zt?"/":Ts([this.parentRoute.fullPath,h]);this._path=h,this._id=y,this._fullPath=g,this._to=g,this._ssr=(u==null?void 0:u.ssr)??i.defaultSsr??!0},this.updateLoader=i=>(Object.assign(this.options,i),this),this.update=i=>(Object.assign(this.options,i),this),this.lazy=i=>(this.lazyFn=i,this),this.useMatch=i=>no({select:i==null?void 0:i.select,from:this.id,structuralSharing:i==null?void 0:i.structuralSharing}),this.useRouteContext=i=>no({...i,from:this.id,select:r=>i!=null&&i.select?i.select(r.context):r.context}),this.useSearch=i=>VL({select:i==null?void 0:i.select,structuralSharing:i==null?void 0:i.structuralSharing,from:this.id}),this.useParams=i=>$L({select:i==null?void 0:i.select,structuralSharing:i==null?void 0:i.structuralSharing,from:this.id}),this.useLoaderDeps=i=>PL({...i,from:this.id}),this.useLoaderData=i=>BL({...i,from:this.id}),this.useNavigate=()=>qL({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),ei(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this}};function KL(e){return new YO(e)}class QL extends YO{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function YL(e){return new QL(e)}function JO(e){return new JL(e,{silent:!0}).createRoute}class JL{constructor(t,i){this.path=t,this.createRoute=r=>{this.silent;const o=KL(r);return o.isRoot=!1,o},this.silent=i==null?void 0:i.silent}}function XL(e){if(e.isRedirect=!0,e.statusCode=e.statusCode||e.code||307,e.headers=e.headers||{},!e.reloadDocument){e.reloadDocument=!1;try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}}if(e.throw)throw e;return e}function da(e){return!!(e!=null&&e.isRedirect)}function L0(e){return!!(e!=null&&e.isRedirect)&&e.href}function Mm(e){return w.jsx(w.Fragment,{children:e.children})}function XO(e,t,i){return t.options.notFoundComponent?w.jsx(t.options.notFoundComponent,{data:i}):e.options.defaultNotFoundComponent?w.jsx(e.options.defaultNotFoundComponent,{data:i}):w.jsx(GL,{})}var I0,t_;function ZL(){if(t_)return I0;t_=1;const e={},t=e.hasOwnProperty,i=(F,k)=>{for(const Z in F)t.call(F,Z)&&k(Z,F[Z])},r=(F,k)=>(k&&i(k,(Z,ne)=>{F[Z]=ne}),F),o=(F,k)=>{const Z=F.length;let ne=-1;for(;++ne<Z;)k(F[ne])},u=F=>"\\u"+("0000"+F).slice(-4),f=(F,k)=>{let Z=F.toString(16);return k?Z:Z.toUpperCase()},h=e.toString,m=Array.isArray,y=F=>typeof Buffer=="function"&&Buffer.isBuffer(F),g=F=>h.call(F)=="[object Object]",v=F=>typeof F=="string"||h.call(F)=="[object String]",b=F=>typeof F=="number"||h.call(F)=="[object Number]",E=F=>typeof F=="bigint",R=F=>typeof F=="function",A=F=>h.call(F)=="[object Map]",z=F=>h.call(F)=="[object Set]",j={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},U=/[\\\b\f\n\r\t]/,X=/[0-9]/,G=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,P=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,V=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,se=(F,k)=>{const Z=()=>{ae=J,++k.indentLevel,J=k.indent.repeat(k.indentLevel)},ne={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},ue=k&&k.json;ue&&(ne.quotes="double",ne.wrap=!0),k=r(ne,k),k.quotes!="single"&&k.quotes!="double"&&k.quotes!="backtick"&&(k.quotes="single");const ge=k.quotes=="double"?'"':k.quotes=="backtick"?"`":"'",Ee=k.compact,de=k.lowercaseHex;let J=k.indent.repeat(k.indentLevel),ae="";const oe=k.__inline1__,Ce=k.__inline2__,N=Ee?"":`
`;let Q,re=!0;const le=k.numbers=="binary",ie=k.numbers=="octal",ve=k.numbers=="decimal",he=k.numbers=="hexadecimal";if(ue&&F&&R(F.toJSON)&&(F=F.toJSON()),!v(F)){if(A(F))return F.size==0?"new Map()":(Ee||(k.__inline1__=!0,k.__inline2__=!1),"new Map("+se(Array.from(F),k)+")");if(z(F))return F.size==0?"new Set()":"new Set("+se(Array.from(F),k)+")";if(y(F))return F.length==0?"Buffer.from([])":"Buffer.from("+se(Array.from(F),k)+")";if(m(F))return Q=[],k.wrap=!0,oe&&(k.__inline1__=!1,k.__inline2__=!0),Ce||Z(),o(F,pe=>{re=!1,Ce&&(k.__inline2__=!1),Q.push((Ee||Ce?"":J)+se(pe,k))}),re?"[]":Ce?"["+Q.join(", ")+"]":"["+N+Q.join(","+N)+N+(Ee?"":ae)+"]";if(b(F)||E(F)){if(ue)return JSON.stringify(Number(F));let pe;if(ve)pe=String(F);else if(he){let ke=F.toString(16);de||(ke=ke.toUpperCase()),pe="0x"+ke}else le?pe="0b"+F.toString(2):ie&&(pe="0o"+F.toString(8));return E(F)?pe+"n":pe}else return E(F)?ue?JSON.stringify(Number(F)):F+"n":g(F)?(Q=[],k.wrap=!0,Z(),i(F,(pe,ke)=>{re=!1,Q.push((Ee?"":J)+se(pe,k)+":"+(Ee?"":" ")+se(ke,k))}),re?"{}":"{"+N+Q.join(","+N)+N+(Ee?"":ae)+"}"):ue?JSON.stringify(F)||"null":String(F)}const Be=k.escapeEverything?P:V;return Q=F.replace(Be,(pe,ke,Le,We,et,st)=>{if(ke){if(k.minimal)return ke;const Qt=ke.charCodeAt(0),Yt=ke.charCodeAt(1);if(k.es6){const ii=(Qt-55296)*1024+Yt-56320+65536;return"\\u{"+f(ii,de)+"}"}return u(f(Qt,de))+u(f(Yt,de))}if(Le)return u(f(Le.charCodeAt(0),de));if(pe=="\0"&&!ue&&!X.test(st.charAt(et+1)))return"\\0";if(We)return We==ge||k.escapeEverything?"\\"+We:We;if(U.test(pe))return j[pe];if(k.minimal&&!G.test(pe))return pe;const Rt=f(pe.charCodeAt(0),de);return ue||Rt.length>2?u(Rt):"\\x"+("00"+Rt).slice(-2)}),ge=="`"&&(Q=Q.replace(/\$\{/g,"\\${")),k.isScriptContext&&(Q=Q.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,ue?"\\u003C!--":"\\x3C!--")),k.wrap&&(Q=ge+Q+ge),Q};return se.version="3.0.2",I0=se,I0}ZL();function WL({children:e,log:t}){return typeof document<"u"?null:w.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}const uy="tsr-scroll-restoration-v1_3",e8=typeof window<"u"&&window.sessionStorage,t8=(e,t)=>{let i;return(...r)=>{i||(i=setTimeout(()=>{e(...r),i=null},t))}},nl=e8?{state:JSON.parse(window.sessionStorage.getItem(uy)||"null")||{},set:t=>(nl.state=Sa(t,nl.state)||nl.state,window.sessionStorage.setItem(uy,JSON.stringify(nl.state)))}:void 0,wS=e=>e.state.key||e.href;function n8(e){const t=[];let i;for(;i=e.parentNode;)t.unshift(`${e.tagName}:nth-child(${[].indexOf.call(i.children,e)+1})`),e=i;return`${t.join(" > ")}`.toLowerCase()}let cy=!1;function ZO(e,t,i,r){var o;let u;try{u=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(m){console.error(m);return}const f=t||((o=window.history.state)==null?void 0:o.key),h=u[f];cy=!0,(()=>{if(r&&h){for(const y in h){const g=h[y];if(y==="window")window.scrollTo({top:g.scrollY,left:g.scrollX,behavior:i});else if(y){const v=document.querySelector(y);v&&(v.scrollLeft=g.scrollX,v.scrollTop=g.scrollY)}}return}const m=window.location.hash.split("#")[1];if(m){const y=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(y){const g=document.getElementById(m);g&&g.scrollIntoView(y)}return}window.scrollTo({top:0,left:0,behavior:i})})(),cy=!1}function i8(e,t){if((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup)return;e.isScrollRestorationSetup=!0,cy=!1;const r=e.options.getScrollRestorationKey||wS;window.history.scrollRestoration="manual";const o=u=>{if(cy||!e.isScrollRestoring)return;let f="";if(u.target===document||u.target===window)f="window";else{const m=u.target.getAttribute("data-scroll-restoration-id");m?f=`[data-scroll-restoration-id="${m}"]`:f=n8(u.target)}const h=r(e.state.location);nl.set(m=>{const y=m[h]=m[h]||{},g=y[f]=y[f]||{};if(f==="window")g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(f){const v=document.querySelector(f);v&&(g.scrollX=v.scrollLeft||0,g.scrollY=v.scrollTop||0)}return m})};typeof document<"u"&&document.addEventListener("scroll",t8(o,100),!0),e.subscribe("onRendered",u=>{const f=r(u.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}ZO(uy,f,e.options.scrollRestorationBehavior,e.isScrollRestoring),e.isScrollRestoring&&nl.set(h=>(h[f]=h[f]||{},h))})}function s8(){const e=Si(),i=(e.options.getScrollRestorationKey||wS)(e.latestLocation),r=i!==wS(e.latestLocation)?i:null;return!e.isScrollRestoring||!e.isServer?null:w.jsx(WL,{children:`(${ZO.toString()})(${JSON.stringify(uy)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const WO=we.memo(function({matchId:t}){var i,r;const o=Si(),u=jt({select:j=>{var U;return(U=j.matches.find(X=>X.id===t))==null?void 0:U.routeId}});ei(u);const f=o.routesById[u],h=f.options.pendingComponent??o.options.defaultPendingComponent,m=h?w.jsx(h,{}):null,y=f.options.errorComponent??o.options.defaultErrorComponent,g=f.options.onCatch??o.options.defaultOnCatch,v=f.isRoot?f.options.notFoundComponent??((i=o.options.notFoundRoute)==null?void 0:i.options.component):f.options.notFoundComponent,b=(!f.isRoot||f.options.wrapInSuspense)&&(f.options.wrapInSuspense??h??((r=f.options.errorComponent)==null?void 0:r.preload))?we.Suspense:Mm,E=y?Wb:Mm,R=v?FL:Mm,A=jt({select:j=>j.loadedAt}),z=jt({select:j=>{var U;const X=j.matches.findIndex(G=>G.id===t);return(U=j.matches[X-1])==null?void 0:U.routeId}});return w.jsxs(w.Fragment,{children:[w.jsx(Wy.Provider,{value:t,children:w.jsx(b,{fallback:m,children:w.jsx(E,{getResetKey:()=>A,errorComponent:y||Zy,onCatch:(j,U)=>{if(Zn(j))throw j;g==null||g(j,U)},children:w.jsx(R,{fallback:j=>{if(!v||j.routeId&&j.routeId!==u||!j.routeId&&!f.isRoot)throw j;return we.createElement(v,j)},children:w.jsx(a8,{matchId:t})})})})}),z===zt?w.jsxs(w.Fragment,{children:[w.jsx(r8,{}),w.jsx(s8,{})]}):null]})});function r8(){var e;const t=Si(),i=we.useRef(void 0);return w.jsx("script",{suppressHydrationWarning:!0,ref:r=>{r?t.emit({type:"onRendered",...ll(t.state)}):i.current=t.state.resolvedLocation}},(e=t.state.resolvedLocation)==null?void 0:e.state.key)}const a8=we.memo(function({matchId:t}){var i,r,o;const u=Si(),{match:f,key:h,routeId:m}=jt({select:b=>{const E=b.matches.findIndex(X=>X.id===t),R=b.matches[E],A=R.routeId,z=u.routesById[A].options.remountDeps??u.options.defaultRemountDeps,j=z==null?void 0:z({routeId:A,loaderDeps:R.loaderDeps,params:R._strictParams,search:R._strictSearch});return{key:j?JSON.stringify(j):void 0,routeId:A,match:gS(R,["id","status","error"])}},structuralSharing:!0}),y=u.routesById[m],g=we.useMemo(()=>{const b=y.options.component??u.options.defaultComponent;return b?w.jsx(b,{},h):w.jsx(ek,{})},[h,y.options.component,u.options.defaultComponent]),v=(y.options.errorComponent??u.options.defaultErrorComponent)||Zy;if(f.status==="notFound")return ei(Zn(f.error)),XO(u,y,f.error);if(f.status==="redirected")throw ei(da(f.error)),(i=u.getMatch(f.id))==null?void 0:i.loadPromise;if(f.status==="error"){if(u.isServer)return w.jsx(v,{error:f.error,reset:void 0,info:{componentStack:""}});throw f.error}if(f.status==="pending"){const b=y.options.pendingMinMs??u.options.defaultPendingMinMs;if(b&&!((r=u.getMatch(f.id))!=null&&r.minPendingPromise)&&!u.isServer){const E=Wo();Promise.resolve().then(()=>{u.updateMatch(f.id,R=>({...R,minPendingPromise:E}))}),setTimeout(()=>{E.resolve(),u.updateMatch(f.id,R=>({...R,minPendingPromise:void 0}))},b)}throw(o=u.getMatch(f.id))==null?void 0:o.loadPromise}return g}),ek=we.memo(function(){const t=Si(),i=we.useContext(Wy),r=jt({select:y=>{var g;return(g=y.matches.find(v=>v.id===i))==null?void 0:g.routeId}}),o=t.routesById[r],u=jt({select:y=>{const v=y.matches.find(b=>b.id===i);return ei(v),v.globalNotFound}}),f=jt({select:y=>{var g;const v=y.matches,b=v.findIndex(E=>E.id===i);return(g=v[b+1])==null?void 0:g.id}});if(u)return XO(t,o,void 0);if(!f)return null;const h=w.jsx(WO,{matchId:f}),m=t.options.defaultPendingComponent?w.jsx(t.options.defaultPendingComponent,{}):null;return i===zt?w.jsx(we.Suspense,{fallback:m,children:h}):h});var o8=FO();const Sf=typeof window<"u"?we.useLayoutEffect:we.useEffect;function H0(e){const t=we.useRef({value:e,prev:null}),i=t.current.value;return e!==i&&(t.current={value:e,prev:i}),t.current.prev}function l8(e,t,i={},r={}){const o=we.useRef(typeof IntersectionObserver=="function"),u=we.useRef(null);return we.useEffect(()=>{if(!(!e.current||!o.current||r.disabled))return u.current=new IntersectionObserver(([f])=>{t(f)},i),u.current.observe(e.current),()=>{var f;(f=u.current)==null||f.disconnect()}},[t,i,r.disabled,e]),u.current}function u8(e){const t=we.useRef(null);return we.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function c8(e,t){const i=Si(),[r,o]=we.useState(!1),u=we.useRef(!1),f=u8(t),{activeProps:h=()=>({className:"active"}),inactiveProps:m=()=>({}),activeOptions:y,to:g,preload:v,preloadDelay:b,hashScrollIntoView:E,replace:R,startTransition:A,resetScroll:z,viewTransition:j,children:U,target:X,disabled:G,style:P,className:V,onClick:se,onFocus:F,onMouseEnter:k,onMouseLeave:Z,onTouchStart:ne,ignoreBlocker:ue,...ge}=e,{params:Ee,search:de,hash:J,state:ae,mask:oe,reloadDocument:Ce,...N}=ge,Q=we.useMemo(()=>{try{return new URL(`${g}`),"external"}catch{}return"internal"},[g]),re=jt({select:$e=>$e.location.search,structuralSharing:!0});e={from:no({strict:!1,select:$e=>$e.pathname}),...e};const ie=we.useMemo(()=>i.buildLocation(e),[i,e,re]),ve=we.useMemo(()=>e.reloadDocument?!1:v??i.options.defaultPreload,[i.options.defaultPreload,v,e.reloadDocument]),he=b??i.options.defaultPreloadDelay??0,Be=jt({select:$e=>{if(y!=null&&y.exact){if(!gL($e.location.pathname,ie.pathname,i.basepath))return!1}else{const rt=ay($e.location.pathname,i.basepath).split("/");if(!ay(ie.pathname,i.basepath).split("/").every((zn,yg)=>zn===rt[yg]))return!1}return((y==null?void 0:y.includeSearch)??!0)&&!ul($e.location.search,ie.search,{partial:!(y!=null&&y.exact),ignoreUndefined:!(y!=null&&y.explicitUndefined)})?!1:y!=null&&y.includeHash?$e.location.hash===ie.hash:!0}}),pe=we.useCallback(()=>{i.preloadRoute(e).catch($e=>{console.warn($e),console.warn(mL)})},[e,i]),ke=we.useCallback($e=>{$e!=null&&$e.isIntersecting&&pe()},[pe]);if(l8(f,ke,{rootMargin:"100px"},{disabled:!!G||ve!=="viewport"}),Sf(()=>{u.current||!G&&ve==="render"&&(pe(),u.current=!0)},[G,pe,ve]),Q==="external")return{...N,ref:f,type:Q,href:g,...U&&{children:U},...X&&{target:X},...G&&{disabled:G},...P&&{style:P},...V&&{className:V},...se&&{onClick:se},...F&&{onFocus:F},...k&&{onMouseEnter:k},...Z&&{onMouseLeave:Z},...ne&&{onTouchStart:ne}};const Le=$e=>{if(!G&&!f8($e)&&!$e.defaultPrevented&&(!X||X==="_self")&&$e.button===0){$e.preventDefault(),o8.flushSync(()=>{o(!0)});const rt=i.subscribe("onResolved",()=>{rt(),o(!1)});return i.navigate({...e,replace:R,resetScroll:z,hashScrollIntoView:E,startTransition:A,viewTransition:j,ignoreBlocker:ue})}},We=$e=>{G||ve&&pe()},et=We,st=$e=>{if(G)return;const rt=$e.target||{};if(ve){if(rt.preloadTimeout)return;rt.preloadTimeout=setTimeout(()=>{rt.preloadTimeout=null,pe()},he)}},Rt=$e=>{if(G)return;const rt=$e.target||{};rt.preloadTimeout&&(clearTimeout(rt.preloadTimeout),rt.preloadTimeout=null)},Qt=$e=>rt=>{var hc;(hc=rt.persist)==null||hc.call(rt),$e.filter(Boolean).forEach(np=>{rt.defaultPrevented||np(rt)})},Yt=Be?Sa(h,{})??{}:{},ii=Be?{}:Sa(m,{}),An=[V,Yt.className,ii.className].filter(Boolean).join(" "),co={...P,...Yt.style,...ii.style};return{...N,...Yt,...ii,href:G?void 0:ie.maskedLocation?i.history.createHref(ie.maskedLocation.href):i.history.createHref(ie.href),ref:f,onClick:Qt([se,Le]),onFocus:Qt([F,We]),onMouseEnter:Qt([k,st]),onMouseLeave:Qt([Z,Rt]),onTouchStart:Qt([ne,et]),disabled:!!G,target:X,...Object.keys(co).length&&{style:co},...An&&{className:An},...G&&{role:"link","aria-disabled":!0},...Be&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const n_=we.forwardRef((e,t)=>{const{_asChild:i,...r}=e,{type:o,ref:u,...f}=c8(r,t),h=typeof r.children=="function"?r.children({isActive:f["data-status"]==="active"}):r.children;return typeof i>"u"&&delete f.disabled,we.createElement(i||"a",{...f,ref:u},h)});function f8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d8(){const e=Si(),t=we.useRef({router:e,mounted:!1}),i=jt({select:({isLoading:v})=>v}),[r,o]=we.useState(!1),u=jt({select:v=>v.matches.some(b=>b.status==="pending"),structuralSharing:!0}),f=H0(i),h=i||r||u,m=H0(h),y=i||u,g=H0(y);return e.isServer||(e.startReactTransition=v=>{o(!0),we.startTransition(()=>{v(),o(!1)})}),we.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ba(e.latestLocation.href)!==ba(b.href)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Sf(()=>{if(typeof window<"u"&&e.clientSsr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Sf(()=>{f&&!i&&e.emit({type:"onLoad",...ll(e.state)})},[f,e,i]),Sf(()=>{g&&!y&&e.emit({type:"onBeforeRouteMount",...ll(e.state)})},[y,g,e]),Sf(()=>{m&&!h&&(e.emit({type:"onResolved",...ll(e.state)}),e.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})))},[h,m,e]),null}function h8(){const e=Si(),t=e.options.defaultPendingComponent?w.jsx(e.options.defaultPendingComponent,{}):null,i=e.isServer||typeof document<"u"&&e.clientSsr?Mm:we.Suspense,r=w.jsxs(i,{fallback:t,children:[w.jsx(d8,{}),w.jsx(p8,{})]});return e.options.InnerWrap?w.jsx(e.options.InnerWrap,{children:r}):r}function p8(){const e=jt({select:i=>{var r;return(r=i.matches[0])==null?void 0:r.id}}),t=jt({select:i=>i.loadedAt});return w.jsx(Wy.Provider,{value:e,children:w.jsx(Wb,{getResetKey:()=>t,errorComponent:Zy,onCatch:i=>{i.message||i.toString()},children:e?w.jsx(WO,{matchId:e}):null})})}const tk=["component","errorComponent","pendingComponent","notFoundComponent"];function m8(e){var t;for(const i of tk)if((t=e.options[i])!=null&&t.preload)return!0;return!1}function U0(e,t){if(e==null)return{};if("~standard"in e){const i=e["~standard"].validate(t);if(i instanceof Promise)throw new fy("Async validation not supported");if(i.issues)throw new fy(JSON.stringify(i.issues,void 0,2),{cause:i});return i.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function y8(e){return new g8(e)}class g8{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startReactTransition=i=>i(),this.update=i=>{var r;i.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options;this.options={...this.options,...i},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(u=>[encodeURIComponent(u),u])):void 0,(!this.basepath||i.basepath&&i.basepath!==o.basepath)&&(i.basepath===void 0||i.basepath===""||i.basepath==="/"?this.basepath="/":this.basepath=`/${vS(i.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?RL({initialEntries:[this.basepath||"/"]}):TL()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new bS(S8(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(u=>!["redirected"].includes(u.status))}}}),i8(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[i.id]=i);const r=f=>{f.forEach((h,m)=>{h.init({originalIndex:m,defaultSsr:this.options.defaultSsr});const y=this.routesById[h.id];if(ei(!y,`Duplicate routes found with id: ${String(h.id)}`),this.routesById[h.id]=h,!h.isRoot&&h.path){const v=ba(h.fullPath);(!this.routesByPath[v]||h.fullPath.endsWith("/"))&&(this.routesByPath[v]=h)}const g=h.children;g!=null&&g.length&&r(g)})};r([this.routeTree]);const o=[];Object.values(this.routesById).forEach((f,h)=>{var m;if(f.isRoot||!f.path)return;const y=Xb(f.fullPath),g=Wu(y);for(;g.length>1&&((m=g[0])==null?void 0:m.value)==="/";)g.shift();const v=g.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);o.push({child:f,trimmed:y,parsed:g,index:h,scores:v})}),this.flatRoutes=o.sort((f,h)=>{const m=Math.min(f.scores.length,h.scores.length);for(let y=0;y<m;y++)if(f.scores[y]!==h.scores[y])return h.scores[y]-f.scores[y];if(f.scores.length!==h.scores.length)return h.scores.length-f.scores.length;for(let y=0;y<m;y++)if(f.parsed[y].value!==h.parsed[y].value)return f.parsed[y].value>h.parsed[y].value?1:-1;return f.index-h.index}).map((f,h)=>(f.child.rank=h,f.child))},this.subscribe=(i,r)=>{const o={eventType:i,fn:r};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=i=>{this.subscribers.forEach(r=>{r.eventType===i.type&&r.fn(i)})},this.parseLocation=(i,r)=>{const o=({pathname:m,search:y,hash:g,state:v})=>{const b=this.options.parseSearch(y),E=this.options.stringifySearch(b);return{pathname:m,searchStr:E,search:Qn(i==null?void 0:i.search,b),hash:g.split("#").reverse()[0]??"",href:`${m}${E}${g}`,state:Qn(i==null?void 0:i.state,v)}},u=o(r??this.history.location),{__tempLocation:f,__tempKey:h}=u.state;if(f&&(!h||h===this.tempLocationKey)){const m=o(f);return m.state.key=u.state.key,delete m.state.__tempLocation,{...m,maskedLocation:u}}return u},this.resolvePathWithBase=(i,r)=>vL({basepath:this.basepath,base:i,to:Xy(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(i,r)=>{let o={};const u=ba(i.pathname),f=g=>mm(this.basepath,u,{to:g.fullPath,caseSensitive:g.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let h=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;h?o=f(h):h=this.flatRoutes.find(g=>{const v=f(g);return v?(o=v,!0):!1});let m=h||this.routesById[zt];const y=[m];for(;m.parentRoute;)m=m.parentRoute,y.unshift(m);return{matchedRoutes:y,routeParams:o,foundRoute:h}},this.cancelMatch=i=>{const r=this.getMatch(i);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var i;(i=this.state.pendingMatches)==null||i.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=i=>{const r=(u={},f)=>{var h,m,y,g,v,b;const E=u._fromLocation?this.matchRoutes(u._fromLocation,{_buildLocation:!0}):this.state.matches,R=u.from!=null?E.find(ne=>mm(this.basepath,ba(ne.pathname),{to:u.from,caseSensitive:!1,fuzzy:!1})):void 0,A=(R==null?void 0:R.pathname)||this.latestLocation.pathname;ei(u.from==null||R!=null,"Could not find match for from: "+u.from);const z=(h=this.state.pendingMatches)!=null&&h.length?(m=Rf(this.state.pendingMatches))==null?void 0:m.search:((y=Rf(E))==null?void 0:y.search)||this.latestLocation.search,j=f==null?void 0:f.matchedRoutes.filter(ne=>E.find(ue=>ue.routeId===ne.id));let U;if(u.to)U=this.resolvePathWithBase(A,`${u.to}`);else{const ne=this.routesById[(g=j==null?void 0:j.find(ue=>{const ge=pm({path:ue.fullPath,params:(f==null?void 0:f.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Ts([this.basepath,ge])===A}))==null?void 0:g.id];U=this.resolvePathWithBase(A,(ne==null?void 0:ne.to)??A)}const X={...(v=Rf(E))==null?void 0:v.params};let G=(u.params??!0)===!0?X:{...X,...Sa(u.params,X)};Object.keys(G).length>0&&(f==null||f.matchedRoutes.map(ne=>{var ue;return((ue=ne.options.params)==null?void 0:ue.stringify)??ne.options.stringifyParams}).filter(Boolean).forEach(ne=>{G={...G,...ne(G)}})),U=pm({path:U,params:G??{},leaveWildcards:!1,leaveParams:i.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let P=z;if(i._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let ne={};f==null||f.matchedRoutes.forEach(ue=>{try{ue.options.validateSearch&&(ne={...ne,...U0(ue.options.validateSearch,{...ne,...P})??{}})}catch{}}),P=ne}P=(ne=>{const ue=(f==null?void 0:f.matchedRoutes.reduce((de,J)=>{var ae;const oe=[];if("search"in J.options)(ae=J.options.search)!=null&&ae.middlewares&&oe.push(...J.options.search.middlewares);else if(J.options.preSearchFilters||J.options.postSearchFilters){const Ce=({search:N,next:Q})=>{let re=N;"preSearchFilters"in J.options&&J.options.preSearchFilters&&(re=J.options.preSearchFilters.reduce((ie,ve)=>ve(ie),N));const le=Q(re);return"postSearchFilters"in J.options&&J.options.postSearchFilters?J.options.postSearchFilters.reduce((ie,ve)=>ve(ie),le):le};oe.push(Ce)}if(i._includeValidateSearch&&J.options.validateSearch){const Ce=({search:N,next:Q})=>{try{const re=Q(N);return{...re,...U0(J.options.validateSearch,re)??{}}}catch{}};oe.push(Ce)}return de.concat(oe)},[]))??[],ge=({search:de})=>u.search?u.search===!0?de:Sa(u.search,de):{};ue.push(ge);const Ee=(de,J)=>{if(de>=ue.length)return J;const ae=ue[de];return ae({search:J,next:Ce=>Ee(de+1,Ce)})};return Ee(0,ne)})(P),P=Qn(z,P);const se=this.options.stringifySearch(P),F=u.hash===!0?this.latestLocation.hash:u.hash?Sa(u.hash,this.latestLocation.hash):void 0,k=F?`#${F}`:"";let Z=u.state===!0?this.latestLocation.state:u.state?Sa(u.state,this.latestLocation.state):{};return Z=Qn(this.latestLocation.state,Z),{pathname:U,search:P,searchStr:se,state:Z,hash:F??"",href:`${U}${se}${k}`,unmaskOnReload:u.unmaskOnReload}},o=(u={},f)=>{var h;const m=r(u);let y=f?r(f):void 0;if(!y){let b={};const E=(h=this.options.routeMasks)==null?void 0:h.find(R=>{const A=mm(this.basepath,m.pathname,{to:R.from,caseSensitive:!1,fuzzy:!1});return A?(b=A,!0):!1});if(E){const{from:R,...A}=E;f={...gS(i,["from"]),...A,params:b},y=r(f)}}const g=this.getMatchedRoutes(m,u),v=r(u,g);if(y){const b=this.getMatchedRoutes(y,f),E=r(f,b);v.maskedLocation=E}return v};return i.mask?o(i,{...gS(i,["from"]),...i.mask}):o(i)},this.commitLocation=({viewTransition:i,ignoreBlocker:r,...o})=>{const u=()=>{o.state.key=this.latestLocation.state.key;const m=ul(o.state,this.latestLocation.state);return delete o.state.key,m},f=this.latestLocation.href===o.href,h=this.commitLocationPromise;if(this.commitLocationPromise=Wo(()=>{h==null||h.resolve()}),f&&u())this.load();else{let{maskedLocation:m,hashScrollIntoView:y,...g}=o;m&&(g={...m,state:{...m.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=y??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=i,this.history[o.replace?"replace":"push"](g.href,g.state,{ignoreBlocker:r})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:i,resetScroll:r,hashScrollIntoView:o,viewTransition:u,ignoreBlocker:f,href:h,...m}={})=>{if(h){const g=this.history.location.state.__TSR_index,v=Af(h,{__TSR_index:i?g:g+1});m.to=v.pathname,m.search=this.options.parseSearch(v.search),m.hash=v.hash.slice(1)}const y=this.buildLocation({...m,_includeValidateSearch:!0});return this.commitLocation({...y,viewTransition:u,replace:i,resetScroll:r,hashScrollIntoView:o,ignoreBlocker:f})},this.navigate=({to:i,reloadDocument:r,href:o,...u})=>{if(r){o||(o=this.buildLocation({to:i,...u}).href),u.replace?window.location.replace(o):window.location.href=o;return}return this.buildAndCommitLocation({...u,href:o,to:i})},this.load=async i=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,o,u;for(u=new Promise(f=>{this.startReactTransition(async()=>{var h;try{const m=this.latestLocation,y=this.state.resolvedLocation;this.cancelMatches();let g;z0(()=>{g=this.matchRoutes(m),this.__store.setState(v=>({...v,status:"pending",isLoading:!0,location:m,pendingMatches:g,cachedMatches:v.cachedMatches.filter(b=>!g.find(E=>E.id===b.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...ll({resolvedLocation:y,location:m})}),this.emit({type:"onBeforeLoad",...ll({resolvedLocation:y,location:m})}),await this.loadMatches({sync:i==null?void 0:i.sync,matches:g,location:m,onReady:async()=>{this.startViewTransition(async()=>{let v,b,E;z0(()=>{this.__store.setState(R=>{const A=R.matches,z=R.pendingMatches||R.matches;return v=A.filter(j=>!z.find(U=>U.id===j.id)),b=z.filter(j=>!A.find(U=>U.id===j.id)),E=A.filter(j=>z.find(U=>U.id===j.id)),{...R,isLoading:!1,loadedAt:Date.now(),matches:z,pendingMatches:void 0,cachedMatches:[...R.cachedMatches,...v.filter(j=>j.status!=="error")]}}),this.clearExpiredCache()}),[[v,"onLeave"],[b,"onEnter"],[E,"onStay"]].forEach(([R,A])=>{R.forEach(z=>{var j,U;(U=(j=this.looseRoutesById[z.routeId].options)[A])==null||U.call(j,z)})})})}})}catch(m){L0(m)?(r=m,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Zn(m)&&(o=m),this.__store.setState(y=>({...y,statusCode:r?r.statusCode:o?404:y.matches.some(g=>g.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===u&&((h=this.commitLocationPromise)==null||h.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=u,await u;this.latestLoadPromise&&u!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=i=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;typeof r=="object"&&this.isViewTransitionTypesSupported?o={update:i,types:r.types}:o=i,document.startViewTransition(o)}else i()},this.updateMatch=(i,r)=>{var o;let u;const f=(o=this.state.pendingMatches)==null?void 0:o.find(g=>g.id===i),h=this.state.matches.find(g=>g.id===i),m=this.state.cachedMatches.find(g=>g.id===i),y=f?"pendingMatches":h?"matches":m?"cachedMatches":"";return y&&this.__store.setState(g=>{var v;return{...g,[y]:(v=g[y])==null?void 0:v.map(b=>b.id===i?u=r(b):b)}}),u},this.getMatch=i=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===i),this.loadMatches=async({location:i,matches:r,preload:o,onReady:u,updateMatch:f=this.updateMatch,sync:h})=>{let m,y=!1;const g=async()=>{y||(y=!0,await(u==null?void 0:u()))},v=E=>!!(o&&!this.state.matches.find(R=>R.id===E));!this.isServer&&!this.state.matches.length&&g();const b=(E,R)=>{var A,z,j,U;if(L0(R)&&!R.reloadDocument)throw R;if(da(R)||Zn(R)){if(f(E.id,X=>({...X,status:da(R)?"redirected":Zn(R)?"notFound":"error",isFetching:!1,error:R,beforeLoadPromise:void 0,loaderPromise:void 0})),R.routeId||(R.routeId=E.routeId),(A=E.beforeLoadPromise)==null||A.resolve(),(z=E.loaderPromise)==null||z.resolve(),(j=E.loadPromise)==null||j.resolve(),da(R))throw y=!0,R=this.resolveRedirect({...R,_fromLocation:i}),R;if(Zn(R))throw this._handleNotFound(r,R,{updateMatch:f}),(U=this.serverSsr)==null||U.onMatchSettled({router:this,match:this.getMatch(E.id)}),R}};try{await new Promise((E,R)=>{(async()=>{var A,z,j;try{const U=(P,V,se)=>{var F,k;const{id:Z,routeId:ne}=r[P],ue=this.looseRoutesById[ne];if(V instanceof Promise)throw V;V.routerCode=se,m=m??P,b(this.getMatch(Z),V);try{(k=(F=ue.options).onError)==null||k.call(F,V)}catch(ge){V=ge,b(this.getMatch(Z),V)}f(Z,ge=>{var Ee,de;return(Ee=ge.beforeLoadPromise)==null||Ee.resolve(),(de=ge.loadPromise)==null||de.resolve(),{...ge,error:V,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[P,{id:V,routeId:se}]of r.entries()){const F=this.getMatch(V),k=(A=r[P-1])==null?void 0:A.id,Z=this.looseRoutesById[se],ne=Z.options.pendingMs??this.options.defaultPendingMs,ue=!!(u&&!this.isServer&&!v(V)&&(Z.options.loader||Z.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(Z.options.pendingComponent??this.options.defaultPendingComponent));let ge=!0;if((F.beforeLoadPromise||F.loaderPromise)&&(ue&&setTimeout(()=>{try{g()}catch{}},ne),await F.beforeLoadPromise,ge=this.getMatch(V).status!=="success"),ge){try{f(V,he=>({...he,loadPromise:Wo(()=>{var Be;(Be=he.loadPromise)==null||Be.resolve()}),beforeLoadPromise:Wo()}));const Ee=new AbortController;let de;ue&&(de=setTimeout(()=>{try{g()}catch{}},ne));const{paramsError:J,searchError:ae}=this.getMatch(V);J&&U(P,J,"PARSE_PARAMS"),ae&&U(P,ae,"VALIDATE_SEARCH");const oe=()=>k?this.getMatch(k).context:this.options.context??{};f(V,he=>({...he,isFetching:"beforeLoad",fetchCount:he.fetchCount+1,abortController:Ee,pendingTimeout:de,context:{...oe(),...he.__routeContext}}));const{search:Ce,params:N,context:Q,cause:re}=this.getMatch(V),le=v(V),ie={search:Ce,abortController:Ee,params:N,preload:le,context:Q,location:i,navigate:he=>this.navigate({...he,_fromLocation:i}),buildLocation:this.buildLocation,cause:le?"preload":re,matches:r},ve=await((j=(z=Z.options).beforeLoad)==null?void 0:j.call(z,ie))??{};(da(ve)||Zn(ve))&&U(P,ve,"BEFORE_LOAD"),f(V,he=>({...he,__beforeLoadContext:ve,context:{...oe(),...he.__routeContext,...ve},abortController:Ee}))}catch(Ee){U(P,Ee,"BEFORE_LOAD")}f(V,Ee=>{var de;return(de=Ee.beforeLoadPromise)==null||de.resolve(),{...Ee,beforeLoadPromise:void 0,isFetching:!1}})}}const X=r.slice(0,m),G=[];X.forEach(({id:P,routeId:V},se)=>{G.push((async()=>{const{loaderPromise:F}=this.getMatch(P);let k=!1,Z=!1;if(F){await F;const ne=this.getMatch(P);ne.error&&b(ne,ne.error)}else{const ne=G[se-1],ue=this.looseRoutesById[V],ge=()=>{const{params:re,loaderDeps:le,abortController:ie,context:ve,cause:he}=this.getMatch(P),Be=v(P);return{params:re,deps:le,preload:!!Be,parentMatchPromise:ne,abortController:ie,context:ve,location:i,navigate:pe=>this.navigate({...pe,_fromLocation:i}),cause:Be?"preload":he,route:ue}},Ee=Date.now()-this.getMatch(P).updatedAt,de=v(P),J=de?ue.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ue.options.staleTime??this.options.defaultStaleTime??0,ae=ue.options.shouldReload,oe=typeof ae=="function"?ae(ge()):ae;f(P,re=>({...re,loaderPromise:Wo(),preload:!!de&&!this.state.matches.find(le=>le.id===P)}));const Ce=async()=>{var re,le,ie,ve,he,Be,pe,ke,Le;try{const We=async()=>{const et=this.getMatch(P);et.minPendingPromise&&await et.minPendingPromise};try{this.loadRouteChunk(ue),f(P,An=>({...An,isFetching:"loader"}));const et=await((le=(re=ue.options).loader)==null?void 0:le.call(re,ge()));b(this.getMatch(P),et),await ue._lazyPromise,await We();const st=(ve=(ie=ue.options).head)==null?void 0:ve.call(ie,{matches:r,match:this.getMatch(P),params:this.getMatch(P).params,loaderData:et}),Rt=st==null?void 0:st.meta,Qt=st==null?void 0:st.links,Yt=st==null?void 0:st.scripts,ii=(Be=(he=ue.options).headers)==null?void 0:Be.call(he,{loaderData:et});f(P,An=>({...An,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:et,meta:Rt,links:Qt,scripts:Yt,headers:ii}))}catch(et){let st=et;await We(),b(this.getMatch(P),et);try{(ke=(pe=ue.options).onError)==null||ke.call(pe,et)}catch(Rt){st=Rt,b(this.getMatch(P),Rt)}f(P,Rt=>({...Rt,error:st,status:"error",isFetching:!1}))}(Le=this.serverSsr)==null||Le.onMatchSettled({router:this,match:this.getMatch(P)}),await ue._componentsPromise}catch(We){f(P,et=>({...et,loaderPromise:void 0})),b(this.getMatch(P),We)}},{status:N,invalid:Q}=this.getMatch(P);k=N==="success"&&(Q||(oe??Ee>J)),de&&ue.options.preload===!1||(k&&!h?(Z=!0,(async()=>{try{await Ce();const{loaderPromise:re,loadPromise:le}=this.getMatch(P);re==null||re.resolve(),le==null||le.resolve(),f(P,ie=>({...ie,loaderPromise:void 0}))}catch(re){L0(re)&&await this.navigate(re)}})()):(N!=="success"||k&&h)&&await Ce())}if(!Z){const{loaderPromise:ne,loadPromise:ue}=this.getMatch(P);ne==null||ne.resolve(),ue==null||ue.resolve()}return f(P,ne=>({...ne,isFetching:Z?ne.isFetching:!1,loaderPromise:Z?ne.loaderPromise:void 0,invalid:!1})),this.getMatch(P)})())}),await Promise.all(G),E()}catch(U){R(U)}})()}),await g()}catch(E){if(da(E)||Zn(E))throw Zn(E)&&!o&&await g(),E}return r},this.invalidate=i=>{const r=o=>{var u;return((u=i==null?void 0:i.filter)==null?void 0:u.call(i,o))??!0?{...o,invalid:!0,...o.status==="error"?{status:"pending",error:void 0}:{}}:o};return this.__store.setState(o=>{var u;return{...o,matches:o.matches.map(r),cachedMatches:o.cachedMatches.map(r),pendingMatches:(u=o.pendingMatches)==null?void 0:u.map(r)}}),this.load({sync:i==null?void 0:i.sync})},this.resolveRedirect=i=>{const r=i;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=i=>{const r=i==null?void 0:i.filter;r!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(u=>!r(u))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const i=r=>{const o=this.looseRoutesById[r.routeId];if(!o.options.loader)return!0;const u=(r.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<u)};this.clearCache({filter:i})},this.loadRouteChunk=i=>(i._lazyPromise===void 0&&(i.lazyFn?i._lazyPromise=i.lazyFn().then(r=>{const{id:o,...u}=r.options;Object.assign(i.options,u)}):i._lazyPromise=Promise.resolve()),i._componentsPromise===void 0&&(i._componentsPromise=i._lazyPromise.then(()=>Promise.all(tk.map(async r=>{const o=i.options[r];o!=null&&o.preload&&await o.preload()})))),i._componentsPromise),this.preloadRoute=async i=>{const r=this.buildLocation(i);let o=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:i});const u=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(h=>h.id)),f=new Set([...u,...this.state.cachedMatches.map(h=>h.id)]);z0(()=>{o.forEach(h=>{f.has(h.id)||this.__store.setState(m=>({...m,cachedMatches:[...m.cachedMatches,h]}))})});try{return o=await this.loadMatches({matches:o,location:r,preload:!0,updateMatch:(h,m)=>{u.has(h)?o=o.map(y=>y.id===h?m(y):y):this.updateMatch(h,m)}}),o}catch(h){if(da(h))return h.reloadDocument?void 0:await this.preloadRoute({...h,_fromLocation:r});Zn(h)||console.error(h);return}},this.matchRoute=(i,r)=>{const o={...i,to:i.to?this.resolvePathWithBase(i.from||"",i.to):void 0,params:i.params||{},leaveParams:!0},u=this.buildLocation(o);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const h=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,m=mm(this.basepath,h.pathname,{...r,to:u.pathname});return!m||i.params&&!ul(m,i.params,{partial:!0})?!1:m&&((r==null?void 0:r.includeSearch)??!0)?ul(h.search,u.search,{partial:!0})?m:!1:m},this._handleNotFound=(i,r,{updateMatch:o=this.updateMatch}={})=>{const u=Object.fromEntries(i.map(m=>[m.routeId,m]));let f=(r.global?this.looseRoutesById[zt]:this.looseRoutesById[r.routeId])||this.looseRoutesById[zt];for(;!f.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&f.id!==zt;)f=f.parentRoute,ei(f);const h=u[f.id];ei(h,"Could not find match for route: "+f.id),o(h.id,m=>({...m,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&f.parentRoute&&(r.routeId=f.parentRoute.id,this._handleNotFound(i,r,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(i=>i.status==="notFound"||i.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??EL,parseSearch:t.parseSearch??CL}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,i,r){return typeof t=="string"?this.matchRoutesInternal({pathname:t,search:i},r):this.matchRoutesInternal(t,i)}matchRoutesInternal(t,i){const{foundRoute:r,matchedRoutes:o,routeParams:u}=this.getMatchedRoutes(t,i==null?void 0:i.dest);let f=!1;(r?r.path!=="/"&&u["**"]:ba(t.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):f=!0);const h=(()=>{if(f){if(this.options.notFoundMode!=="root")for(let v=o.length-1;v>=0;v--){const b=o[v];if(b.children)return b.id}return zt}})(),m=o.map(v=>{var b;let E;const R=((b=v.options.params)==null?void 0:b.parse)??v.options.parseParams;if(R)try{const A=R(u);Object.assign(u,A)}catch(A){if(E=new v8(A.message,{cause:A}),i!=null&&i.throwOnError)throw E;return E}}),y=[],g=v=>(v==null?void 0:v.id)?v.context??this.options.context??{}:this.options.context??{};return o.forEach((v,b)=>{var E,R,A,z;const j=y[b-1],[U,X,G]=(()=>{const de=(j==null?void 0:j.search)??t.search,J=(j==null?void 0:j._strictSearch)??{};try{const ae=U0(v.options.validateSearch,{...de})??{};return[{...de,...ae},{...J,...ae},void 0]}catch(ae){let oe=ae;if(ae instanceof fy||(oe=new fy(ae.message,{cause:ae})),i!=null&&i.throwOnError)throw oe;return[de,{},oe]}})(),P=((R=(E=v.options).loaderDeps)==null?void 0:R.call(E,{search:U}))??"",V=P?JSON.stringify(P):"",{usedParams:se,interpolatedPath:F}=pm({path:v.fullPath,params:u,decodeCharMap:this.pathParamsDecodeCharMap}),k=pm({path:v.id,params:u,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+V,Z=this.getMatch(k),ne=this.state.matches.find(de=>de.routeId===v.id),ue=ne?"stay":"enter";let ge;if(Z)ge={...Z,cause:ue,params:ne?Qn(ne.params,u):u,_strictParams:se,search:Qn(ne?ne.search:Z.search,U),_strictSearch:X};else{const de=v.options.loader||v.options.beforeLoad||v.lazyFn||m8(v)?"pending":"success";ge={id:k,index:b,routeId:v.id,params:ne?Qn(ne.params,u):u,_strictParams:se,pathname:Ts([this.basepath,F]),updatedAt:Date.now(),search:ne?Qn(ne.search,U):U,_strictSearch:X,searchError:void 0,status:de,isFetching:!1,error:void 0,paramsError:m[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ue,loaderDeps:ne?Qn(ne.loaderDeps,P):P,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:v.options.staticData||{},loadPromise:Wo(),fullPath:v.fullPath}}ge.status==="success"&&(ge.headers=(z=(A=v.options).headers)==null?void 0:z.call(A,{loaderData:ge.loaderData})),i!=null&&i.preload||(ge.globalNotFound=h===v.id),ge.searchError=G;const Ee=g(j);ge.context={...Ee,...ge.__routeContext,...ge.__beforeLoadContext},y.push(ge)}),y.forEach((v,b)=>{var E,R,A,z;const j=this.looseRoutesById[v.routeId];if(!this.getMatch(v.id)&&(i==null?void 0:i._buildLocation)!==!0){const G=y[b-1],P=g(G),V={deps:v.loaderDeps,params:v.params,context:P,location:t,navigate:se=>this.navigate({...se,_fromLocation:t}),buildLocation:this.buildLocation,cause:v.cause,abortController:v.abortController,preload:!!v.preload,matches:y};v.__routeContext=((R=(E=j.options).context)==null?void 0:R.call(E,V))??{},v.context={...P,...v.__routeContext,...v.__beforeLoadContext}}const X=(z=(A=j.options).head)==null?void 0:z.call(A,{matches:y,match:v,params:v.params,loaderData:v.loaderData??void 0});v.links=X==null?void 0:X.links,v.scripts=X==null?void 0:X.scripts,v.meta=X==null?void 0:X.meta}),y}}class fy extends Error{}class v8 extends Error{}function S8(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function b8({router:e,children:t,...i}){e.update({...e.options,...i,context:{...e.options.context,...i.context}});const r=QO(),o=w.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?w.jsx(e.options.Wrap,{children:o}):o}function w8({router:e,...t}){return w.jsx(b8,{router:e,...t,children:w.jsx(h8,{})})}let x8={data:""},C8=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||x8,E8=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_8=/\/\*[^]*?\*\/|  +/g,i_=/\n+/g,ga=(e,t)=>{let i="",r="",o="";for(let u in e){let f=e[u];u[0]=="@"?u[1]=="i"?i=u+" "+f+";":r+=u[1]=="f"?ga(f,u):u+"{"+ga(f,u[1]=="k"?"":t)+"}":typeof f=="object"?r+=ga(f,t?t.replace(/([^,])+/g,h=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ga.p?ga.p(u,f):u+":"+f+";")}return i+(t&&o?t+"{"+o+"}":o)+r},os={},nk=e=>{if(typeof e=="object"){let t="";for(let i in e)t+=i+nk(e[i]);return t}return e},D8=(e,t,i,r,o)=>{let u=nk(e),f=os[u]||(os[u]=(m=>{let y=0,g=11;for(;y<m.length;)g=101*g+m.charCodeAt(y++)>>>0;return"go"+g})(u));if(!os[f]){let m=u!==e?e:(y=>{let g,v,b=[{}];for(;g=E8.exec(y.replace(_8,""));)g[4]?b.shift():g[3]?(v=g[3].replace(i_," ").trim(),b.unshift(b[0][v]=b[0][v]||{})):b[0][g[1]]=g[2].replace(i_," ").trim();return b[0]})(e);os[f]=ga(o?{["@keyframes "+f]:m}:m,i?"":"."+f)}let h=i&&os.g?os.g:null;return i&&(os.g=os[f]),((m,y,g,v)=>{v?y.data=y.data.replace(v,m):y.data.indexOf(m)===-1&&(y.data=g?m+y.data:y.data+m)})(os[f],t,r,h),f},T8=(e,t,i)=>e.reduce((r,o,u)=>{let f=t[u];if(f&&f.call){let h=f(i),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;f=m?"."+m:h&&typeof h=="object"?h.props?"":ga(h,""):h===!1?"":h}return r+o+(f??"")},"");function ec(e){let t=this||{},i=e.call?e(t.p):e;return D8(i.unshift?i.raw?T8(i,[].slice.call(arguments,1),t.p):i.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):i,C8(t.target),t.g,t.o,t.k)}ec.bind({g:1});ec.bind({k:1});function ik(e){var t,i,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(i=ik(e[t]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}function At(){for(var e,t,i=0,r="",o=arguments.length;i<o;i++)(e=arguments[i])&&(t=ik(e))&&(r&&(r+=" "),r+=t);return r}const R8=e=>{try{const t=localStorage.getItem(e);return typeof t=="string"?JSON.parse(t):void 0}catch{return}};function dy(e,t){const[i,r]=Ze.useState();Ze.useEffect(()=>{const u=R8(e);r(typeof u>"u"||u===null?typeof t=="function"?t():t:u)},[t,e]);const o=Ze.useCallback(u=>{r(f=>{let h=u;typeof u=="function"&&(h=u(f));try{localStorage.setItem(e,JSON.stringify(h))}catch{}return h})},[e]);return[i,o]}const M8=typeof window>"u";function xS(e){const t={pending:"yellow",success:"green",error:"red",notFound:"purple",redirected:"gray"};return e.isFetching&&e.status==="success"?e.isFetching==="beforeLoad"?"purple":"blue":t[e.status]}function O8(e,t){const i=e.find(r=>r.routeId===t.id);return i?xS(i):"gray"}function sk(){const[e,t]=Ze.useState(!1);return Ze[M8?"useEffect":"useLayoutEffect"](()=>{t(!0)},[]),e}const k8=e=>{const t=Object.getOwnPropertyNames(Object(e)),i=typeof e=="bigint"?`${e.toString()}n`:e;try{return JSON.stringify(i,t)}catch{return"unable to stringify"}};function s_(e){const t=sk(),[i,r]=Ze.useState(e),o=Ze.useCallback(u=>{N8(()=>{t&&r(u)})},[t]);return[i,o]}function N8(e){Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function A8(e,t=[i=>i]){return e.map((i,r)=>[i,r]).sort(([i,r],[o,u])=>{for(const f of t){const h=f(i),m=f(o);if(typeof h>"u"){if(typeof m>"u")continue;return 1}if(h!==m)return h>m?1:-1}return r-u}).map(([i])=>i)}const Qe={colors:{inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000000",white:"#ffffff",neutral:{50:"#f9fafb",100:"#f2f4f7",200:"#eaecf0",300:"#d0d5dd",400:"#98a2b3",500:"#667085",600:"#475467",700:"#344054",800:"#1d2939",900:"#101828"},darkGray:{50:"#525c7a",100:"#49536e",200:"#414962",300:"#394056",400:"#313749",500:"#292e3d",600:"#212530",700:"#191c24",800:"#111318",900:"#0b0d10"},gray:{50:"#f9fafb",100:"#f2f4f7",200:"#eaecf0",300:"#d0d5dd",400:"#98a2b3",500:"#667085",600:"#475467",700:"#344054",800:"#1d2939",900:"#101828"},blue:{25:"#F5FAFF",50:"#EFF8FF",100:"#D1E9FF",200:"#B2DDFF",300:"#84CAFF",400:"#53B1FD",500:"#2E90FA",600:"#1570EF",700:"#175CD3",800:"#1849A9",900:"#194185"},green:{25:"#F6FEF9",50:"#ECFDF3",100:"#D1FADF",200:"#A6F4C5",300:"#6CE9A6",400:"#32D583",500:"#12B76A",600:"#039855",700:"#027A48",800:"#05603A",900:"#054F31"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},yellow:{25:"#FFFCF5",50:"#FFFAEB",100:"#FEF0C7",200:"#FEDF89",300:"#FEC84B",400:"#FDB022",500:"#F79009",600:"#DC6803",700:"#B54708",800:"#93370D",900:"#7A2E0E"},purple:{25:"#FAFAFF",50:"#F4F3FF",100:"#EBE9FE",200:"#D9D6FE",300:"#BDB4FE",400:"#9B8AFB",500:"#7A5AF8",600:"#6938EF",700:"#5925DC",800:"#4A1FB8",900:"#3E1C96"},teal:{25:"#F6FEFC",50:"#F0FDF9",100:"#CCFBEF",200:"#99F6E0",300:"#5FE9D0",400:"#2ED3B7",500:"#15B79E",600:"#0E9384",700:"#107569",800:"#125D56",900:"#134E48"},pink:{25:"#fdf2f8",50:"#fce7f3",100:"#fbcfe8",200:"#f9a8d4",300:"#f472b6",400:"#ec4899",500:"#db2777",600:"#be185d",700:"#9d174d",800:"#831843",900:"#500724"},cyan:{25:"#ecfeff",50:"#cffafe",100:"#a5f3fc",200:"#67e8f9",300:"#22d3ee",400:"#06b6d4",500:"#0891b2",600:"#0e7490",700:"#155e75",800:"#164e63",900:"#083344"}},alpha:{100:"ff",90:"e5",80:"cc",70:"b3",60:"99",50:"80",40:"66",30:"4d",20:"33",10:"1a",0:"00"},font:{size:{"2xs":"calc(var(--tsrd-font-size) * 0.625)",xs:"calc(var(--tsrd-font-size) * 0.75)",sm:"calc(var(--tsrd-font-size) * 0.875)",md:"var(--tsrd-font-size)",lg:"calc(var(--tsrd-font-size) * 1.125)",xl:"calc(var(--tsrd-font-size) * 1.25)","2xl":"calc(var(--tsrd-font-size) * 1.5)","3xl":"calc(var(--tsrd-font-size) * 1.875)","4xl":"calc(var(--tsrd-font-size) * 2.25)","5xl":"calc(var(--tsrd-font-size) * 3)","6xl":"calc(var(--tsrd-font-size) * 3.75)","7xl":"calc(var(--tsrd-font-size) * 4.5)","8xl":"calc(var(--tsrd-font-size) * 6)","9xl":"calc(var(--tsrd-font-size) * 8)"},lineHeight:{"3xs":"calc(var(--tsrd-font-size) * 0.75)","2xs":"calc(var(--tsrd-font-size) * 0.875)",xs:"calc(var(--tsrd-font-size) * 1)",sm:"calc(var(--tsrd-font-size) * 1.25)",md:"calc(var(--tsrd-font-size) * 1.5)",lg:"calc(var(--tsrd-font-size) * 1.75)",xl:"calc(var(--tsrd-font-size) * 2)","2xl":"calc(var(--tsrd-font-size) * 2.25)","3xl":"calc(var(--tsrd-font-size) * 2.5)","4xl":"calc(var(--tsrd-font-size) * 2.75)","5xl":"calc(var(--tsrd-font-size) * 3)","6xl":"calc(var(--tsrd-font-size) * 3.25)","7xl":"calc(var(--tsrd-font-size) * 3.5)","8xl":"calc(var(--tsrd-font-size) * 3.75)","9xl":"calc(var(--tsrd-font-size) * 4)"},weight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},fontFamily:{sans:"ui-sans-serif, Inter, system-ui, sans-serif, sans-serif",mono:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"}},breakpoints:{xs:"320px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},border:{radius:{none:"0px",xs:"calc(var(--tsrd-font-size) * 0.125)",sm:"calc(var(--tsrd-font-size) * 0.25)",md:"calc(var(--tsrd-font-size) * 0.375)",lg:"calc(var(--tsrd-font-size) * 0.5)",xl:"calc(var(--tsrd-font-size) * 0.75)","2xl":"calc(var(--tsrd-font-size) * 1)","3xl":"calc(var(--tsrd-font-size) * 1.5)",full:"9999px"}},size:{0:"0px",.25:"calc(var(--tsrd-font-size) * 0.0625)",.5:"calc(var(--tsrd-font-size) * 0.125)",1:"calc(var(--tsrd-font-size) * 0.25)",1.5:"calc(var(--tsrd-font-size) * 0.375)",2:"calc(var(--tsrd-font-size) * 0.5)",2.5:"calc(var(--tsrd-font-size) * 0.625)",3:"calc(var(--tsrd-font-size) * 0.75)",3.5:"calc(var(--tsrd-font-size) * 0.875)",4:"calc(var(--tsrd-font-size) * 1)",4.5:"calc(var(--tsrd-font-size) * 1.125)",5:"calc(var(--tsrd-font-size) * 1.25)",5.5:"calc(var(--tsrd-font-size) * 1.375)",6:"calc(var(--tsrd-font-size) * 1.5)",6.5:"calc(var(--tsrd-font-size) * 1.625)",7:"calc(var(--tsrd-font-size) * 1.75)",8:"calc(var(--tsrd-font-size) * 2)",9:"calc(var(--tsrd-font-size) * 2.25)",10:"calc(var(--tsrd-font-size) * 2.5)",11:"calc(var(--tsrd-font-size) * 2.75)",12:"calc(var(--tsrd-font-size) * 3)",14:"calc(var(--tsrd-font-size) * 3.5)",16:"calc(var(--tsrd-font-size) * 4)",20:"calc(var(--tsrd-font-size) * 5)",24:"calc(var(--tsrd-font-size) * 6)",28:"calc(var(--tsrd-font-size) * 7)",32:"calc(var(--tsrd-font-size) * 8)",36:"calc(var(--tsrd-font-size) * 9)",40:"calc(var(--tsrd-font-size) * 10)",44:"calc(var(--tsrd-font-size) * 11)",48:"calc(var(--tsrd-font-size) * 12)",52:"calc(var(--tsrd-font-size) * 13)",56:"calc(var(--tsrd-font-size) * 14)",60:"calc(var(--tsrd-font-size) * 15)",64:"calc(var(--tsrd-font-size) * 16)",72:"calc(var(--tsrd-font-size) * 18)",80:"calc(var(--tsrd-font-size) * 20)",96:"calc(var(--tsrd-font-size) * 24)"},shadow:{xs:(e="rgb(0 0 0 / 0.1)")=>"0 1px 2px 0 rgb(0 0 0 / 0.05)",sm:(e="rgb(0 0 0 / 0.1)")=>`0 1px 3px 0 ${e}, 0 1px 2px -1px ${e}`,md:(e="rgb(0 0 0 / 0.1)")=>`0 4px 6px -1px ${e}, 0 2px 4px -2px ${e}`,lg:(e="rgb(0 0 0 / 0.1)")=>`0 10px 15px -3px ${e}, 0 4px 6px -4px ${e}`,xl:(e="rgb(0 0 0 / 0.1)")=>`0 20px 25px -5px ${e}, 0 8px 10px -6px ${e}`,"2xl":(e="rgb(0 0 0 / 0.25)")=>`0 25px 50px -12px ${e}`,inner:(e="rgb(0 0 0 / 0.05)")=>`inset 0 2px 4px 0 ${e}`,none:()=>"none"},zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800}},eg=Ze.createContext(void 0),ew=Ze.createContext(void 0),z8=()=>{const e=Ze.useContext(ew);if(!e)throw new Error("useDevtoolsOnClose must be used within a TanStackRouterDevtools component");return e},r_=({expanded:e,style:t={}})=>{const i=rk();return w.jsx("span",{className:i.expander,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none",viewBox:"0 0 24 24",className:At(i.expanderIcon(e)),children:w.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 18l6-6-6-6"})})})};function j8(e,t){if(t<1)return[];let i=0;const r=[];for(;i<e.length;)r.push(e.slice(i,i+t)),i=i+t;return r}const L8=({handleEntry:e,label:t,value:i,subEntries:r=[],subEntryPages:o=[],type:u,expanded:f=!1,toggleExpanded:h,pageSize:m,renderer:y})=>{const[g,v]=we.useState([]),[b,E]=we.useState(void 0),R=rk(),A=()=>{E(i())};return w.jsx("div",{className:R.entry,children:o.length?w.jsxs(w.Fragment,{children:[w.jsxs("button",{className:R.expandButton,onClick:()=>h(),children:[w.jsx(r_,{expanded:f}),t,w.jsxs("span",{className:R.info,children:[String(u).toLowerCase()==="iterable"?"(Iterable) ":"",r.length," ",r.length>1?"items":"item"]})]}),f?o.length===1?w.jsx("div",{className:R.subEntries,children:r.map((z,j)=>e(z))}):w.jsx("div",{className:R.subEntries,children:o.map((z,j)=>w.jsx("div",{children:w.jsxs("div",{className:R.entry,children:[w.jsxs("button",{className:At(R.labelButton,"labelButton"),onClick:()=>v(U=>U.includes(j)?U.filter(X=>X!==j):[...U,j]),children:[w.jsx(r_,{expanded:g.includes(j)})," ","[",j*m," ..."," ",j*m+m-1,"]"]}),g.includes(j)?w.jsx("div",{className:R.subEntries,children:z.map(U=>e(U))}):null]})},j))}):null]}):u==="function"?w.jsx(w.Fragment,{children:w.jsx(il,{renderer:y,label:w.jsxs("button",{onClick:A,className:R.refreshValueBtn,children:[w.jsx("span",{children:t})," "," "]}),value:b,defaultExpanded:{}})}):w.jsxs(w.Fragment,{children:[w.jsxs("span",{children:[t,":"]})," ",w.jsx("span",{className:R.value,children:k8(i)})]})})};function I8(e){return Symbol.iterator in e}function il({value:e,defaultExpanded:t,renderer:i=L8,pageSize:r=100,filterSubEntries:o,...u}){const[f,h]=we.useState(!!t),m=we.useCallback(()=>h(E=>!E),[]);let y=typeof e,g=[];const v=E=>{const R=t===!0?{[E.label]:!0}:t==null?void 0:t[E.label];return{...E,defaultExpanded:R}};Array.isArray(e)?(y="array",g=e.map((E,R)=>v({label:R.toString(),value:E}))):e!==null&&typeof e=="object"&&I8(e)&&typeof e[Symbol.iterator]=="function"?(y="Iterable",g=Array.from(e,(E,R)=>v({label:R.toString(),value:E}))):typeof e=="object"&&e!==null&&(y="object",g=Object.entries(e).map(([E,R])=>v({label:E,value:R}))),g=o?o(g):g;const b=j8(g,r);return i({handleEntry:E=>w.jsx(il,{value:e,renderer:i,filterSubEntries:o,...u,...E},E.label),type:y,subEntries:g,subEntryPages:b,value:e,expanded:f,toggleExpanded:m,pageSize:r,...u})}const H8=e=>{const{colors:t,font:i,size:r,alpha:o,shadow:u,border:f}=Qe,{fontFamily:h,lineHeight:m,size:y}=i,g=e?ec.bind({target:e}):ec;return{entry:g`
      font-family: ${h.mono};
      font-size: ${y.xs};
      line-height: ${m.sm};
      outline: none;
      word-break: break-word;
    `,labelButton:g`
      cursor: pointer;
      color: inherit;
      font: inherit;
      outline: inherit;
      background: transparent;
      border: none;
      padding: 0;
    `,expander:g`
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: ${r[3]};
      height: ${r[3]};
      padding-left: 3px;
      box-sizing: content-box;
    `,expanderIcon:v=>v?g`
          transform: rotate(90deg);
          transition: transform 0.1s ease;
        `:g`
        transform: rotate(0deg);
        transition: transform 0.1s ease;
      `,expandButton:g`
      display: flex;
      gap: ${r[1]};
      align-items: center;
      cursor: pointer;
      color: inherit;
      font: inherit;
      outline: inherit;
      background: transparent;
      border: none;
      padding: 0;
    `,value:g`
      color: ${t.purple[400]};
    `,subEntries:g`
      margin-left: ${r[2]};
      padding-left: ${r[2]};
      border-left: 2px solid ${t.darkGray[400]};
    `,info:g`
      color: ${t.gray[500]};
      font-size: ${y["2xs"]};
      padding-left: ${r[1]};
    `,refreshValueBtn:g`
      appearance: none;
      border: 0;
      cursor: pointer;
      background: transparent;
      color: inherit;
      padding: 0;
      font-family: ${h.mono};
      font-size: ${y.xs};
    `}};function rk(){const e=we.useContext(eg),[t]=we.useState(()=>H8(e));return t}function a_(){const e=Ze.useId();return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 634 633",viewBox:"0 0 634 633",children:w.jsxs("g",{transform:"translate(1)",children:[w.jsxs("linearGradient",{id:`a-${e}`,x1:"-641.486",x2:"-641.486",y1:"856.648",y2:"855.931",gradientTransform:"matrix(633 0 0 -633 406377 542258)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#6bdaff"}),w.jsx("stop",{offset:"0.319",stopColor:"#f9ffb5"}),w.jsx("stop",{offset:"0.706",stopColor:"#ffa770"}),w.jsx("stop",{offset:"1",stopColor:"#ff7373"})]}),w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:`url(#a-${e})`,fillRule:"evenodd",clipRule:"evenodd"}),w.jsx("defs",{children:w.jsx("filter",{id:`b-${e}`,width:"454",height:"396.9",x:"-137.5",y:"412",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`c-${e}`,width:"454",height:"396.9",x:"-137.5",y:"412",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#b-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"89.5",cy:"610.5",fill:"#015064",fillRule:"evenodd",stroke:"#00CFE2",strokeWidth:"25",clipRule:"evenodd",mask:`url(#c-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`d-${e}`,width:"454",height:"396.9",x:"316.5",y:"412",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`e-${e}`,width:"454",height:"396.9",x:"316.5",y:"412",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#d-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"543.5",cy:"610.5",fill:"#015064",fillRule:"evenodd",stroke:"#00CFE2",strokeWidth:"25",clipRule:"evenodd",mask:`url(#e-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`f-${e}`,width:"454",height:"396.9",x:"-137.5",y:"450",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`g-${e}`,width:"454",height:"396.9",x:"-137.5",y:"450",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#f-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"89.5",cy:"648.5",fill:"#015064",fillRule:"evenodd",stroke:"#00A8B8",strokeWidth:"25",clipRule:"evenodd",mask:`url(#g-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`h-${e}`,width:"454",height:"396.9",x:"316.5",y:"450",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`i-${e}`,width:"454",height:"396.9",x:"316.5",y:"450",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#h-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"543.5",cy:"648.5",fill:"#015064",fillRule:"evenodd",stroke:"#00A8B8",strokeWidth:"25",clipRule:"evenodd",mask:`url(#i-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`j-${e}`,width:"454",height:"396.9",x:"-137.5",y:"486",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`k-${e}`,width:"454",height:"396.9",x:"-137.5",y:"486",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#j-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"89.5",cy:"684.5",fill:"#015064",fillRule:"evenodd",stroke:"#007782",strokeWidth:"25",clipRule:"evenodd",mask:`url(#k-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`l-${e}`,width:"454",height:"396.9",x:"316.5",y:"486",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`m-${e}`,width:"454",height:"396.9",x:"316.5",y:"486",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#l-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("ellipse",{cx:"543.5",cy:"684.5",fill:"#015064",fillRule:"evenodd",stroke:"#007782",strokeWidth:"25",clipRule:"evenodd",mask:`url(#m-${e})`,rx:"214.5",ry:"186"}),w.jsx("defs",{children:w.jsx("filter",{id:`n-${e}`,width:"176.9",height:"129.3",x:"272.2",y:"308",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`o-${e}`,width:"176.9",height:"129.3",x:"272.2",y:"308",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#n-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsxs("g",{mask:`url(#o-${e})`,children:[w.jsx("path",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"11",d:"M436 403.2l-5 28.6m-140-90.3l-10.9 62m52.8-19.4l-4.3 27.1"}),w.jsxs("linearGradient",{id:`p-${e}`,x1:"-645.656",x2:"-646.499",y1:"854.878",y2:"854.788",gradientTransform:"matrix(-184.159 -32.4722 11.4608 -64.9973 -128419.844 34938.836)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ee2700"}),w.jsx("stop",{offset:"1",stopColor:"#ff008e"})]}),w.jsx("path",{fill:`url(#p-${e})`,fillRule:"evenodd",d:"M344.1 363l97.7 17.2c5.8 2.1 8.2 6.2 7.1 12.1-1 5.9-4.7 9.2-11 9.9l-106-18.7-57.5-59.2c-3.2-4.8-2.9-9.1.8-12.8 3.7-3.7 8.3-4.4 13.7-2.1l55.2 53.6z",clipRule:"evenodd"}),w.jsx("path",{fill:"#D8D8D8",fillRule:"evenodd",stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"7",d:"M428.3 384.5l.9-6.5m-33.9 1.5l.9-6.5m-34 .5l.9-6.1m-38.9-16.1l4.2-3.9m-25.2-16.1l4.2-3.9",clipRule:"evenodd"})]}),w.jsx("defs",{children:w.jsx("filter",{id:`q-${e}`,width:"280.6",height:"317.4",x:"73.2",y:"113.9",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`r-${e}`,width:"280.6",height:"317.4",x:"73.2",y:"113.9",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#q-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsxs("g",{mask:`url(#r-${e})`,children:[w.jsxs("linearGradient",{id:`s-${e}`,x1:"-646.8",x2:"-646.8",y1:"854.844",y2:"853.844",gradientTransform:"matrix(-100.1751 48.8587 -97.9753 -200.879 19124.773 203538.61)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#a17500"}),w.jsx("stop",{offset:"1",stopColor:"#5d2100"})]}),w.jsx("path",{fill:`url(#s-${e})`,fillRule:"evenodd",d:"M192.3 203c8.1 37.3 14 73.6 17.8 109.1 3.8 35.4 2.8 75.2-2.9 119.2l61.2-16.7c-15.6-59-25.2-97.9-28.6-116.6-3.4-18.7-10.8-51.8-22.2-99.6l-25.3 4.6",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`t-${e}`,x1:"-635.467",x2:"-635.467",y1:"852.115",y2:"851.115",gradientTransform:"matrix(92.6873 4.8575 2.0257 -38.6535 57323.695 36176.047)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#t-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M195 183.9s-12.6-22.1-36.5-29.9c-15.9-5.2-34.4-1.5-55.5 11.1 15.9 14.3 29.5 22.6 40.7 24.9 16.8 3.6 51.3-6.1 51.3-6.1z",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`u-${e}`,x1:"-636.573",x2:"-636.573",y1:"855.444",y2:"854.444",gradientTransform:"matrix(109.9945 5.7646 6.3597 -121.3507 64719.133 107659.336)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#u-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M194.9 184.5s-47.5-8.5-83.2 15.7c-23.8 16.2-34.3 49.3-31.6 99.3 30.3-27.8 52.1-48.5 65.2-61.9 19.8-20 49.6-53.1 49.6-53.1z",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`v-${e}`,x1:"-632.145",x2:"-632.145",y1:"854.174",y2:"853.174",gradientTransform:"matrix(62.9558 3.2994 3.5021 -66.8246 37035.367 59284.227)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#v-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M195 183.9c-.8-21.9 6-38 20.6-48.2 14.6-10.2 29.8-15.3 45.5-15.3-6.1 21.4-14.5 35.8-25.2 43.4-10.7 7.5-24.4 14.2-40.9 20.1z",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`w-${e}`,x1:"-638.224",x2:"-638.224",y1:"853.801",y2:"852.801",gradientTransform:"matrix(152.4666 7.9904 3.0934 -59.0251 94939.86 55646.855)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#w-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M194.9 184.5c31.9-30 64.1-39.7 96.7-29 32.6 10.7 50.8 30.4 54.6 59.1-35.2-5.5-60.4-9.6-75.8-12.1-15.3-2.6-40.5-8.6-75.5-18z",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`x-${e}`,x1:"-637.723",x2:"-637.723",y1:"855.103",y2:"854.103",gradientTransform:"matrix(136.467 7.1519 5.2165 -99.5377 82830.875 89859.578)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#x-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M194.9 184.5c35.8-7.6 65.6-.2 89.2 22 23.6 22.2 37.7 49 42.3 80.3-39.8-9.7-68.3-23.8-85.5-42.4-17.2-18.5-32.5-38.5-46-59.9z",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`y-${e}`,x1:"-631.79",x2:"-631.79",y1:"855.872",y2:"854.872",gradientTransform:"matrix(60.8683 3.19 8.7771 -167.4773 31110.818 145537.61)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#2f8a00"}),w.jsx("stop",{offset:"1",stopColor:"#90ff57"})]}),w.jsx("path",{fill:`url(#y-${e})`,fillRule:"evenodd",stroke:"#2F8A00",strokeWidth:"13",d:"M194.9 184.5c-33.6 13.8-53.6 35.7-60.1 65.6-6.5 29.9-3.6 63.1 8.7 99.6 27.4-40.3 43.2-69.6 47.4-88 4.2-18.3 5.5-44.1 4-77.2z",clipRule:"evenodd"}),w.jsx("path",{fill:"none",stroke:"#2F8A00",strokeLinecap:"round",strokeWidth:"8",d:"M196.5 182.3c-14.8 21.6-25.1 41.4-30.8 59.4-5.7 18-9.4 33-11.1 45.1"}),w.jsx("path",{fill:"none",stroke:"#2F8A00",strokeLinecap:"round",strokeWidth:"8",d:"M194.8 185.7c-24.4 1.7-43.8 9-58.1 21.8-14.3 12.8-24.7 25.4-31.3 37.8m99.1-68.9c29.7-6.7 52-8.4 67-5 15 3.4 26.9 8.7 35.8 15.9m-110.8-5.9c20.3 9.9 38.2 20.5 53.9 31.9 15.7 11.4 27.4 22.1 35.1 32"})]}),w.jsx("defs",{children:w.jsx("filter",{id:`z-${e}`,width:"532",height:"633",x:"50.5",y:"399",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`A-${e}`,width:"532",height:"633",x:"50.5",y:"399",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#z-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsxs("linearGradient",{id:`B-${e}`,x1:"-641.104",x2:"-641.278",y1:"856.577",y2:"856.183",gradientTransform:"matrix(532 0 0 -633 341484.5 542657)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#fff400"}),w.jsx("stop",{offset:"1",stopColor:"#3c8700"})]}),w.jsx("ellipse",{cx:"316.5",cy:"715.5",fill:`url(#B-${e})`,fillRule:"evenodd",clipRule:"evenodd",mask:`url(#A-${e})`,rx:"266",ry:"316.5"}),w.jsx("defs",{children:w.jsx("filter",{id:`C-${e}`,width:"288",height:"283",x:"391",y:"-24",filterUnits:"userSpaceOnUse",children:w.jsx("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"})})}),w.jsx("mask",{id:`D-${e}`,width:"288",height:"283",x:"391",y:"-24",maskUnits:"userSpaceOnUse",children:w.jsx("g",{filter:`url(#C-${e})`,children:w.jsx("circle",{cx:"316.5",cy:"316.5",r:"316.5",fill:"#FFF",fillRule:"evenodd",clipRule:"evenodd"})})}),w.jsx("g",{mask:`url(#D-${e})`,children:w.jsxs("g",{transform:"translate(397 -24)",children:[w.jsxs("linearGradient",{id:`E-${e}`,x1:"-1036.672",x2:"-1036.672",y1:"880.018",y2:"879.018",gradientTransform:"matrix(227 0 0 -227 235493 199764)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffdf00"}),w.jsx("stop",{offset:"1",stopColor:"#ff9d00"})]}),w.jsx("circle",{cx:"168.5",cy:"113.5",r:"113.5",fill:`url(#E-${e})`,fillRule:"evenodd",clipRule:"evenodd"}),w.jsxs("linearGradient",{id:`F-${e}`,x1:"-1017.329",x2:"-1018.602",y1:"658.003",y2:"657.998",gradientTransform:"matrix(30 0 0 -1 30558 771)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#F-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M30 113H0"}),w.jsxs("linearGradient",{id:`G-${e}`,x1:"-1014.501",x2:"-1015.774",y1:"839.985",y2:"839.935",gradientTransform:"matrix(26.5 0 0 -5.5 26925 4696.5)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#G-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M33.5 79.5L7 74"}),w.jsxs("linearGradient",{id:`H-${e}`,x1:"-1016.59",x2:"-1017.862",y1:"852.671",y2:"852.595",gradientTransform:"matrix(29 0 0 -8 29523 6971)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#H-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M34 146l-29 8"}),w.jsxs("linearGradient",{id:`I-${e}`,x1:"-1011.984",x2:"-1013.257",y1:"863.523",y2:"863.229",gradientTransform:"matrix(24 0 0 -13 24339 11407)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#I-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M45 177l-24 13"}),w.jsxs("linearGradient",{id:`J-${e}`,x1:"-1006.673",x2:"-1007.946",y1:"869.279",y2:"868.376",gradientTransform:"matrix(20 0 0 -19 20205 16720)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#J-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M67 204l-20 19"}),w.jsxs("linearGradient",{id:`K-${e}`,x1:"-992.85",x2:"-993.317",y1:"871.258",y2:"870.258",gradientTransform:"matrix(13.8339 0 0 -22.8467 13825.796 20131.938)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#K-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M94.4 227l-13.8 22.8"}),w.jsxs("linearGradient",{id:`L-${e}`,x1:"-953.835",x2:"-953.965",y1:"871.9",y2:"870.9",gradientTransform:"matrix(7.5 0 0 -24.5 7278 21605)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#L-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M127.5 243.5L120 268"}),w.jsxs("linearGradient",{id:`M-${e}`,x1:"244.504",x2:"244.496",y1:"871.898",y2:"870.898",gradientTransform:"matrix(.5 0 0 -24.5 45.5 21614)",gradientUnits:"userSpaceOnUse",children:[w.jsx("stop",{offset:"0",stopColor:"#ffa400"}),w.jsx("stop",{offset:"1",stopColor:"#ff5e00"})]}),w.jsx("path",{fill:"none",stroke:`url(#M-${e})`,strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"12",d:"M167.5 252.5l.5 24.5"})]})})]})})}function U8(e){const{className:t,...i}=e,r=qh();return w.jsxs("button",{...i,className:At(r.logo,t),children:[w.jsx("div",{className:r.tanstackLogo,children:"TANSTACK"}),w.jsx("div",{className:r.routerLogo,children:"React Router v1"})]})}function B8(e){const{shadowDOMTarget:t}=e;return w.jsx(eg.Provider,{value:t,children:w.jsx(P8,{...e})})}function P8({initialIsOpen:e,panelProps:t={},closeButtonProps:i={},toggleButtonProps:r={},position:o="bottom-left",containerElement:u="footer",router:f,shadowDOMTarget:h}){const[m,y]=Ze.useState(),g=Ze.useRef(null),[v,b]=dy("tanstackRouterDevtoolsOpen",e),[E,R]=dy("tanstackRouterDevtoolsHeight",null),[A,z]=s_(!1),[j,U]=s_(!1),X=sk(),G=qh(),P=(J,ae)=>{if(ae.button!==0)return;U(!0);const oe={originalHeight:(J==null?void 0:J.getBoundingClientRect().height)??0,pageY:ae.pageY},Ce=Q=>{const re=oe.pageY-Q.pageY,le=oe.originalHeight+re;R(le),le<70?b(!1):b(!0)},N=()=>{U(!1),document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseUp",N)};document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",N)},V=v??!1;Ze.useEffect(()=>{z(v??!1)},[v,A,z]),Ze.useEffect(()=>{var J;if(A){const ae=(J=m==null?void 0:m.parentElement)==null?void 0:J.style.paddingBottom,oe=()=>{var Ce;const N=(Ce=g.current)==null?void 0:Ce.getBoundingClientRect().height;m!=null&&m.parentElement&&(m.parentElement.style.paddingBottom=`${N}px`)};if(oe(),typeof window<"u")return window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe),m!=null&&m.parentElement&&typeof ae=="string"&&(m.parentElement.style.paddingBottom=ae)}}},[A,m==null?void 0:m.parentElement]),Ze.useEffect(()=>{if(m){const J=m,ae=getComputedStyle(J).fontSize;J.style.setProperty("--tsrd-font-size",ae)}},[m]);const{style:se={},...F}=t,{style:k={},onClick:Z,...ne}=i,{onClick:ue,className:ge,...Ee}=r;if(!X)return null;const de=E??500;return w.jsxs(u,{ref:y,className:"TanStackRouterDevtools",children:[w.jsx(ew.Provider,{value:{onCloseClick:Z??(()=>{})},children:w.jsx(ok,{ref:g,...F,router:f,className:At(G.devtoolsPanelContainer,G.devtoolsPanelContainerVisibility(!!v),G.devtoolsPanelContainerResizing(j),G.devtoolsPanelContainerAnimation(A,de+16)),style:{height:de,...se},isOpen:A,setIsOpen:b,handleDragStart:J=>P(g.current,J),shadowDOMTarget:h})}),w.jsxs("button",{type:"button",...Ee,"aria-label":"Open TanStack Router Devtools",onClick:J=>{b(!0),ue&&ue(J)},className:At(G.mainCloseBtn,G.mainCloseBtnPosition(o),G.mainCloseBtnAnimation(!V),ge),children:[w.jsxs("div",{className:G.mainCloseBtnIconContainer,children:[w.jsx("div",{className:G.mainCloseBtnIconOuter,children:w.jsx(a_,{})}),w.jsx("div",{className:G.mainCloseBtnIconInner,children:w.jsx(a_,{})})]}),w.jsx("div",{className:G.mainCloseBtnDivider,children:"-"}),w.jsx("div",{className:G.routerLogoCloseButton,children:"TanStack Router"})]})]})}Ze.forwardRef(function(t,i){const{shadowDOMTarget:r}=t;return w.jsx(eg.Provider,{value:r,children:w.jsx(ew.Provider,{value:{onCloseClick:()=>{}},children:w.jsx(ok,{ref:i,...t})})})});function ak({router:e,route:t,isRoot:i,activeId:r,setActiveId:o}){var u;const f=jt({router:e}),h=qh(),m=f.pendingMatches||f.matches,y=f.matches.find(v=>v.routeId===t.id),g=Ze.useMemo(()=>{try{if(y!=null&&y.params){const v=y.params,b=t.path||vS(t.id);if(b.startsWith("$")){const E=b.slice(1);if(v[E])return`(${v[E]})`}}return""}catch{return""}},[y,t]);return w.jsxs("div",{children:[w.jsxs("div",{role:"button","aria-label":`Open match details for ${t.id}`,onClick:()=>{y&&o(r===t.id?"":t.id)},className:At(h.routesRowContainer(t.id===r,!!y)),children:[w.jsx("div",{className:At(h.matchIndicator(O8(m,t)))}),w.jsxs("div",{className:At(h.routesRow(!!y)),children:[w.jsxs("div",{children:[w.jsxs("code",{className:h.code,children:[i?zt:t.path||vS(t.id)," "]}),w.jsx("code",{className:h.routeParamInfo,children:g})]}),w.jsx(CS,{match:y,router:e})]})]}),(u=t.children)!=null&&u.length?w.jsx("div",{className:h.nestedRouteRow(!!i),children:[...t.children].sort((v,b)=>v.rank-b.rank).map(v=>w.jsx(ak,{router:e,route:v,activeId:r,setActiveId:o},v.id))}):null]})}const ok=Ze.forwardRef(function(t,i){var r,o;const{isOpen:u=!0,setIsOpen:f,handleDragStart:h,router:m,shadowDOMTarget:y,...g}=t,{onCloseClick:v}=z8(),b=qh(),{className:E,...R}=g,A=Si({warn:!1}),z=m??A,j=jt({router:z});ei(z);const[U,X]=dy("tanstackRouterDevtoolsShowMatches",!0),[G,P]=dy("tanstackRouterDevtoolsActiveRouteId",""),V=Ze.useMemo(()=>[...j.pendingMatches??[],...j.matches,...j.cachedMatches].find(Z=>Z.routeId===G||Z.id===G),[G,j.cachedMatches,j.matches,j.pendingMatches]),se=Object.keys(j.location.search).length,F={...z,state:z.state};return w.jsxs("div",{ref:i,className:At(b.devtoolsPanel,"TanStackRouterDevtoolsPanel",E),...R,children:[h?w.jsx("div",{className:b.dragHandle,onMouseDown:h}):null,w.jsx("button",{className:b.panelCloseBtn,onClick:k=>{f(!1),v(k)},children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",fill:"none",viewBox:"0 0 10 6",className:b.panelCloseBtnIcon,children:w.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"M1 1l4 4 4-4"})})}),w.jsxs("div",{className:b.firstContainer,children:[w.jsx("div",{className:b.row,children:w.jsx(U8,{"aria-hidden":!0,onClick:k=>{f(!1),v(k)}})}),w.jsx("div",{className:b.routerExplorerContainer,children:w.jsx("div",{className:b.routerExplorer,children:w.jsx(il,{label:"Router",value:Object.fromEntries(A8(Object.keys(F),["state","routesById","routesByPath","flatRoutes","options","manifest"].map(k=>Z=>Z!==k)).map(k=>[k,F[k]]).filter(k=>typeof k[1]!="function"&&!["__store","basepath","injectedHtml","subscribers","latestLoadPromise","navigateTimeout","resetNextScroll","tempLocationKey","latestLocation","routeTree","history"].includes(k[0]))),defaultExpanded:{state:{},context:{},options:{}},filterSubEntries:k=>k.filter(Z=>typeof Z.value!="function")})})})]}),w.jsxs("div",{className:b.secondContainer,children:[w.jsxs("div",{className:b.matchesContainer,children:[w.jsxs("div",{className:b.detailsHeader,children:[w.jsx("span",{children:"Pathname"}),j.location.maskedLocation?w.jsx("div",{className:b.maskedBadgeContainer,children:w.jsx("span",{className:b.maskedBadge,children:"masked"})}):null]}),w.jsxs("div",{className:b.detailsContent,children:[w.jsx("code",{children:j.location.pathname}),j.location.maskedLocation?w.jsx("code",{className:b.maskedLocation,children:j.location.maskedLocation.pathname}):null]}),w.jsxs("div",{className:b.detailsHeader,children:[w.jsxs("div",{className:b.routeMatchesToggle,children:[w.jsx("button",{type:"button",onClick:()=>{X(!1)},disabled:!U,className:At(b.routeMatchesToggleBtn(!U,!0)),children:"Routes"}),w.jsx("button",{type:"button",onClick:()=>{X(!0)},disabled:U,className:At(b.routeMatchesToggleBtn(!!U,!1)),children:"Matches"})]}),w.jsx("div",{className:b.detailsHeaderInfo,children:w.jsx("div",{children:"age / staleTime / gcTime"})})]}),w.jsx("div",{className:At(b.routesContainer),children:U?w.jsx("div",{children:((r=j.pendingMatches)!=null&&r.length?j.pendingMatches:j.matches).map((k,Z)=>w.jsxs("div",{role:"button","aria-label":`Open match details for ${k.id}`,onClick:()=>P(G===k.id?"":k.id),className:At(b.matchRow(k===V)),children:[w.jsx("div",{className:At(b.matchIndicator(xS(k)))}),w.jsx("code",{className:b.matchID,children:`${k.routeId===zt?zt:k.pathname}`}),w.jsx(CS,{match:k,router:z})]},k.id||Z))}):w.jsx(ak,{router:z,route:z.routeTree,isRoot:!0,activeId:G,setActiveId:P})})]}),j.cachedMatches.length?w.jsxs("div",{className:b.cachedMatchesContainer,children:[w.jsxs("div",{className:b.detailsHeader,children:[w.jsx("div",{children:"Cached Matches"}),w.jsx("div",{className:b.detailsHeaderInfo,children:"age / staleTime / gcTime"})]}),w.jsx("div",{children:j.cachedMatches.map(k=>w.jsxs("div",{role:"button","aria-label":`Open match details for ${k.id}`,onClick:()=>P(G===k.id?"":k.id),className:At(b.matchRow(k===V)),children:[w.jsx("div",{className:At(b.matchIndicator(xS(k)))}),w.jsx("code",{className:b.matchID,children:`${k.id}`}),w.jsx(CS,{match:k,router:z})]},k.id))})]}):null]}),V?w.jsxs("div",{className:b.thirdContainer,children:[w.jsx("div",{className:b.detailsHeader,children:"Match Details"}),w.jsx("div",{children:w.jsxs("div",{className:b.matchDetails,children:[w.jsx("div",{className:b.matchStatus(V.status,V.isFetching),children:w.jsx("div",{children:V.status==="success"&&V.isFetching?"fetching":V.status})}),w.jsxs("div",{className:b.matchDetailsInfoLabel,children:[w.jsx("div",{children:"ID:"}),w.jsx("div",{className:b.matchDetailsInfo,children:w.jsx("code",{children:V.id})})]}),w.jsxs("div",{className:b.matchDetailsInfoLabel,children:[w.jsx("div",{children:"State:"}),w.jsx("div",{className:b.matchDetailsInfo,children:(o=j.pendingMatches)!=null&&o.find(k=>k.id===V.id)?"Pending":j.matches.find(k=>k.id===V.id)?"Active":"Cached"})]}),w.jsxs("div",{className:b.matchDetailsInfoLabel,children:[w.jsx("div",{children:"Last Updated:"}),w.jsx("div",{className:b.matchDetailsInfo,children:V.updatedAt?new Date(V.updatedAt).toLocaleTimeString():"N/A"})]})]})}),V.loaderData?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:b.detailsHeader,children:"Loader Data"}),w.jsx("div",{className:b.detailsContent,children:w.jsx(il,{label:"loaderData",value:V.loaderData,defaultExpanded:{}})})]}):null,w.jsx("div",{className:b.detailsHeader,children:"Explorer"}),w.jsx("div",{className:b.detailsContent,children:w.jsx(il,{label:"Match",value:V,defaultExpanded:{}})})]}):null,se?w.jsxs("div",{className:b.fourthContainer,children:[w.jsx("div",{className:b.detailsHeader,children:"Search Params"}),w.jsx("div",{className:b.detailsContent,children:w.jsx(il,{value:j.location.search,defaultExpanded:Object.keys(j.location.search).reduce((k,Z)=>(k[Z]={},k),{})})})]}):null]})});function CS({match:e,router:t}){const i=qh(),r=Ze.useReducer(()=>({}),()=>({}))[1];if(Ze.useEffect(()=>{const m=setInterval(()=>{r()},1e3);return()=>{clearInterval(m)}},[r]),!e)return null;const o=t.looseRoutesById[e.routeId];if(!o.options.loader)return null;const u=Date.now()-e.updatedAt,f=o.options.staleTime??t.options.defaultStaleTime??0,h=o.options.gcTime??t.options.defaultGcTime??30*60*1e3;return w.jsxs("div",{className:At(i.ageTicker(u>f)),children:[w.jsx("div",{children:B0(u)}),w.jsx("div",{children:"/"}),w.jsx("div",{children:B0(f)}),w.jsx("div",{children:"/"}),w.jsx("div",{children:B0(h)})]})}function B0(e){const t=["s","min","h","d"],i=[e/1e3,e/6e4,e/36e5,e/864e5];let r=0;for(let u=1;u<i.length&&!(i[u]<1);u++)r=u;return new Intl.NumberFormat(navigator.language,{compactDisplay:"short",notation:"compact",maximumFractionDigits:0}).format(i[r])+t[r]}const $8=e=>{const{colors:t,font:i,size:r,alpha:o,shadow:u,border:f}=Qe,{fontFamily:h,lineHeight:m,size:y}=i,g=e?ec.bind({target:e}):ec;return{devtoolsPanelContainer:g`
      direction: ltr;
      position: fixed;
      bottom: 0;
      right: 0;
      z-index: 99999;
      width: 100%;
      max-height: 90%;
      border-top: 1px solid ${t.gray[700]};
      transform-origin: top;
    `,devtoolsPanelContainerVisibility:v=>g`
        visibility: ${v?"visible":"hidden"};
      `,devtoolsPanelContainerResizing:v=>v?g`
          transition: none;
        `:g`
        transition: all 0.4s ease;
      `,devtoolsPanelContainerAnimation:(v,b)=>v?g`
          pointer-events: auto;
          transform: translateY(0);
        `:g`
        pointer-events: none;
        transform: translateY(${b}px);
      `,logo:g`
      cursor: pointer;
      display: flex;
      flex-direction: column;
      background-color: transparent;
      border: none;
      font-family: ${h.sans};
      gap: ${Qe.size[.5]};
      padding: 0px;
      &:hover {
        opacity: 0.7;
      }
      &:focus-visible {
        outline-offset: 4px;
        border-radius: ${f.radius.xs};
        outline: 2px solid ${t.blue[800]};
      }
    `,tanstackLogo:g`
      font-size: ${i.size.md};
      font-weight: ${i.weight.bold};
      line-height: ${i.lineHeight.xs};
      white-space: nowrap;
      color: ${t.gray[300]};
    `,routerLogo:g`
      font-weight: ${i.weight.semibold};
      font-size: ${i.size.xs};
      background: linear-gradient(to right, #84cc16, #10b981);
      background-clip: text;
      -webkit-background-clip: text;
      line-height: 1;
      -webkit-text-fill-color: transparent;
      white-space: nowrap;
    `,devtoolsPanel:g`
      display: flex;
      font-size: ${y.sm};
      font-family: ${h.sans};
      background-color: ${t.darkGray[700]};
      color: ${t.gray[300]};

      @media (max-width: 700px) {
        flex-direction: column;
      }
      @media (max-width: 600px) {
        font-size: ${y.xs};
      }
    `,dragHandle:g`
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 4px;
      cursor: row-resize;
      z-index: 100000;
      &:hover {
        background-color: ${t.purple[400]}${o[90]};
      }
    `,firstContainer:g`
      flex: 1 1 500px;
      min-height: 40%;
      max-height: 100%;
      overflow: auto;
      border-right: 1px solid ${t.gray[700]};
      display: flex;
      flex-direction: column;
    `,routerExplorerContainer:g`
      overflow-y: auto;
      flex: 1;
    `,routerExplorer:g`
      padding: ${Qe.size[2]};
    `,row:g`
      display: flex;
      align-items: center;
      padding: ${Qe.size[2]} ${Qe.size[2.5]};
      gap: ${Qe.size[2.5]};
      border-bottom: ${t.darkGray[500]} 1px solid;
      align-items: center;
    `,detailsHeader:g`
      font-family: ui-sans-serif, Inter, system-ui, sans-serif, sans-serif;
      position: sticky;
      top: 0;
      z-index: 2;
      background-color: ${t.darkGray[600]};
      padding: 0px ${Qe.size[2]};
      font-weight: ${i.weight.medium};
      font-size: ${i.size.xs};
      min-height: ${Qe.size[8]};
      line-height: ${i.lineHeight.xs};
      text-align: left;
      display: flex;
      align-items: center;
    `,maskedBadge:g`
      background: ${t.yellow[900]}${o[70]};
      color: ${t.yellow[300]};
      display: inline-block;
      padding: ${Qe.size[0]} ${Qe.size[2.5]};
      border-radius: ${f.radius.full};
      font-size: ${i.size.xs};
      font-weight: ${i.weight.normal};
      border: 1px solid ${t.yellow[300]};
    `,maskedLocation:g`
      color: ${t.yellow[300]};
    `,detailsContent:g`
      padding: ${Qe.size[1.5]} ${Qe.size[2]};
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: ${i.size.xs};
    `,routeMatchesToggle:g`
      display: flex;
      align-items: center;
      border: 1px solid ${t.gray[500]};
      border-radius: ${f.radius.sm};
      overflow: hidden;
    `,routeMatchesToggleBtn:(v,b)=>{const R=[g`
        appearance: none;
        border: none;
        font-size: 12px;
        padding: 4px 8px;
        background: transparent;
        cursor: pointer;
        font-family: ${h.sans};
        font-weight: ${i.weight.medium};
      `];if(v){const A=g`
          background: ${t.darkGray[400]};
          color: ${t.gray[300]};
        `;R.push(A)}else{const A=g`
          color: ${t.gray[500]};
          background: ${t.darkGray[800]}${o[20]};
        `;R.push(A)}return b&&R.push(g`
          border-right: 1px solid ${Qe.colors.gray[500]};
        `),R},detailsHeaderInfo:g`
      flex: 1;
      justify-content: flex-end;
      display: flex;
      align-items: center;
      font-weight: ${i.weight.normal};
      color: ${t.gray[400]};
    `,matchRow:v=>{const E=[g`
        display: flex;
        border-bottom: 1px solid ${t.darkGray[400]};
        cursor: pointer;
        align-items: center;
        padding: ${r[1]} ${r[2]};
        gap: ${r[2]};
        font-size: ${y.xs};
        color: ${t.gray[300]};
      `];if(v){const R=g`
          background: ${t.darkGray[500]};
        `;E.push(R)}return E},matchIndicator:v=>{const E=[g`
        flex: 0 0 auto;
        width: ${r[3]};
        height: ${r[3]};
        background: ${t[v][900]};
        border: 1px solid ${t[v][500]};
        border-radius: ${f.radius.full};
        transition: all 0.25s ease-out;
        box-sizing: border-box;
      `];if(v==="gray"){const R=g`
          background: ${t.gray[700]};
          border-color: ${t.gray[400]};
        `;E.push(R)}return E},matchID:g`
      flex: 1;
      line-height: ${m.xs};
    `,ageTicker:v=>{const E=[g`
        display: flex;
        gap: ${r[1]};
        font-size: ${y.xs};
        color: ${t.gray[400]};
        font-variant-numeric: tabular-nums;
        line-height: ${m.xs};
      `];if(v){const R=g`
          color: ${t.yellow[400]};
        `;E.push(R)}return E},secondContainer:g`
      flex: 1 1 500px;
      min-height: 40%;
      max-height: 100%;
      overflow: auto;
      border-right: 1px solid ${t.gray[700]};
      display: flex;
      flex-direction: column;
    `,thirdContainer:g`
      flex: 1 1 500px;
      overflow: auto;
      display: flex;
      flex-direction: column;
      height: 100%;
      border-right: 1px solid ${t.gray[700]};

      @media (max-width: 700px) {
        border-top: 2px solid ${t.gray[700]};
      }
    `,fourthContainer:g`
      flex: 1 1 500px;
      min-height: 40%;
      max-height: 100%;
      overflow: auto;
      display: flex;
      flex-direction: column;
    `,routesContainer:g`
      overflow-x: auto;
      overflow-y: visible;
    `,routesRowContainer:(v,b)=>{const R=[g`
        display: flex;
        border-bottom: 1px solid ${t.darkGray[400]};
        align-items: center;
        padding: ${r[1]} ${r[2]};
        gap: ${r[2]};
        font-size: ${y.xs};
        color: ${t.gray[300]};
        cursor: ${b?"pointer":"default"};
        line-height: ${m.xs};
      `];if(v){const A=g`
          background: ${t.darkGray[500]};
        `;R.push(A)}return R},routesRow:v=>{const E=[g`
        flex: 1 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: ${y.xs};
        line-height: ${m.xs};
      `];if(!v){const R=g`
          color: ${t.gray[400]};
        `;E.push(R)}return E},routeParamInfo:g`
      color: ${t.gray[400]};
      font-size: ${y.xs};
      line-height: ${m.xs};
    `,nestedRouteRow:v=>g`
        margin-left: ${v?0:r[3.5]};
        border-left: ${v?"":`solid 1px ${t.gray[700]}`};
      `,code:g`
      font-size: ${y.xs};
      line-height: ${m.xs};
    `,matchesContainer:g`
      flex: 1 1 auto;
      overflow-y: auto;
    `,cachedMatchesContainer:g`
      flex: 1 1 auto;
      overflow-y: auto;
      max-height: 50%;
    `,maskedBadgeContainer:g`
      flex: 1;
      justify-content: flex-end;
      display: flex;
    `,matchDetails:g`
      display: flex;
      flex-direction: column;
      padding: ${Qe.size[2]};
      font-size: ${Qe.font.size.xs};
      color: ${Qe.colors.gray[300]};
      line-height: ${Qe.font.lineHeight.sm};
    `,matchStatus:(v,b)=>{const R=b&&v==="success"?b==="beforeLoad"?"purple":"blue":{pending:"yellow",success:"green",error:"red",notFound:"purple",redirected:"gray"}[v];return g`
        display: flex;
        justify-content: center;
        align-items: center;
        height: 40px;
        border-radius: ${Qe.border.radius.sm};
        font-weight: ${Qe.font.weight.normal};
        background-color: ${Qe.colors[R][900]}${Qe.alpha[90]};
        color: ${Qe.colors[R][300]};
        border: 1px solid ${Qe.colors[R][600]};
        margin-bottom: ${Qe.size[2]};
        transition: all 0.25s ease-out;
      `},matchDetailsInfo:g`
      display: flex;
      justify-content: flex-end;
      flex: 1;
    `,matchDetailsInfoLabel:g`
      display: flex;
    `,mainCloseBtn:g`
      background: ${t.darkGray[700]};
      padding: ${r[1]} ${r[2]} ${r[1]} ${r[1.5]};
      border-radius: ${f.radius.md};
      position: fixed;
      z-index: 99999;
      display: inline-flex;
      width: fit-content;
      cursor: pointer;
      appearance: none;
      border: 0;
      gap: 8px;
      align-items: center;
      border: 1px solid ${t.gray[500]};
      font-size: ${i.size.xs};
      cursor: pointer;
      transition: all 0.25s ease-out;

      &:hover {
        background: ${t.darkGray[500]};
      }
    `,mainCloseBtnPosition:v=>g`
        ${v==="top-left"?`top: ${r[2]}; left: ${r[2]};`:""}
        ${v==="top-right"?`top: ${r[2]}; right: ${r[2]};`:""}
        ${v==="bottom-left"?`bottom: ${r[2]}; left: ${r[2]};`:""}
        ${v==="bottom-right"?`bottom: ${r[2]}; right: ${r[2]};`:""}
      `,mainCloseBtnAnimation:v=>v?g`
          opacity: 1;
          pointer-events: auto;
          visibility: visible;
        `:g`
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
      `,routerLogoCloseButton:g`
      font-weight: ${i.weight.semibold};
      font-size: ${i.size.xs};
      background: linear-gradient(to right, #98f30c, #00f4a3);
      background-clip: text;
      -webkit-background-clip: text;
      line-height: 1;
      -webkit-text-fill-color: transparent;
      white-space: nowrap;
    `,mainCloseBtnDivider:g`
      width: 1px;
      background: ${Qe.colors.gray[600]};
      height: 100%;
      border-radius: 999999px;
      color: transparent;
    `,mainCloseBtnIconContainer:g`
      position: relative;
      width: ${r[5]};
      height: ${r[5]};
      background: pink;
      border-radius: 999999px;
      overflow: hidden;
    `,mainCloseBtnIconOuter:g`
      width: ${r[5]};
      height: ${r[5]};
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      filter: blur(3px) saturate(1.8) contrast(2);
    `,mainCloseBtnIconInner:g`
      width: ${r[4]};
      height: ${r[4]};
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    `,panelCloseBtn:g`
      position: absolute;
      cursor: pointer;
      z-index: 100001;
      display: flex;
      align-items: center;
      justify-content: center;
      outline: none;
      background-color: ${t.darkGray[700]};
      &:hover {
        background-color: ${t.darkGray[500]};
      }

      top: 0;
      right: ${r[2]};
      transform: translate(0, -100%);
      border-right: ${t.darkGray[300]} 1px solid;
      border-left: ${t.darkGray[300]} 1px solid;
      border-top: ${t.darkGray[300]} 1px solid;
      border-bottom: none;
      border-radius: ${f.radius.sm} ${f.radius.sm} 0px 0px;
      padding: ${r[1]} ${r[1.5]} ${r[.5]} ${r[1.5]};

      &::after {
        content: ' ';
        position: absolute;
        top: 100%;
        left: -${r[2.5]};
        height: ${r[1.5]};
        width: calc(100% + ${r[5]});
      }
    `,panelCloseBtnIcon:g`
      color: ${t.gray[400]};
      width: ${r[2]};
      height: ${r[2]};
    `}};function qh(){const e=Ze.useContext(eg),[t]=Ze.useState(()=>$8(e));return t}var V8=Object.prototype.hasOwnProperty,Ir=Object.hasOwn||((e,t)=>V8.call(e,t));function q(e,t="Assertion failed"){if(!e){const i=typeof t=="string"?t:t();throw new Error(i)}}function ut(e){tg(e,"string")}function ni(e){tg(e,"number")}function F8(e){tg(e,"boolean")}function tg(e,t){typeof e!==t&&tw(e,t)}function Lt(e){e===null&&tw(e,"object"),tg(e,"object")}function Hr(e){Array.isArray(e)||tw(e,"array")}function G8(e,t){let i="Invalid type: ";return e==null?i+=e:i+=`${typeof e} \`${e}\``,i+`, expected ${t}`}function tw(e,t){throw new Error(G8(e,t))}function q8(e){if(e===null)throw new Error("Expected non-null value")}function K8(e,t="Expected undefined value"){if(e!==void 0)throw new Error(t)}function on(e){throw new Error("Unreachable")}function Ft(e,t){if(e==null)throw new Error(`Unexpected ${e} value`);return e}function sl(e,t,i,r,o){if(i.isHidden)switch(t.type){case"add":case"remove":for(const[h,m]of Object.entries(t.node.relationships)){const y=Ft(i.relationships[h]);for(const g of m)sl(e,{type:t.type,node:g},y,h,o)}return;case"edit":return;case"child":{const h=Ft(i.relationships[t.child.relationshipName]);sl(e,t.child.change,h,r,o);return}default:on()}const{singular:u,relationships:f}=o;switch(t.type){case"add":{const h={...t.node.row};if(u)K8(e[r],"single output already exists"),e[r]=h;else{const m=P0(e,r),{pos:y,found:g}=Ko(m,h,i.compareRows);q(!g,"node already exists"),m.splice(y,0,h)}for(const[m,y]of Object.entries(t.node.relationships)){const g=Ft(i.relationships[m]),v=f[m];if(v===void 0)continue;const b=v.singular?void 0:[];h[m]=b;for(const E of y)sl(h,{type:"add",node:E},g,m,v)}break}case"remove":{if(u)Lt(e[r]),e[r]=void 0;else{const h=P0(e,r),{pos:m,found:y}=Ko(h,t.node.row,i.compareRows);q(y,"node does not exist"),h.splice(m,1)}lk(t.node);break}case"child":{let h;if(u)Lt(e[r]),h=e[r];else{const g=P0(e,r),{pos:v,found:b}=Ko(g,t.row,i.compareRows);q(b,"node does not exist"),h=g[v]}const m=Ft(i.relationships[t.child.relationshipName]),y=o.relationships[t.child.relationshipName];y!==void 0&&sl(h,t.child.change,m,t.child.relationshipName,y);break}case"edit":{if(u)Lt(e[r]),e[r]={...e[r],...t.node.row};else{const h=e[r];if(Hr(h),i.compareRows(t.oldNode.row,t.node.row)===0){const{pos:m,found:y}=Ko(h,t.oldNode.row,i.compareRows);q(y,"node does not exists"),h[m]=o_(t.node.row,h[m],i.relationships)}else{const{pos:m,found:y}=Ko(h,t.oldNode.row,i.compareRows);q(y,"node does not exists");const g=h[m];h.splice(m,1);{const{pos:v,found:b}=Ko(h,t.node.row,i.compareRows);q(!b,"node already exists"),h.splice(v,0,o_(t.node.row,g,i.relationships))}}}break}default:on()}}function Ko(e,t,i){let r=0,o=e.length-1;for(;r<=o;){const u=r+o>>>1,f=i(e[u],t);if(f<0)r=u+1;else if(f>0)o=u-1;else return{pos:u,found:!0}}return{pos:r,found:!1}}function o_(e,t,i){const r={...e};for(const o in i)q(!(o in e),"Relationship already exists"),r[o]=t[o];return r}function lk(e){for(const t of Object.values(e.relationships))for(const i of t)lk(i)}function P0(e,t){const i=e[t];return Hr(i),i}var uk=Object.defineProperty,Q8=Object.getOwnPropertyDescriptor,Y8=Object.getOwnPropertyNames,J8=Object.prototype.hasOwnProperty,X8=(e,t)=>{for(var i in t)uk(e,i,{get:t[i],enumerable:!0})},Z8=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y8(t))!J8.call(e,o)&&o!==i&&uk(e,o,{get:()=>t[o],enumerable:!(r=Q8(t,o))||r.enumerable});return e},W8=(e,t,i)=>(Z8(e,t,"default"),i);function Ue(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}class Kh{constructor(){C(this,"_lockP",null)}async lock(){const t=this._lockP,{promise:i,resolve:r}=Ue();return this._lockP=i,await t,r}withLock(t){return ES(this.lock(),t)}}class ck{constructor(){C(this,"_lock",new Kh);C(this,"_writeP",null);C(this,"_readP",[])}read(){return this._lock.withLock(async()=>{await this._writeP;const{promise:t,resolve:i}=Ue();return this._readP.push(t),i})}withRead(t){return ES(this.read(),t)}async write(){return await this._lock.withLock(async()=>{await this._writeP,await Promise.all(this._readP);const{promise:t,resolve:i}=Ue();return this._writeP=t,this._readP=[],i})}withWrite(t){return ES(this.write(),t)}}async function ES(e,t){const i=await e;try{return await t()}finally{i()}}class fk{constructor(t){this._sinks=t}log(t,i,...r){for(const o of this._sinks)o.log(t,i,...r)}async flush(){await Promise.all(this._sinks.map(t=>{var i;return(i=t.flush)==null?void 0:i.call(t)}))}}class eI{constructor(t,i="info",r){this.debug=void 0,this.info=void 0,this.warn=void 0,this.error=void 0;const o=u=>(...f)=>t.log(u,r,...f);switch(i){case"debug":this.debug=o("debug");case"info":this.info=o("info");case"warn":this.warn=o("warn");case"error":this.error=o("error")}this.flush=()=>{var u;return((u=t.flush)==null?void 0:u.call(t))??Promise.resolve()}}}const kr={log(e,t,...i){console[e](...tI(t),...i.map(nI))}};class ng extends eI{constructor(t="info",i,r=kr){super(r,t,i),this._level=t,this._logSink=r,this._context=i}withContext(t,i){const r={...this._context,[t]:i};return new ng(this._level,r,this._logSink)}}function tI(e){const t=[];for(const[i,r]of Object.entries(e??{})){const o=r===void 0?i:`${i}=${r}`;t.push(o)}return t}function nI(e){switch(typeof e){case"string":case"number":case"boolean":case"undefined":case"symbol":case"bigint":return e;case"object":if(e===null)return null;break}return JSON.stringify(e,iI)}function iI(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,..."cause"in t?{cause:t.cause}:null}:t}function rl(e,t){return e?{ok:!1,code:"join",left:e,right:t}:t}function dl(e,t){return{ok:!1,code:"prepend",key:e,tree:t}}function sI(e,t){const i=e.code;switch(i){case"invalid_type":return{code:i,path:t,expected:e.expected};case"invalid_literal":return{code:i,path:t,expected:e.expected};case"missing_value":return{code:i,path:t};case"invalid_length":return{code:i,path:t,minLength:e.minLength,maxLength:e.maxLength};case"unrecognized_keys":return{code:i,path:t,keys:e.keys};case"invalid_union":return{code:i,path:t,tree:e.tree};default:return{code:i,path:t,error:e.error}}}function nw(e,t=[],i=[]){for(;;)if(e.code==="join")nw(e.left,t.slice(),i),e=e.right;else if(e.code==="prepend")t.push(e.key),e=e.tree;else return e.code==="custom_error"&&typeof e.error=="object"&&e.error.path!==void 0&&t.push(...e.error.path),i.push(sI(e,t)),i}function $0(e,t){return e.length===0?"nothing":e.length===1?e[0]:`${e.slice(0,-1).join(", ")} ${t} ${e[e.length-1]}`}function l_(e){return typeof e=="bigint"?`${e}n`:JSON.stringify(e)}function dk(e){let t=0;for(;;)if(e.code==="join")t+=dk(e.left),e=e.right;else if(e.code==="prepend")e=e.tree;else return t+1}function hk(e){let t="",i=0;for(;;)if(e.code==="join")i+=dk(e.right),e=e.left;else if(e.code==="prepend")t+="."+e.key,e=e.tree;else break;let r="validation failed";if(e.code==="invalid_type")r=`expected ${$0(e.expected,"or")}`;else if(e.code==="invalid_literal")r=`expected ${$0(e.expected.map(l_),"or")}`;else if(e.code==="missing_value")r="missing value";else if(e.code==="unrecognized_keys"){const u=e.keys;r=`unrecognized ${u.length===1?"key":"keys"} ${$0(u.map(l_),"and")}`}else if(e.code==="invalid_length"){const u=e.minLength,f=e.maxLength;r="expected an array with ",u>0?f===u?r+=`${u}`:f!==void 0?r+=`between ${u} and ${f}`:r+=`at least ${u}`:r+=`at most ${f}`,r+=" item(s)"}else if(e.code==="custom_error"){const u=e.error;typeof u=="string"?r=u:u!==void 0&&(u.message!==void 0&&(r=u.message),u.path!==void 0&&(t+="."+u.path.join(".")))}let o=`${e.code} at .${t.slice(1)} (${r})`;return i===1?o+=" (+ 1 other issue)":i>1&&(o+=` (+ ${i} other issues)`),o}class ig extends Error{constructor(t){super(hk(t)),this.issueTree=t,Object.setPrototypeOf(this,new.target.prototype),this.name=new.target.name,this._issues=void 0}get issues(){return this._issues===void 0&&(this._issues=nw(this.issueTree)),this._issues}}class pk{constructor(t){this.issueTree=t,this.ok=!1,this._issues=void 0,this._message=void 0}get issues(){return this._issues===void 0&&(this._issues=nw(this.issueTree)),this._issues}get message(){return this._message===void 0&&(this._message=hk(this.issueTree)),this._message}throw(){throw new ig(this.issueTree)}}function Qh(e){return{ok:!0,value:e}}function rI(e){return new pk({ok:!1,code:"custom_error",error:e})}function mk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const zf=1,jf=2,Lf=4;let yk=class{optional(t){const i=new oI(this);return t?new ir(i,r=>r===void 0?{ok:!0,value:t()}:void 0):i}default(t){const i=Qh(t);return new ir(this.optional(),r=>r===void 0?i:void 0)}assert(t,i){const r={ok:!1,code:"custom_error",error:i};return new ir(this,(o,u)=>t(o,u)?void 0:r)}map(t){return new ir(this,(i,r)=>({ok:!0,value:t(i,r)}))}chain(t){return new ir(this,(i,r)=>{const o=t(i,r);return o.ok?o:o.issueTree})}};class ln extends yk{nullable(){return new aI(this)}toTerminals(t){t(this)}try(t,i){let r=zf;(i==null?void 0:i.mode)==="passthrough"?r=0:(i==null?void 0:i.mode)==="strip"&&(r=jf);const o=this.func(t,r);return o===void 0?{ok:!0,value:t}:o.ok?{ok:!0,value:o.value}:new pk(o)}parse(t,i){let r=zf;(i==null?void 0:i.mode)==="passthrough"?r=0:(i==null?void 0:i.mode)==="strip"&&(r=jf);const o=this.func(t,r);if(o===void 0)return t;if(o.ok)return o.value;throw new ig(o)}}class aI extends ln{constructor(t){super(),this.type=t,this.name="nullable"}func(t,i){return t===null?void 0:this.type.func(t,i)}toTerminals(t){t(wk),this.type.toTerminals(t)}nullable(){return this}}class oI extends yk{constructor(t){super(),this.type=t,this.name="optional"}func(t,i){return t===void 0||i&Lf?void 0:this.type.func(t,i)}toTerminals(t){t(this),t(bk),this.type.toTerminals(t)}optional(t){return t?new ir(this,i=>i===void 0?{ok:!0,value:t()}:void 0):this}}function gk(e,t){if(typeof e!="number"){const i=t>>5;for(let r=e.length;r<=i;r++)e.push(0);return e[i]|=1<<t%32,e}else return t<32?e|1<<t:gk([e,0],t)}function hf(e,t){return typeof e=="number"?t<32?e>>>t&1:0:e[t>>5]>>>t%32&1}class cs extends ln{constructor(t,i,r){super(),this.shape=t,this.restType=i,this.checks=r,this.name="object",this._invalidType={ok:!1,code:"invalid_type",expected:["object"]}}check(t,i){var r;const o={ok:!1,code:"custom_error",error:i};return new cs(this.shape,this.restType,[...(r=this.checks)!==null&&r!==void 0?r:[],{func:t,issue:o}])}func(t,i){if(!mk(t))return this._invalidType;let r=this._func;return r===void 0&&(r=lI(this.shape,this.restType,this.checks),this._func=r),r(t,i)}rest(t){return new cs(this.shape,t)}extend(t){return new cs(Object.assign(Object.assign({},this.shape),t),this.restType)}pick(...t){const i={};return t.forEach(r=>{i[r]=this.shape[r]}),new cs(i,void 0)}omit(...t){const i=Object.assign({},this.shape);return t.forEach(r=>{delete i[r]}),new cs(i,this.restType)}partial(){var t;const i={};Object.keys(this.shape).forEach(o=>{i[o]=this.shape[o].optional()});const r=(t=this.restType)===null||t===void 0?void 0:t.optional();return new cs(i,r)}}function lI(e,t,i){const r=[],o=[];for(const b in e){let E=!1;e[b].toTerminals(R=>{E||(E=R.name==="optional")}),E?o.push(b):r.push(b)}const u=[...r,...o],f=u.length;if(f===0&&(t==null?void 0:t.name)==="unknown")return function(b,E){if(i!==void 0){for(let R=0;R<i.length;R++)if(!i[R].func(b))return i[R].issue}};const h=u.map(b=>e[b]),m=r.length,y=Object.create(null);u.forEach((b,E)=>{y[b]=~E});const g=r.map(b=>dl(b,{ok:!1,code:"missing_value"}));function v(b,E,R){E==="__proto__"?Object.defineProperty(b,E,{value:R,writable:!0,enumerable:!0,configurable:!0}):b[E]=R}return function(b,E){let R=!1,A=b,z,j,U=0,X=0;if(E&zf||E&jf||t!==void 0)for(const G in b){const P=b[G],V=~y[G];let se;if(V>=0)X++,U=gk(U,V),se=h[V].func(P,E);else if(t!==void 0)se=t.func(P,E);else{if(E&zf)j===void 0?j=[G]:j.push(G);else if(E&jf&&z===void 0&&!R){A={},R=!0;for(let F=0;F<f;F++)if(hf(U,F)){const k=u[F];v(A,k,b[k])}}continue}if(se===void 0)R&&z===void 0&&v(A,G,P);else if(!se.ok)z=rl(z,dl(G,se));else if(z===void 0){if(!R)if(A={},R=!0,t===void 0){for(let F=0;F<f;F++)if(F!==V&&hf(U,F)){const k=u[F];v(A,k,b[k])}}else for(const F in b)v(A,F,b[F]);v(A,G,se.value)}}if(X<f)for(let G=0;G<f;G++){if(hf(U,G))continue;const P=u[G],V=b[P];let se=E&-5;if(V===void 0&&!(P in b)){if(G<m){z=rl(z,g[G]);continue}se|=Lf}const F=h[G].func(V,se);if(F===void 0)R&&z===void 0&&!(se&Lf)&&v(A,P,V);else if(!F.ok)z=rl(z,dl(P,F));else if(z===void 0){if(!R)if(A={},R=!0,t===void 0){for(let k=0;k<f;k++)if(k<G||hf(U,k)){const Z=u[k];v(A,Z,b[Z])}}else{for(const k in b)v(A,k,b[k]);for(let k=0;k<G;k++)if(!hf(U,k)){const Z=u[k];v(A,Z,b[Z])}}v(A,P,F.value)}}if(j!==void 0&&(z=rl(z,{ok:!1,code:"unrecognized_keys",keys:j})),z===void 0&&i!==void 0){for(let G=0;G<i.length;G++)if(!i[G].func(A))return i[G].issue}return z===void 0&&R?{ok:!0,value:A}:z}}class hl extends ln{constructor(t,i,r){super(),this.prefix=t,this.rest=i,this.suffix=r,this.name="array",this.restType=i??Sk(),this.minLength=this.prefix.length+this.suffix.length,this.maxLength=i?void 0:this.minLength,this.invalidType={ok:!1,code:"invalid_type",expected:["array"]},this.invalidLength={ok:!1,code:"invalid_length",minLength:this.minLength,maxLength:this.maxLength}}func(t,i){var r;if(!Array.isArray(t))return this.invalidType;const o=t.length,u=this.minLength,f=(r=this.maxLength)!==null&&r!==void 0?r:1/0;if(o<u||o>f)return this.invalidLength;const h=this.prefix.length,m=t.length-this.suffix.length;let y,g=t;for(let v=0;v<t.length;v++){const E=(v<h?this.prefix[v]:v>=m?this.suffix[v-m]:this.restType).func(t[v],i);E!==void 0&&(E.ok?(g===t&&(g=t.slice()),g[v]=E.value):y=rl(y,dl(v,E)))}return y||(t===g?void 0:{ok:!0,value:g})}concat(t){if(this.rest){if(t.rest)throw new TypeError("can not concatenate two variadic types");return new hl(this.prefix,this.rest,[...this.suffix,...t.prefix,...t.suffix])}else return t.rest?new hl([...this.prefix,...this.suffix,...t.prefix],t.rest,t.suffix):new hl([...this.prefix,...this.suffix,...t.prefix,...t.suffix],t.rest,t.suffix)}}function hy(e){const t=typeof e;return t!=="object"?t:e===null?"null":Array.isArray(e)?"array":t}function pf(e){return Array.from(new Set(e))}function uI(e){const t=new Map;e.forEach(r=>{for(const o in r)t.set(o,(t.get(o)||0)+1)});const i=[];return t.forEach((r,o)=>{r===e.length&&i.push(o)}),i}function vk(e){const t=new Map,i=new Map,r=new Map,o=[],u=[],f=[];e.forEach(({root:m,terminal:y})=>{var g;if(t.set(m,(g=t.get(m))!==null&&g!==void 0?g:t.size),y.name!=="never")if(y.name==="optional")u.push(m);else if(y.name==="unknown")o.push(m);else if(y.name==="literal"){const v=i.get(y.value)||[];v.push(m),i.set(y.value,v),f.push(hy(y.value))}else{const v=r.get(y.name)||[];v.push(m),r.set(y.name,v),f.push(y.name)}}),i.forEach((m,y)=>{const g=r.get(hy(y));g&&(g.push(...m),i.delete(y))});const h=(m,y)=>{var g,v;return((g=t.get(m))!==null&&g!==void 0?g:0)-((v=t.get(y))!==null&&v!==void 0?v:0)};return r.forEach((m,y)=>r.set(y,pf(m.concat(o).sort(h)))),i.forEach((m,y)=>i.set(y,pf(m.concat(o)).sort(h))),{types:r,literals:i,unknowns:pf(o).sort(h),optionals:pf(u).sort(h),expectedTypes:pf(f)}}function cI(e,t){const i=[];for(const{root:b,terminal:E}of e)E.shape[t].toTerminals(R=>i.push({root:b,terminal:R}));const{types:r,literals:o,optionals:u,unknowns:f,expectedTypes:h}=vk(i);if(f.length>0||u.length>1)return;for(const b of o.values())if(b.length>1)return;for(const b of r.values())if(b.length>1)return;const m=dl(t,{ok:!1,code:"missing_value"}),y=dl(t,r.size===0?{ok:!1,code:"invalid_literal",expected:Array.from(o.keys())}:{ok:!1,code:"invalid_type",expected:h}),g=o.size>0?new Map:void 0;for(const[b,E]of o)g.set(b,E[0]);const v=r.size>0?{}:void 0;for(const[b,E]of r)v[b]=E[0];return function(b,E){var R;const A=b,z=A[t];if(z===void 0&&!(t in A))return u.length>0?u[0].func(A,E):m;const j=(R=v==null?void 0:v[hy(z)])!==null&&R!==void 0?R:g==null?void 0:g.get(z);return j?j.func(A,E):y}}function fI(e){if(e.some(({terminal:r})=>r.name==="unknown"))return;const t=e.filter(r=>r.terminal.name==="object");if(t.length<2)return;const i=t.map(({terminal:r})=>r.shape);for(const r of uI(i)){const o=cI(t,r);if(o)return o}}function dI(e){const{expectedTypes:t,literals:i,types:r,unknowns:o,optionals:u}=vk(e),f=r.size===0&&o.length===0?{ok:!1,code:"invalid_literal",expected:Array.from(i.keys())}:{ok:!1,code:"invalid_type",expected:t},h=i.size>0?i:void 0,m=r.size>0?{}:void 0;for(const[y,g]of r)m[y]=g;return function(y,g){var v,b;let E;if(g&Lf?E=u:E=(b=(v=m==null?void 0:m[hy(y)])!==null&&v!==void 0?v:h==null?void 0:h.get(y))!==null&&b!==void 0?b:o,!E)return f;let R=0,A=f;for(let z=0;z<E.length;z++){const j=E[z].func(y,g);if(j===void 0||j.ok)return j;A=R>0?rl(A,j):j,R++}return R>1?{ok:!1,code:"invalid_union",tree:A}:A}}class hI extends ln{constructor(t){super(),this.options=t,this.name="union"}toTerminals(t){this.options.forEach(i=>i.toTerminals(t))}func(t,i){let r=this._func;if(r===void 0){const o=[];this.options.forEach(h=>h.toTerminals(m=>{o.push({root:h,terminal:m})}));const u=dI(o),f=fI(o);f?r=function(h,m){return mk(h)?f(h,m):u(h,m)}:r=u,this._func=r}return r(t,i)}}const pI=Object.freeze({mode:"strict"}),mI=Object.freeze({mode:"strip"}),yI=Object.freeze({mode:"passthrough"});class ir extends ln{constructor(t,i){super(),this.transformed=t,this.transform=i,this.name="transform",this.undef=Qh(void 0),this.transformChain=void 0,this.transformRoot=void 0}func(t,i){let r=this.transformChain;if(!r){r=[];let h=this;for(;h instanceof ir;)r.push(h.transform),h=h.transformed;r.reverse(),this.transformChain=r,this.transformRoot=h}let o=this.transformRoot.func(t,i);if(o!==void 0&&!o.ok)return o;let u;o!==void 0?u=o.value:i&Lf?(u=void 0,o=this.undef):u=t;const f=i&zf?pI:i&jf?mI:yI;for(let h=0;h<r.length;h++){const m=r[h](u,f);if(m!==void 0){if(!m.ok)return m;u=m.value,o=m}}return o}toTerminals(t){this.transformed.toTerminals(t)}}class gI extends ln{constructor(t){super(),this.definer=t,this.name="lazy",this.recursing=!1}func(t,i){return this.type||(this.type=this.definer()),this.type.func(t,i)}toTerminals(t){if(!this.recursing)try{this.recursing=!0,this.type||(this.type=this.definer()),this.type.toTerminals(t)}finally{this.recursing=!1}}}class vI extends ln{constructor(){super(...arguments),this.name="never",this.issue={ok:!1,code:"invalid_type",expected:[]}}func(t,i){return this.issue}}const SI=new vI;function Sk(){return SI}class bI extends ln{constructor(){super(...arguments),this.name="unknown"}func(t,i){}}const wI=new bI;function iw(){return wI}class xI extends ln{constructor(){super(...arguments),this.name="undefined",this.issue={ok:!1,code:"invalid_type",expected:["undefined"]}}func(t,i){return t===void 0?void 0:this.issue}}const bk=new xI;function CI(){return bk}class EI extends ln{constructor(){super(...arguments),this.name="null",this.issue={ok:!1,code:"invalid_type",expected:["null"]}}func(t,i){return t===null?void 0:this.issue}}const wk=new EI;function _I(){return wk}class DI extends ln{constructor(){super(...arguments),this.name="number",this.issue={ok:!1,code:"invalid_type",expected:["number"]}}func(t,i){return typeof t=="number"?void 0:this.issue}}const TI=new DI;function RI(){return TI}class MI extends ln{constructor(){super(...arguments),this.name="bigint",this.issue={ok:!1,code:"invalid_type",expected:["bigint"]}}func(t,i){return typeof t=="bigint"?void 0:this.issue}}const OI=new MI;function kI(){return OI}class NI extends ln{constructor(){super(...arguments),this.name="string",this.issue={ok:!1,code:"invalid_type",expected:["string"]}}func(t,i){return typeof t=="string"?void 0:this.issue}}const AI=new NI;function xk(){return AI}class zI extends ln{constructor(){super(...arguments),this.name="boolean",this.issue={ok:!1,code:"invalid_type",expected:["boolean"]}}func(t,i){return typeof t=="boolean"?void 0:this.issue}}const jI=new zI;function LI(){return jI}class II extends ln{constructor(t){super(),this.value=t,this.name="literal",this.issue={ok:!1,code:"invalid_literal",expected:[t]}}func(t,i){return t===this.value?void 0:this.issue}}function HI(e){return new II(e)}function sw(e){return new cs(e,void 0)}function Ck(e){return new cs({},e??iw())}function Ek(e){return new hl([],e??iw(),[])}function UI(e){return new hl(e,void 0,[])}function BI(...e){return new hI(e)}function PI(e){return new gI(e)}const $I=Object.freeze(Object.defineProperty({__proto__:null,ValitaError:ig,array:Ek,bigint:kI,boolean:LI,err:rI,lazy:PI,literal:HI,never:Sk,null:_I,number:RI,object:sw,ok:Qh,record:Ck,string:xk,tuple:UI,undefined:CI,union:BI,unknown:iw},Symbol.toStringTag,{value:"Module"}));function ti(e,t){const i=e.length,r=t.length,o=Math.min(i,r);for(let u=0;u<o;){const f=e.codePointAt(u),h=t.codePointAt(u);if(f!==h){if(f<128&&h<128)return f-h;const m=f_(f,u_),y=f_(h,c_);return VI(u_,m,c_,y)}u+=FI(f)}return i-r}function VI(e,t,i,r){const o=Math.min(t,r);for(let u=0;u<o;u++){const f=e[u],h=i[u];if(f!==h)return f-h}return t-r}function FI(e){return e>65535?2:1}const _k=()=>Array.from({length:4},()=>0),u_=_k(),c_=_k();function f_(e,t){if(e<128)return t[0]=e,1;let i,r;if(e<=2047)i=1,r=192;else if(e<=65535)i=2,r=224;else if(e<=1114111)i=3,r=240;else throw new Error("Invalid code point");t[0]=(e>>6*i)+r;let o=1;for(;i>0;i--){const u=e>>6*(i-1);t[o++]=128|u&63}return o}function rw(e,t){return ti(e,t)>0}function V0(e,t){return ti(e,t)<0}function F0(e,t){return ti(e,t)<=0}const Qo=2654435761,Yo=2246822519,gm=3266489917,d_=668265263,h_=374761393;let GI;function qI(e,t=0){const i=typeof e=="string"?(GI??(GI=new TextEncoder)).encode(e):e,r=i;let o=t+h_&4294967295,u=0;if(r.length>=16){const h=[t+Qo+Yo&4294967295,t+Yo&4294967295,t+0&4294967295,t-Qo&4294967295],m=i,y=m.length-16;let g=0;for(u=0;(u&4294967280)<=y;u+=4){const v=u,b=m[v+0]+(m[v+1]<<8),E=m[v+2]+(m[v+3]<<8),R=b*Yo+(E*Yo<<16);let A=h[g]+R&4294967295;A=A<<13|A>>>19;const z=A&65535,j=A>>>16;h[g]=z*Qo+(j*Qo<<16)&4294967295,g=g+1&3}o=(h[0]<<1|h[0]>>>31)+(h[1]<<7|h[1]>>>25)+(h[2]<<12|h[2]>>>20)+(h[3]<<18|h[3]>>>14)&4294967295}o=o+i.length&4294967295;const f=i.length-4;for(;u<=f;u+=4){const h=u,m=r[h+0]+(r[h+1]<<8),y=r[h+2]+(r[h+3]<<8),g=m*gm+(y*gm<<16);o=o+g&4294967295,o=o<<17|o>>>15,o=(o&65535)*d_+((o>>>16)*d_<<16)&4294967295}for(;u<r.length;++u){const h=r[u];o=o+h*h_,o=o<<11|o>>>21,o=(o&65535)*Qo+((o>>>16)*Qo<<16)&4294967295}return o=o^o>>>15,o=((o&65535)*Yo&4294967295)+((o>>>16)*Yo<<16),o=o^o>>>13,o=((o&65535)*gm&4294967295)+((o>>>16)*gm<<16),o=o^o>>>16,o<0?o+4294967296:o}async function Dk(e,t,i,r){const o={headers:{"Content-type":"application/json",Authorization:t,"X-Replicache-RequestID":i},body:JSON.stringify(r),method:"POST"},u=new Request(e,o),f=await fetch(u),h=f.status;return h!==200?[void 0,{httpStatusCode:h,errorMessage:await f.text()}]:[f,{httpStatusCode:h,errorMessage:""}]}function io(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;switch(typeof e){case"boolean":case"number":case"string":return!1}if(e=e,Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!io(e[o],t[o]))return!1;return!0}if(e===null||t===null||Array.isArray(t))return!1;e=e,t=t;let i=0;for(const o in e)if(Ir(e,o)){if(!io(e[o],t[o]))return!1;i++}let r=0;for(const o in t)Ir(t,o)&&r++;return i===r}function KI(e){}function Tk(e){Lt(e),QI(e)}function QI(e){for(const t in e)Ir(e,t)&&e[t]}function Rk(e,t){return e===t?0:e<t?-1:1}function aw(e,t){if(e===t)return 0;if(e===null)return-1;if(t===null)return 1;const i=p_(e),r=p_(t);return typeof i=="string"||typeof r=="string"?Rk(String(i),String(r)):i-r}function p_(e){return typeof e=="string"||typeof e=="number"?e:e.order}function Mk(e){if(!(e===null||typeof e=="string"||typeof e=="number")&&(Tk(e),!(typeof e.order=="string"||typeof e.order=="number")))throw new Error("Invalid cookie")}function Ok(e,t){return typeof e=="object"&&e!==null&&e.error===t}function YI(e){return typeof e.error=="string"}function pl(e){return Ok(e,"ClientStateNotFound")}function ml(e){if(!Ok(e,"VersionNotSupported"))return!1;const{versionType:t}=e;switch(t){case void 0:case"pull":case"push":case"schema":return!0}return!1}function JI(e){q(ml(e))}function kk(e){Lt(e),ni(e.httpStatusCode),ut(e.errorMessage)}function XI(e){Hr(e);for(const t of e)ZI(t)}function ZI(e){switch(Lt(e),e.op){case"put":ut(e.key),e.value;break;case"update":if(ut(e.key),e.merge!==void 0&&Tk(e.merge),e.constrain!==void 0){Hr(e.constrain);for(const t of e.constrain)ut(t)}break;case"del":ut(e.key);break;case"clear":break;default:throw new Error(`unknown patch op \`${e.op}\`, expected one of \`put\`, \`del\`, \`clear\``)}}function WI(e){async function t(i,r){const[o,u]=await Dk(e.pullURL,e.auth,r,i);return o?{response:await o.json(),httpRequestInfo:u}:{httpRequestInfo:u}}return Nk.add(t),t}var Nk=new WeakSet;function eH(e){return Nk.has(e)}function tH(e){if(Lt(e),pl(e)||ml(e))return;const t=e;t.cookie!==void 0&&Mk(t.cookie),nH(t.lastMutationIDChanges),XI(t.patch)}function nH(e){Lt(e);for(const[t,i]of Object.entries(e))ut(t),ni(i)}function iH(e){Lt(e),kk(e.httpRequestInfo),e.response!==void 0&&tH(e.response)}var sH=Promise.resolve(!0),rH=Promise.resolve(!1);Promise.resolve(void 0);var rn=Promise.resolve();function Ak(e){if(e!==void 0)return e}var Of=Symbol(),sr,B2,zk=(B2=class{constructor(e){C(this,"_pending",new Map);x(this,sr);D(this,sr,e)}has(e){switch(this._pending.get(e)){case void 0:return d(this,sr).has(e);case Of:return rH;default:return sH}}async get(e){const t=this._pending.get(e);switch(t){case Of:return;case void 0:{const i=await d(this,sr).get(e);return Ak(i)}default:return t}}put(e,t){return this._pending.set(e,t),rn}del(e){return this._pending.set(e,Of),rn}release(){d(this,sr).release()}get closed(){return d(this,sr).closed}},sr=new WeakMap,B2);function _s(e){return globalThis[e]}function aH(e){var t;return(t=globalThis[e])==null?void 0:t.bind(globalThis)}function ow(e){const t=_s(e);if(t===void 0)throw new Error(`Unsupported JavaScript environment: Could not find ${e}.`);return t}var oH={durability:"relaxed"},sg="chunks",rr,vl,Sl,Ff,_S,P2,py=(P2=class{constructor(e){x(this,Ff);x(this,rr);x(this,vl,!1);x(this,Sl,!1);D(this,rr,fH(e))}read(){return O(this,Ff,_S).call(this,cH)}write(){return O(this,Ff,_S).call(this,uH)}async close(){d(this,Sl)||(await d(this,rr)).close(),D(this,vl,!0)}get closed(){return d(this,vl)}},rr=new WeakMap,vl=new WeakMap,Sl=new WeakMap,Ff=new WeakSet,_S=async function(e){const t=async r=>{const{promise:o,resolve:u,reject:f}=Ue(),h=indexedDB.open(r);h.onupgradeneeded=()=>{const y=h.transaction;q8(y),y.abort(),D(this,Sl,!0),f(new m_(`Replicache IndexedDB not found: ${r}`))},h.onsuccess=()=>u(h.result),h.onerror=()=>f(h.error);const m=await o;return m.onversionchange=()=>m.close(),m},i=await d(this,rr);try{return e(i)}catch(r){if(!d(this,vl)&&r instanceof DOMException){if(r.name==="InvalidStateError"){D(this,rr,t(i.name));const o=await d(this,rr);return e(o)}else if(r.name==="NotFoundError")throw D(this,Sl,!0),ow("indexedDB").deleteDatabase(i.name),new m_(`Replicache IndexedDB ${i.name} missing object store. Deleting db.`)}throw r}},P2),bl,Gf,$2,jk=($2=class{constructor(e){x(this,bl);x(this,Gf,!1);D(this,bl,e)}has(e){return new Promise((t,i)=>{const r=DS(d(this,bl)).count(e);r.onsuccess=()=>t(r.result>0),r.onerror=()=>i(r.error)})}get(e){return new Promise((t,i)=>{const r=DS(d(this,bl)).get(e);r.onsuccess=()=>t(Ak(r.result)),r.onerror=()=>i(r.error)})}release(){D(this,Gf,!0)}get closed(){return d(this,Gf)}},bl=new WeakMap,Gf=new WeakMap,$2),qf,Kf,V2,lH=(V2=class extends zk{constructor(t){super(new jk(t));x(this,qf);x(this,Kf,!1);D(this,qf,t)}commit(){return this._pending.size===0?rn:new Promise((t,i)=>{const r=d(this,qf),o=DS(r);for(const[u,f]of this._pending)f===Of?o.delete(u):o.put(f,u);r.oncomplete=()=>t(),r.onerror=()=>i(r.error)})}release(){D(this,Kf,!0)}get closed(){return d(this,Kf)}},qf=new WeakMap,Kf=new WeakMap,V2);function uH(e){const t=e.transaction(sg,"readwrite",oH);return new lH(t)}function cH(e){const t=e.transaction(sg,"readonly");return new jk(t)}function DS(e){return e.objectStore(sg)}function fH(e){const t=ow("indexedDB");return new Promise((i,r)=>{const o=t.open(e);o.onupgradeneeded=()=>{o.result.createObjectStore(sg)},o.onsuccess=()=>{const u=o.result;u.onversionchange=()=>u.close(),i(u)},o.onerror=()=>r(o.error)})}var m_=class extends Error{constructor(){super(...arguments);C(this,"name","IDBNotFoundError")}},Lk=class extends Error{constructor(){super("Transaction is closed")}};function If(e){if(e.closed)throw new Lk}function Ik(e){return e.closed?Promise.reject(new Lk):void 0}var Hf=5,dH=6,Uf=7,Dn=Uf,Zt=typeof navigator<"u"?navigator:void 0,wl,Qf,Yf,F2,Hk=(F2=class{constructor(e,t){x(this,wl);x(this,Qf);x(this,Yf,!1);D(this,wl,e),D(this,Qf,t)}release(){d(this,Qf).call(this),D(this,Yf,!0)}get closed(){return d(this,Yf)}has(e){return Promise.resolve(d(this,wl).has(e))}get(e){return Promise.resolve(d(this,wl).get(e))}},wl=new WeakMap,Qf=new WeakMap,Yf=new WeakMap,F2),xl,G2,hH=(G2=class extends zk{constructor(t,i){super(new Hk(t,i));x(this,xl);D(this,xl,t)}commit(){return this._pending.forEach((t,i)=>{t===Of?d(this,xl).delete(i):d(this,xl).set(i,t)}),this._pending.clear(),this.release(),rn}},xl=new WeakMap,G2),TS=new Map;function Uk(e){return TS.delete(e),rn}var Cl,El,Jf,q2,Bk=(q2=class{constructor(e){x(this,Cl);x(this,El);x(this,Jf,!1);const t=TS.get(e);let i,r;t?{lock:i,map:r}=t:(i=new ck,r=new Map,TS.set(e,{lock:i,map:r})),D(this,El,i),D(this,Cl,r)}async read(){const e=await d(this,El).read();return new Hk(d(this,Cl),e)}async write(){const e=await d(this,El).write();return new hH(d(this,Cl),e)}close(){return D(this,Jf,!0),rn}get closed(){return d(this,Jf)}},Cl=new WeakMap,El=new WeakMap,Jf=new WeakMap,q2),Xf,Zf,Ti,Wf,RS,K2,pH=(K2=class{constructor(e,t){x(this,Wf);x(this,Xf);x(this,Zf);x(this,Ti);D(this,Xf,e),D(this,Zf,t),D(this,Ti,new py(t))}read(){return O(this,Wf,RS).call(this,e=>e.read())}write(){return O(this,Wf,RS).call(this,e=>e.write())}close(){return d(this,Ti).close()}get closed(){return d(this,Ti).closed}},Xf=new WeakMap,Zf=new WeakMap,Ti=new WeakMap,Wf=new WeakSet,RS=async function(e){var t,i;try{return await e(d(this,Ti))}catch(r){if(Pk(r))return d(this,Ti)instanceof py&&((i=(t=d(this,Xf)).info)==null||i.call(t,"Switching to MemStore because of Firefox private browsing error"),D(this,Ti,new Bk(d(this,Zf)))),e(d(this,Ti));throw r}},K2);function Pk(e){return lw()&&e instanceof DOMException&&e.name==="InvalidStateError"&&e.message==="A mutation operation was attempted on a database that did not allow mutations."}function lw(){return(Zt==null?void 0:Zt.userAgent.includes("Firefox"))??!1}function mH(e,t){return lw()?new pH(e,t):new py(t)}function yH(e){if(!lw())return y_(e);try{return y_(e)}catch(t){if(Pk(t))return Uk(e)}return rn}function y_(e){return new Promise((t,i)=>{const r=indexedDB.deleteDatabase(e);r.onsuccess=()=>t(),r.onerror=()=>i(r.error)})}var tc=class extends Error{constructor(){super(...arguments);C(this,"name","AbortError")}};function $k(e,t,i){return e?new gH(e,t,i):new bH}var _l,ed,td,Dl,Iy,Br,MS,OS,Q2,gH=(Q2=class{constructor(e,t,i){x(this,Br);x(this,_l);x(this,ed);x(this,td,0);C(this,"visibilityState");x(this,Dl,new Set);x(this,Iy,()=>{d(this,_l).visibilityState==="visible"?(clearTimeout(d(this,td)),O(this,Br,MS).call(this,"visible")):D(this,td,setTimeout(()=>{O(this,Br,MS).call(this,"hidden")},d(this,ed)))});D(this,_l,e),D(this,ed,t),this.visibilityState=e.visibilityState,d(this,_l).addEventListener("visibilitychange",d(this,Iy),{signal:i})}waitForVisible(){return O(this,Br,OS).call(this,"visible")}waitForHidden(){return O(this,Br,OS).call(this,"hidden")}},_l=new WeakMap,ed=new WeakMap,td=new WeakMap,Dl=new WeakMap,Iy=new WeakMap,Br=new WeakSet,MS=function(e){if(e!==this.visibilityState){this.visibilityState=e;for(const t of d(this,Dl)){const{resolve:i,state:r}=t;r===e&&(i(),d(this,Dl).delete(t))}}},OS=function(e){if(this.visibilityState===e)return Promise.resolve();const{promise:t,resolve:i}=Ue();return d(this,Dl).add({resolve:i,state:e}),t},Q2),vH=Promise.resolve(),SH=new Promise(()=>{}),bH=class{constructor(){C(this,"visibilityState","visible")}waitForVisible(){return vH}waitForHidden(){return SH}},Vk=class{constructor(e,t){C(this,"rep");C(this,"invokeSend");C(this,"maxConnections",1);this.rep=e,this.invokeSend=t}get maxDelayMs(){return this.rep.requestOptions.maxDelayMs}get minDelayMs(){return this.rep.requestOptions.minDelayMs}},wH=class extends Vk{constructor(){super(...arguments);C(this,"debounceDelay",0)}get watchdogTimer(){return this.rep.pullInterval}},xH=class extends Vk{constructor(){super(...arguments);C(this,"watchdogTimer",null)}get debounceDelay(){return this.rep.pushDelay}},CH=Promise.resolve();new Promise(()=>{});function Nr(e,t){const i=()=>new tc("Aborted");return t!=null&&t.aborted?Promise.reject(i()):e===0?CH:new Promise((r,o)=>{let u;t&&(u=()=>{clearTimeout(f),o(i())},t.addEventListener("abort",u,{once:!0}));const f=setTimeout(()=>{r(),t==null||t.removeEventListener("abort",u)},e)})}function EH(e,t){const{promise:i,resolve:r}=Ue();return[new Promise(u=>{const f=()=>{clearTimeout(h),r()},h=setTimeout(()=>{u(),t.removeEventListener("abort",f)},e);t.addEventListener("abort",f,{once:!0})}),i]}var _H=30,DH=6e4,wa,Tl,xa,nd,ci,Rl,Ml,id,Ca,rc,Fk,Gk,Y2,g_=(Y2=class{constructor(e,t,i){x(this,rc);x(this,wa,Ue());x(this,Tl,Ue());x(this,xa,Ue());x(this,nd);x(this,ci,!1);x(this,Rl,0);x(this,Ml);x(this,id);x(this,Ca);D(this,Ml,e),D(this,nd,t),D(this,id,i),this.run()}close(){D(this,ci,!0),d(this,Rl)>0&&d(this,xa).resolve({error:v_()})}async send(e){var i,r,o;if(d(this,ci))return{error:v_()};fa(this,Rl)._++,(r=(i=d(this,Ml)).debug)==null||r.call(i,"send",e),e?d(this,Tl).resolve():await((o=d(this,id))==null?void 0:o.waitForVisible()),d(this,wa).resolve();const t=await d(this,xa).promise;return fa(this,Rl)._--,t}async run(){const e=[];let t=Ue(),i,r=0;const o=d(this,nd),{debug:u}=d(this,Ml);let f=0;u==null||u("Starting connection loop");const h=m=>Promise.race([d(this,Tl).promise,Nr(m)]);for(;!d(this,ci);){u==null||u(G0(e)?"Last request failed. Trying again":"Waiting for a send");const m=[d(this,wa).promise],y=o.watchdogTimer;if(y!==null&&m.push(Nr(y)),await Promise.race(m),d(this,ci)||(u==null||u("Waiting for debounce"),await h(o.debounceDelay),d(this,ci)))break;if(u==null||u("debounced"),D(this,wa,Ue()),r>=o.maxConnections){if(u==null||u("Too many request in flight. Waiting until one finishes..."),await O(this,rc,Gk).call(this),d(this,ci))break;u==null||u("...finished")}r>0||G0(e)?(f=RH(f,o,e),u==null||u(G0(e)?"Last connection errored. Sleeping for":"More than one outstanding connection ("+r+"). Sleeping for",f,"ms")):f=0;const g=Math.min(o.maxDelayMs,Math.max(o.minDelayMs,f));if(i!==void 0){const v=Date.now()-i;if(g>v&&(await Promise.race([h(g-v),t.promise]),d(this,ci)))break}r++,(async()=>{const v=Date.now();let b,E;try{i=v,u==null||u("Sending request"),D(this,Tl,Ue()),b=await o.invokeSend(),u==null||u("Send returned",b)}catch(A){u==null||u("Send failed",A),E=A,b=!1}if(d(this,ci)){u==null||u("Closed after invokeSend");return}u==null||u("Request done",{duration:Date.now()-v,ok:b}),e.push({duration:Date.now()-v,ok:b}),OH(e)&&(t.resolve(),t=Ue()),r--,O(this,rc,Fk).call(this);const R=d(this,xa);D(this,xa,Ue()),E?R.resolve({error:E}):R.resolve(void 0),b||d(this,wa).resolve()})()}}},wa=new WeakMap,Tl=new WeakMap,xa=new WeakMap,nd=new WeakMap,ci=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,id=new WeakMap,Ca=new WeakMap,rc=new WeakSet,Fk=function(){if(d(this,Ca)){const e=d(this,Ca);D(this,Ca,void 0),e()}},Gk=function(){const{promise:e,resolve:t}=Ue();return D(this,Ca,t),e},Y2),TH=9;function v_(){return new Error("Closed")}function RH(e,t,i){const{length:r}=i;if(r===0)return e;const{ok:o}=i[i.length-1],{maxConnections:u,minDelayMs:f}=t;if(!o)return e===0?f:e*2;if(r>1){const m=i[i.length-2];for(;i.length>TH;)i.shift();if(o&&!m.ok)return f}return MH(i.filter(({ok:m})=>m).map(({duration:m})=>m))/u|0}function MH(e){e.sort();const{length:t}=e,i=t>>1;return t%2===1?e[i]:(e[i-1]+e[i])/2}function G0(e){return e.length>0&&!e[e.length-1].ok}function OH(e){return e.length>1&&!e[e.length-2].ok&&e[e.length-1].ok}function*kS(...e){for(const t of e)yield*t}function*kH(e,t,i=!1){var o;const r=e.map(u=>u[Symbol.iterator]());try{const u=r.map(h=>h.next());let f;for(;u.some(h=>!h.done);){const h=u.reduce((m,y,g)=>y.done?m:m===void 0||t(y.value,m[0])<0?[y.value,g]:m,void 0);q(h!==void 0,"min is undefined"),u[h[1]]=r[h[1]].next(),!(f!==void 0&&i&&t(f,h[0])===0)&&(f=h[0],yield h[0])}}finally{for(const u of r)(o=u.return)==null||o.call(u)}}var _i=1,al=4,NH=5,AH=8;function Ja(e){switch(typeof e){case"string":return _i+al+e.length;case"number":return zH(e)?e<=-1073741824||e>=2**30-1?_i+NH:_i+al:_i+AH;case"boolean":return _i;case"object":if(e===null)return _i;if(Array.isArray(e)){let t=2*_i+al;for(const i of e)t+=Ja(i);return t}{const t=e;let i=2*_i+al;for(const r in t)if(Ir(t,r)){const o=t[r];o!==void 0&&(i+=Ja(r)+Ja(o))}return i}}throw new Error(`Invalid value. type: ${typeof e}, value: ${e}`)}function zH(e){return e===(e|0)}var jH=2*_i+al+_i+al;function qk(e,t){return jH+Ja(e)+Ja(t)}function rg(e){if(Array.isArray(e)){e.sort();for(let i=1;i<e.length;i++)q(e[i-1]!==e[i],"Refs must not have duplicates");return e}const t=[...e];return t.sort(),t}var Kk=class{constructor(e,t,i){C(this,"hash");C(this,"data");C(this,"meta");q(!i.includes(e),"Chunk cannot reference itself"),this.hash=e,this.data=t,this.meta=i}};function Qk(e){if(!Array.isArray(e))throw new Error("Refs must be an array");if(e.length>0){ut(e[0]);for(let t=1;t<e.length;t++)ut(e[t])}}function Yk(e,t,i){const r=i();return new Kk(r,e,t)}function NS(){const e=Math.floor(Math.random()*4294967295),t=Math.floor(Math.random()*4294967295);return BigInt(e)<<32n|BigInt(t)}var T={};X8(T,{assert:()=>Yh,deepPartial:()=>Jk,instanceOfAbstractType:()=>PH,is:()=>IH,parse:()=>Ar,readonly:()=>UH,readonlyArray:()=>$r,readonlyObject:()=>Ht,readonlyRecord:()=>Jh,test:()=>cw,testOptional:()=>HH});W8(T,$I);function AS(e){switch(typeof e){case"string":case"number":case"boolean":return JSON.stringify(e);case"undefined":return"undefined";case"bigint":return e.toString()+"n";default:return e===null?"null":Array.isArray(e)?"array":typeof e}}function q0(e,t){if(!(t!=null&&t.length))return AS(e);let i=e;for(const r of t)i=i[r];return AS(i)}function K0(e,t,i=r=>String(r)){if(t.length===1)return i(t[0]);const r=`${i(t[t.length-2])} ${e} ${i(t[t.length-1])}`;return t.length===2?r:`${t.slice(0,-2).map(i).join(", ")}, ${r}`}function uw(e,t,i,r){var h;const o=e.issues[0],{path:u}=o,f=u!=null&&u.length?` at ${u.join(".")}`:"";switch(o.code){case"invalid_type":return`Expected ${K0("or",o.expected)}${f}. Got ${q0(t,u)}`;case"missing_value":{const m=u&&u.length>1?` at ${u.slice(0,-1).join(".")}`:"";return(h=o.path)!=null&&h.length?`Missing property ${o.path.at(-1)}${m}`:`TODO Unknown missing property${m}`}case"invalid_literal":return`Expected literal value ${K0("or",o.expected,AS)}${f} Got ${q0(t,u)}`;case"invalid_length":return`Expected array with length ${o.minLength===o.maxLength?o.minLength:`between ${o.minLength} and ${o.maxLength}`}${f}. Got array with length ${t.length}`;case"unrecognized_keys":return o.keys.length===1?`Unexpected property ${o.keys[0]}${f}`:`Unexpected properties ${K0("and",o.keys)}${f}`;case"invalid_union":return i.name==="union"?LH(t,i,r??"strict"):`Invalid union value${f}`;case"custom_error":{const{error:m}=o;return`${m?typeof m=="string"?m:m.message??"unknown":"unknown"}${f}. Got ${q0(t,u)}`}}}function LH(e,t,i){const r=[];for(const o of t.options){const u=o.try(e,{mode:i});u.ok||r.push({type:o,err:u})}if(r.length&&(r.sort(S_),r.length===1||S_(r[0],r[1])<0))return uw(r[0].err,e,r[0].type,i);try{return`Invalid union value: ${JSON.stringify(e)}`}catch{return"Invalid union value"}}function S_(e,t){const i=e.err.issues[0].path,r=t.err.issues[0].path;if(i.length!==r.length)return r.length-i.length;for(let o=0;o<i.length;o++){if(r[o]>i[o])return-1;if(r[o]<i[o])return 1}return 0}function Ar(e,t,i){const r=cw(e,t,i);if(!r.ok)throw new TypeError(r.error);return r.value}function IH(e,t,i){return cw(e,t,i).ok}function Yh(e,t,i){Ar(e,t,i)}function cw(e,t,i){const r=t.try(e,i?{mode:i}:void 0);return r.ok?r:{ok:!1,error:uw(r,e,t,i)}}function HH(e,t,i){let r=1;i==="passthrough"?r=0:i==="strip"&&(r=2);const o=t.func(e,r);if(o===void 0)return{ok:!0,value:e};if(o.ok)return o;const u=new ig(o);return{ok:!1,error:uw(u,e,t,i)}}function UH(e){return e}function Ht(e){return sw(e)}function $r(e){return Ek(e)}function Jh(e){return Ck(e)}var BH=Object.getPrototypeOf(Object.getPrototypeOf(xk().optional())).constructor;function PH(e){return e instanceof BH}function Jk(e){const t={};for(const[i,r]of Object.entries(e.shape))r.name==="object"?t[i]=Jk(r).optional():t[i]=r.optional();return sw(t)}var $H=22,VH=/^[0-9a-v-]+$/,FH="0".repeat($H),Nn=FH,Bi=GH();function b_(e,t){return e.toString(32).slice(-t).padStart(t,"0")}function GH(){let e="",t=0;return()=>{e||(e=b_(NS(),12));const i=b_(t++,10);return e+i}}function qH(e){return typeof e=="string"&&VH.test(e)}function nc(e){Yh(e,so)}var so=T.string().assert(qH,"Invalid hash");function Xk(e,t,i){return new KH(e,t,i).compute()}var sd,rd,Ol,ar,Ea,fs,kl,Nl,vn,Om,zS,jS,Zk,J2,KH=(J2=class{constructor(e,t,i){x(this,vn);x(this,sd);x(this,rd);x(this,Ol);x(this,ar);x(this,Ea);x(this,fs);x(this,kl);x(this,Nl);const r=[],o=[];for(const u of e)u.old!==u.new&&(u.old&&o.push(u.old),u.new&&r.push(u.new));D(this,sd,r),D(this,rd,o),D(this,Ol,t),D(this,ar,i),D(this,fs,new Map),D(this,kl,new Map),D(this,Nl,i.areRefsCounted!==void 0),D(this,Ea,d(this,Nl)?new Set:null)}async compute(){for(const e of d(this,sd))await O(this,vn,Om).call(this,e,1);if(await Promise.all(Array.from(d(this,Ol).values(),e=>O(this,vn,jS).call(this,e))),d(this,Nl)){q(d(this,ar).areRefsCounted),q(d(this,Ea));let e;do{e=!1;for(const t of d(this,Ol).values())if(!d(this,ar).areRefsCounted(t)&&!d(this,Ea).has(t)&&d(this,fs).get(t)!==0){await O(this,vn,zS).call(this,t,1),e=!0;break}}while(e)}for(const e of d(this,rd))await O(this,vn,Om).call(this,e,-1);return d(this,fs)}},sd=new WeakMap,rd=new WeakMap,Ol=new WeakMap,ar=new WeakMap,Ea=new WeakMap,fs=new WeakMap,kl=new WeakMap,Nl=new WeakMap,vn=new WeakSet,Om=async function(e,t){await O(this,vn,jS).call(this,e),O(this,vn,Zk).call(this,e,t)&&await O(this,vn,zS).call(this,e,t)},zS=async function(e,t){var r;if(e===Nn)return;const i=await d(this,ar).getRefs(e);if(i!==void 0){(r=d(this,Ea))==null||r.add(e);const o=i.map(u=>O(this,vn,Om).call(this,u,t));await Promise.all(o)}},jS=function(e){let t=d(this,kl).get(e);return t===void 0&&(t=(async()=>{const i=await d(this,ar).getRefCount(e)||0;return d(this,fs).set(e,i),i})(),d(this,kl).set(e,t)),t},Zk=function(e,t){const i=d(this,fs).get(e);return ni(i),d(this,fs).set(e,i+t),i===0&&t===1||i===1&&t===-1},J2),Wk=class extends Error{constructor(t){super(`Chunk not found ${t}`);C(this,"name","ChunkNotFoundError");C(this,"hash");this.hash=t}};async function eN(e,t){const i=await e.getChunk(t);if(i)return i;throw new Wk(t)}async function fw(e,t){const i=await t.getHead(e);return q(i,`Missing head ${e}`),i}var ad,od,Al,ld,zl,X2,QH=(X2=class{constructor(e,t,i,r,o=Ja){x(this,ad,new ck);x(this,od,new Map);x(this,Al);x(this,ld);x(this,zl);C(this,"_memOnlyChunks",new Map);C(this,"_sourceChunksCache");C(this,"_refCounts",new Map);C(this,"_refs",new Map);this._sourceChunksCache=new JH(t,o,this._refCounts,this._refs),D(this,Al,e),D(this,ld,i),D(this,zl,r)}async read(){const e=await d(this,ad).read();return new tN(d(this,od),this._memOnlyChunks,this._sourceChunksCache,d(this,Al),e,d(this,zl))}async write(){const e=await d(this,ad).write();return new YH(d(this,od),this._memOnlyChunks,this._sourceChunksCache,d(this,Al),this._refCounts,this._refs,e,d(this,ld),d(this,zl))}close(){return rn}isCached(e){return this._sourceChunksCache.getWithoutUpdatingLRU(e)!==void 0}withSuspendedSourceCacheEvictsAndDeletes(e){return this._sourceChunksCache.withSuspendedEvictsAndDeletes(e)}},ad=new WeakMap,od=new WeakMap,Al=new WeakMap,ld=new WeakMap,zl=new WeakMap,X2),_a,ud,jl,Z2,tN=(Z2=class{constructor(e,t,i,r,o,u){C(this,"_heads");C(this,"_memOnlyChunks");C(this,"_sourceChunksCache");C(this,"_sourceStore");x(this,_a);x(this,ud);x(this,jl,!1);C(this,"assertValidHash");this._heads=e,this._memOnlyChunks=t,this._sourceChunksCache=i,this._sourceStore=r,D(this,ud,o),this.assertValidHash=u}isMemOnlyChunkHash(e){return this._memOnlyChunks.has(e)}async hasChunk(e){return await this.getChunk(e)!==void 0}async getChunk(e){const t=this._memOnlyChunks.get(e);if(t!==void 0)return t;let i=this._sourceChunksCache.get(e);return i===void 0&&(i=await(await this._getSourceRead()).getChunk(e),i!==void 0&&this._sourceChunksCache.put(i)),i}mustGetChunk(e){return eN(this,e)}getHead(e){return Promise.resolve(this._heads.get(e))}release(){var e;d(this,jl)||(d(this,ud).call(this),(e=d(this,_a))==null||e.then(t=>t.release()).catch(t=>{}),D(this,jl,!0))}get closed(){return d(this,jl)}_getSourceRead(){return d(this,_a)||D(this,_a,this._sourceStore.read()),d(this,_a)}},_a=new WeakMap,ud=new WeakMap,jl=new WeakMap,Z2),Da,or,cd,fd,dd,LS,W2,YH=(W2=class extends tN{constructor(t,i,r,o,u,f,h,m,y){super(t,i,r,o,h,y);x(this,dd);x(this,Da);x(this,or);x(this,cd);C(this,"_pendingHeadChanges",new Map);C(this,"_pendingMemOnlyChunks",new Map);C(this,"_pendingCachedChunks",new Map);x(this,fd,new Set);C(this,"createChunk",(t,i)=>{const r=Yk(t,i,d(this,cd));return d(this,fd).add(r.hash),r});D(this,Da,u),D(this,or,f),D(this,cd,m)}putChunk(t,i){const{hash:r,meta:o}=t;if(this.assertValidHash(r),o.length>0)for(const u of o)this.assertValidHash(u);return d(this,fd).has(r)||this.isMemOnlyChunkHash(r)?this._pendingMemOnlyChunks.set(r,t):this._pendingCachedChunks.set(r,{chunk:t,size:i??-1}),rn}async setHead(t,i){await O(this,dd,LS).call(this,t,i)}async removeHead(t){await O(this,dd,LS).call(this,t,void 0)}isMemOnlyChunkHash(t){return this._pendingMemOnlyChunks.has(t)||super.isMemOnlyChunkHash(t)}async getChunk(t){const i=this._pendingMemOnlyChunks.get(t);if(i!==void 0)return i;const r=this._memOnlyChunks.get(t);if(r!==void 0)return r;const o=this._pendingCachedChunks.get(t);if(o!==void 0)return o.chunk;let u=this._sourceChunksCache.get(t);return u===void 0&&(u=await(await this._getSourceRead()).getChunk(t),u!==void 0&&this._pendingCachedChunks.set(u.hash,{chunk:u,size:-1})),u}getHead(t){const i=this._pendingHeadChanges.get(t);return i?Promise.resolve(i.new):super.getHead(t)}async commit(){const t=new Set(kS(this._pendingMemOnlyChunks.keys(),this._pendingCachedChunks.keys())),i=await Xk(this._pendingHeadChanges.values(),t,this);for(const[r,o]of i)if(this.isMemOnlyChunkHash(r)){if(o===0)d(this,Da).delete(r),this._memOnlyChunks.delete(r),d(this,or).delete(r);else{d(this,Da).set(r,o);const u=this._pendingMemOnlyChunks.get(r);u&&(d(this,or).set(r,u.meta),this._memOnlyChunks.set(r,u))}i.delete(r)}this._sourceChunksCache.updateForCommit(this._pendingCachedChunks,i);for(const[r,o]of this._pendingHeadChanges)o.new?this._heads.set(r,o.new):this._heads.delete(r);this._pendingMemOnlyChunks.clear(),this._pendingCachedChunks.clear(),this._pendingHeadChanges.clear(),this.release()}getRefCount(t){return d(this,Da).get(t)}getRefs(t){const i=this._pendingMemOnlyChunks.get(t);if(i)return i.meta;const r=this._memOnlyChunks.get(t);if(r)return r.meta;const o=this._pendingCachedChunks.get(t);return o!==void 0?o.chunk.meta:d(this,or).get(t)}areRefsCounted(t){return d(this,or).has(t)}chunksPersisted(t){const i=[];for(const r of t){const o=this._memOnlyChunks.get(r);o&&(this._memOnlyChunks.delete(r),i.push(o))}this._sourceChunksCache.persisted(i)}},Da=new WeakMap,or=new WeakMap,cd=new WeakMap,fd=new WeakMap,dd=new WeakSet,LS=async function(t,i){const r=await this.getHead(t),o=this._pendingHeadChanges.get(t);o===void 0?this._pendingHeadChanges.set(t,{new:i,old:r}):o.new=i},W2),Ll,hd,fi,lr,Ta,Ra,pd,qt,bf,km,nN,IS,eD,JH=(eD=class{constructor(e,t,i,r){x(this,qt);x(this,Ll);x(this,hd);x(this,fi);x(this,lr);x(this,Ta,0);x(this,Ra,!1);x(this,pd,[]);C(this,"cacheEntries",new Map);D(this,Ll,e),D(this,hd,t),D(this,fi,i),D(this,lr,r)}get(e){const t=this.cacheEntries.get(e);return t&&(this.cacheEntries.delete(e),this.cacheEntries.set(e,t)),t==null?void 0:t.chunk}getWithoutUpdatingLRU(e){var t;return(t=this.cacheEntries.get(e))==null?void 0:t.chunk}put(e){const{hash:t}=e,i=this.cacheEntries.get(t);if(i){this.cacheEntries.delete(t),this.cacheEntries.set(t,i);return}const r=d(this,fi).get(t);if(!(r===void 0||r<1)&&O(this,qt,km).call(this,e)){if(!d(this,lr).has(t)){for(const o of e.meta)d(this,fi).set(o,(d(this,fi).get(o)||0)+1);d(this,lr).set(t,e.meta)}O(this,qt,bf).call(this)}}updateForCommit(e,t){for(const[i,r]of t)if(r===0)d(this,Ra)?(d(this,fi).set(i,0),d(this,pd).push(i)):O(this,qt,IS).call(this,i);else{d(this,fi).set(i,r);const o=e.get(i);if(o){const{chunk:u,size:f}=o,h=this.cacheEntries.get(i);h?(this.cacheEntries.delete(i),this.cacheEntries.set(i,h)):(O(this,qt,km).call(this,u,f!==-1?f:void 0),d(this,lr).set(i,u.meta))}}O(this,qt,bf).call(this)}persisted(e){for(const t of e)O(this,qt,km).call(this,t);O(this,qt,bf).call(this)}async withSuspendedEvictsAndDeletes(e){D(this,Ra,!0);try{return await e()}finally{D(this,Ra,!1);for(const t of d(this,pd))d(this,fi).get(t)===0&&O(this,qt,IS).call(this,t);O(this,qt,bf).call(this)}}},Ll=new WeakMap,hd=new WeakMap,fi=new WeakMap,lr=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,pd=new WeakMap,qt=new WeakSet,bf=function(){if(!d(this,Ra))for(const e of this.cacheEntries.values()){if(d(this,Ta)<=d(this,Ll))break;O(this,qt,nN).call(this,e)}},km=function(e,t){const i=t??d(this,hd).call(this,e);return i>d(this,Ll)?!1:(D(this,Ta,d(this,Ta)+i),this.cacheEntries.set(e.hash,{chunk:e,size:i}),!0)},nN=function(e){const{hash:t}=e.chunk;D(this,Ta,d(this,Ta)-e.size),this.cacheEntries.delete(t)},IS=function(e){d(this,fi).delete(e),d(this,lr).delete(e);const t=this.cacheEntries.get(e);t&&(D(this,Ta,d(this,Ta)-t.size),this.cacheEntries.delete(e))},eD);function my(e){return`c/${e}/d`}function Nm(e){return`c/${e}/m`}function Q0(e){return`c/${e}/r`}function iN(e){return`h/${e}`}var Ma,md,Il,tD,sN=(tD=class{constructor(e,t,i){x(this,Ma);x(this,md);x(this,Il);D(this,Ma,e),D(this,md,t),D(this,Il,i)}async read(){return new rN(await d(this,Ma).read(),d(this,Il))}async write(){return new XH(await d(this,Ma).write(),d(this,md),d(this,Il))}close(){return d(this,Ma).close()}},Ma=new WeakMap,md=new WeakMap,Il=new WeakMap,tD),rN=class{constructor(e,t){C(this,"_tx");C(this,"assertValidHash");this._tx=e,this.assertValidHash=t}hasChunk(e){return this._tx.has(my(e))}async getChunk(e){const t=await this._tx.get(my(e));if(t===void 0)return;const i=await this._tx.get(Nm(e));let r;return i!==void 0?(Qk(i),r=i):r=[],new Kk(e,t,r)}mustGetChunk(e){return eN(this,e)}async getHead(e){const t=await this._tx.get(iN(e));if(t!==void 0)return nc(t),t}release(){this._tx.release()}get closed(){return this._tx.closed}},yd,Hl,Ul,ks,HS,aN,oN,nD,XH=(nD=class extends rN{constructor(t,i,r){super(t,r);x(this,ks);x(this,yd);x(this,Hl,new Set);x(this,Ul,new Map);C(this,"createChunk",(t,i)=>Yk(t,i,d(this,yd)));D(this,yd,i)}get kvWrite(){return this._tx}async putChunk(t){const{hash:i,data:r,meta:o}=t;this.assertValidHash(i);const u=my(i),f=this._tx.put(u,r);let h;if(o.length>0){for(const m of o)this.assertValidHash(m);h=this._tx.put(Nm(i),o)}d(this,Hl).add(i),await f,await h}setHead(t,i){return O(this,ks,HS).call(this,t,i)}removeHead(t){return O(this,ks,HS).call(this,t,void 0)}async commit(){const t=await Xk(d(this,Ul).values(),d(this,Hl),this);await O(this,ks,aN).call(this,t),await this._tx.commit()}async getRefCount(t){const i=await this._tx.get(Q0(t));if(i!==void 0){if(ni(i),i<0||i>65535||i!==(i|0))throw new Error(`Invalid ref count ${i}. We expect the value to be a Uint16`);return i}}async getRefs(t){const i=await this._tx.get(Nm(t));return i===void 0?[]:(Qk(i),i)}release(){this._tx.release()}},yd=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,ks=new WeakSet,HS=async function(t,i){const r=await this.getHead(t),o=iN(t);let u;i===void 0?u=this._tx.del(o):u=this._tx.put(o,i);const f=d(this,Ul).get(t);f===void 0?d(this,Ul).set(t,{new:i,old:r}):f.new=i,await u},aN=async function(t){const i=[];for(const[r,o]of t)if(o===0)i.push(O(this,ks,oN).call(this,r));else{const u=Q0(r);i.push(this._tx.put(u,o))}await Promise.all(i)},oN=async function(t){await Promise.all([this._tx.del(my(t)),this._tx.del(Nm(t)),this._tx.del(Q0(t))]),d(this,Hl).delete(t)},nD),ac=4,oc=5,an="main";function Xh(e){return ag(e.meta)}function ZH(e){return Xh(e)}function dw(e){return n9(e.meta)}var lN=class{constructor(e){C(this,"chunk");this.chunk=e}get meta(){return this.chunk.data.meta}get valueHash(){return this.chunk.data.valueHash}getMutationID(e,t){return hw(e,t,this.meta)}async getNextMutationID(e,t){return await this.getMutationID(e,t)+1}get indexes(){return this.chunk.data.indexes}};async function hw(e,t,i){switch(i.type){case oc:return i.lastMutationIDs[e]??0;case ac:{if(i.clientID===e)return i.mutationID;const{basisHash:r}=i,o=await It(r,t);return hw(e,t,o.meta)}default:on()}}async function uN(e,t){return(await hN(e,t)).filter(r=>ZH(r))}async function cN(e,t){return(await hN(e,t)).filter(r=>Xh(r))}async function fN(e,t,i){const r=[],o=new Map(Object.entries(t));for(;!dw(e)&&o.size>0;){if(Xh(e)){const{meta:f}=e,h=o.get(f.clientID);h!==void 0&&(f.mutationID<=h?o.delete(f.clientID):r.push(e))}const{basisHash:u}=e.meta;if(u===null)throw new Error(`Commit ${e.chunk.hash} has no basis`);e=await It(u,i)}return r}async function WH(e,t){const i=await t.getHead(e);return q(i,`Missing head ${e}`),Ms(i,t)}async function dN(e,t){return(await Ms(e,t)).chunk.hash}async function Ms(e,t){const i=await It(e,t);return kf(i,t)}async function kf(e,t){for(;!dw(e);){const{meta:i}=e;if(ag(i))e=await It(i.baseSnapshotHash,t);else{const{basisHash:r}=i;if(r===null)throw new Error(`Commit ${e.chunk.hash} has no basis`);e=await It(r,t)}}return e}function w_(e,t){const i=e.meta;return[i.lastMutationIDs[t]??0,i.cookieJSON]}function US(e,t){return aw(e.meta.cookieJSON,t.meta.cookieJSON)}async function hN(e,t){let i=await It(e,t);const r=[];for(;!dw(i);){const{meta:o}=i,{basisHash:u}=o;if(u===null)throw new Error(`Commit ${i.chunk.hash} has no basis`);r.push(i),i=await It(u,t)}return r.push(i),r}async function It(e,t){const i=await t.mustGetChunk(e);return o9(i)}async function pw(e,t){const i=await fw(e,t);return It(i,t)}function e9(e){if(ut(e.clientID),ni(e.mutationID),ut(e.mutatorName),!e.mutatorName)throw new Error("Missing mutator name");e.mutatorArgsJSON,e.originalHash!==null&&nc(e.originalHash),ni(e.timestamp)}function ag(e){return e.type===ac}function mw(e){e.basisHash!==null&&nc(e.basisHash),e.cookieJSON,t9(e.lastMutationIDs)}function t9(e){Lt(e);for(const t of Object.values(e))ni(t)}function Xa(e){mw(e.meta)}function n9(e){return e.type===oc}function i9(e,t){return e.jsonPointer===t.jsonPointer&&(e.allowEmpty??!1)===(t.allowEmpty??!1)&&e.keyPrefix===t.keyPrefix}function s9(e,t){return{name:e,keyPrefix:t.prefix??"",jsonPointer:t.jsonPointer,allowEmpty:t.allowEmpty??!1}}function r9(e,t,i,r,o,u,f,h,m,y,g){return mN(e,gN({type:ac,basisHash:t,baseSnapshotHash:i,mutationID:r,mutatorName:o,mutatorArgsJSON:u,originalHash:f,timestamp:y,clientID:g},h,m))}function a9(e,t,i,r,o,u){return mN(e,pN(t,i,r,o,u))}function pN(e,t,i,r,o){return gN({type:oc,basisHash:e,lastMutationIDs:t,cookieJSON:i},r,o)}function o9(e){return l9(e),new lN(e)}function mN(e,t){return new lN(e(t,yN(t)))}function yN(e){const t=new Set;t.add(e.valueHash);const{meta:i}=e;switch(i.type){case ac:i.basisHash&&t.add(i.basisHash);break;case oc:break;default:on()}for(const r of e.indexes)t.add(r.valueHash);return rg(t)}function gN(e,t,i){return{meta:e,valueHash:t,indexes:i}}function l9(e){const{data:t}=e,i=new Set;for(const r of t.indexes){const{name:o}=r.definition;if(i.has(o))throw new Error(`Duplicate index ${o}`);i.add(o)}}function vN(e,t){let i=0;for(;i<e;){const r=i+(e-i>>1),o=t(r);if(o===0)return r;o>0?i=r+1:e=r}return i}var SN=0,bN=1;function wN(e,t,i){return[e,i>=Uf?t:t.map(r=>r.slice(0,2))]}async function yy(e,t,i,r){const o=await i.getNode(t);if(r!==i.rootHash)return yy(e,i.rootHash,i,i.rootHash);if(vy(o))return o;const{entries:u}=o;let f=Ur(e,u);f===u.length&&f--;const h=u[f];return yy(e,h[1],i,r)}function Ur(e,t){return vN(t.length,i=>ti(e,t[i][0]))}function gy(e,t,i){return e!==t.length&&t[e][0]===i}function x_(e,t,i){if(t>=Uf)return e;Hr(e),q(e.length>=2);const[r,o]=e;ni(r),Hr(o);const u=r>0?ut:KI;if(t>=Uf){for(const h of o)u9(h,u);return e}const f=o.map(h=>c9(h,u,i));return[r,f]}function u9(e,t){Hr(e),q(e.length>=3),ut(e[0]),t(e[1]),ni(e[2])}function c9(e,t,i){Hr(e),q(e.length>=2),ut(e[0]),t(e[1]);const r=i(e[0],e[1]);return[e[0],e[1],r]}var Oa,iD,xN=(iD=class{constructor(e,t,i){C(this,"entries");C(this,"hash");C(this,"isMutable");x(this,Oa,-1);this.entries=e,this.hash=t,this.isMutable=i}maxKey(){return this.entries[this.entries.length-1][0]}getChildNodeSize(e){if(d(this,Oa)!==-1)return d(this,Oa);let t=e.chunkHeaderSize;for(const i of this.entries)t+=i[2];return D(this,Oa,t)}_updateNode(e){D(this,Oa,-1),e.updateNode(this)}},Oa=new WeakMap,iD);function C_(e,t){return wN(e.level,e.entries,t)}var gd,BS,sD,og=(sD=class extends xN{constructor(){super(...arguments);x(this,gd);C(this,"level",0)}set(t,i,r,o){let u;const f=Ur(t,this.entries);return gy(f,this.entries,t)?u=1:u=0,Promise.resolve(O(this,gd,BS).call(this,o,f,u,[t,i,r]))}del(t,i){const r=Ur(t,this.entries);return gy(r,this.entries,t)?Promise.resolve(O(this,gd,BS).call(this,i,r,1)):Promise.resolve(this)}async*keys(t){for(const i of this.entries)yield i[0]}async*entriesIter(t){for(const i of this.entries)yield i}},gd=new WeakSet,BS=function(t,i,r,...o){if(this.isMutable)return this.entries.splice(i,r,...o),this._updateNode(t),this;const u=Am(this.entries,i,r,...o);return t.newDataNodeImpl(u)},sD);function Am(e,t,i,...r){const o=e.slice(0,t);for(let u=0;u<r.length;u++)o.push(r[u]);for(let u=t+i;u<e.length;u++)o.push(e[u]);return o}var Pr,PS,$S,to,CN=(to=class extends xN{constructor(i,r,o,u){super(i,r,u);x(this,Pr);C(this,"level");this.level=o}async set(i,r,o,u){let f=Ur(i,this.entries);f===this.entries.length&&f--;const h=this.entries[f][1],y=await(await u.getNode(h)).set(i,r,o,u),g=y.getChildNodeSize(u);if(g>u.maxSize||g<u.minSize)return O(this,Pr,PS).call(this,u,f,y);const v=zm(y,u.getEntrySize);return O(this,Pr,$S).call(this,u,f,v)}async del(i,r){const o=Ur(i,this.entries);if(o===this.entries.length)return this;const u=this.entries[o][1],f=await r.getNode(u),h=f.hash,m=await f.del(i,r);if(m.hash===h)return this;if(m.entries.length===0){const y=Am(this.entries,o,1);return r.newInternalNodeImpl(y,this.level)}if(o===0&&this.entries.length===1)return m;if(m.getChildNodeSize(r)>r.minSize){const y=zm(m,r.getEntrySize);return O(this,Pr,$S).call(this,r,o,y)}return O(this,Pr,PS).call(this,r,o,m)}async*keys(i){for(const r of this.entries)yield*(await i.getNode(r[1])).keys(i)}async*entriesIter(i){for(const r of this.entries)yield*(await i.getNode(r[1])).entriesIter(i)}getChildren(i,r,o){const u=[];for(let f=i;f<r&&f<this.entries.length;f++)u.push(o.getNode(this.entries[f][1]));return Promise.all(u)}async getCompositeChildren(i,r,o){const{level:u}=this;if(r===0)return new to([],Bi(),u-1,!0);const f=await this.getChildren(i,i+r,o);if(u>1){const m=[];for(const y of f)m.push(...y.entries);return new to(m,Bi(),u-1,!0)}q(u===1);const h=[];for(const m of f)h.push(...m.entries);return new og(h,Bi(),!0)}},Pr=new WeakSet,PS=async function(i,r,o){const u=this.level-1,f=this.entries;let h,m,y;if(r>0){const E=f[r-1][1],R=await i.getNode(E);h=kS(R.entries,o.entries),m=r-1,y=2}else if(r<f.length-1){const E=f[r+1][1],R=await i.getNode(E);h=kS(o.entries,R.entries),m=r,y=2}else h=o.entries,m=r,y=1;const g=_N(h,E=>E[2],i.minSize-i.chunkHeaderSize,i.maxSize-i.chunkHeaderSize),v=[];for(const E of g){const R=i.newNodeImpl(E,u),A=zm(R,i.getEntrySize);v.push(A)}if(this.isMutable)return this.entries.splice(m,y,...v),this._updateNode(i),this;const b=Am(f,m,y,...v);return i.newInternalNodeImpl(b,this.level)},$S=function(i,r,o){if(this.isMutable)return this.entries.splice(r,1,o),this._updateNode(i),this;const u=Am(this.entries,r,1,o);return i.newInternalNodeImpl(u,this.level)},to);function EN(e,t,i,r){return i===0?new og(e,t,r):new CN(e,t,i,r)}function vy(e){return e.level===0}function _N(e,t,i,r){const o=[],u=[];let f=0,h=[];for(const m of e){const y=t(m);y>=r?(h.length>0&&(o.push(h),u.push(f)),o.push([m]),u.push(y),f=0,h=[]):f+y>=i?(h.push(m),o.push(h),u.push(f+y),f=0,h=[]):(f+=y,h.push(m))}return f>0&&(u.length>0&&f+u[u.length-1]<=r?o[o.length-1].push(...h):o.push(h)),o}var DN=wN(0,[],Dn),f9=new og([],Nn,!1);function zm(e,t){const i=e.maxKey(),r=e.hash,o=t(i,r);return[i,r,o]}var E_=-1,d9=0,jm=1,Lm=2,VS=3,vm=0,__=1;function*h9(e,t){let i=0,r=0,o;function u(h,m){h[VS]===E_&&(h[VS]=m)}function f(){return[i,0,0,E_]}for(;i<e.length&&r<t.length;)e[i][vm]===t[r][vm]?(io(e[i][__],t[r][__])?o&&(u(o,0),yield o,o=void 0):(o||(o=f()),o[Lm]++,o[jm]++,u(o,r)),i++,r++):e[i][vm]<t[r][vm]?(o||(o=f()),o[jm]++,i++):(o||(o=f()),o[Lm]++,u(o,r),r++);r<t.length&&(o||(o=f()),o[Lm]+=t.length-r,u(o,r)),i<e.length&&(o||(o=f()),o[jm]+=e.length-i),o&&(u(o,0),yield o)}var p9=11,Os=class{constructor(e,t,i=Nn,r=qk,o=p9){C(this,"_cache",new Map);C(this,"_dagRead");C(this,"_formatVersion");C(this,"rootHash");C(this,"getEntrySize");C(this,"chunkHeaderSize");this._dagRead=e,this._formatVersion=t,this.rootHash=i,this.getEntrySize=r,this.chunkHeaderSize=o}async getNode(e){if(e===Nn)return f9;const t=this._cache.get(e);if(t)return t;const i=await this._dagRead.mustGetChunk(e),r=x_(i.data,this._formatVersion,this.getEntrySize),o=EN(r[bN],e,r[SN],!1);return this._cache.set(e,o),o}async get(e){const t=await yy(e,this.rootHash,this,this.rootHash),i=Ur(e,t.entries);if(gy(i,t.entries,e))return t.entries[i][1]}async has(e){const t=await yy(e,this.rootHash,this,this.rootHash),i=Ur(e,t.entries);return gy(i,t.entries,e)}async isEmpty(){const{rootHash:e}=this,t=await this.getNode(this.rootHash);return this.rootHash!==e?this.isEmpty():t.entries.length===0}scan(e){return FS(this.rootHash,()=>this.rootHash,this.rootHash,e,async t=>{const i=await this.getNode(t);if(i)return[i.level,i.isMutable?i.entries.slice():i.entries];const r=await this._dagRead.mustGetChunk(t);return x_(r.data,this._formatVersion,this.getEntrySize)})}async*keys(){yield*(await this.getNode(this.rootHash)).keys(this)}async*entries(){yield*(await this.getNode(this.rootHash)).entriesIter(this)}[Symbol.asyncIterator](){return this.entries()}async*diff(e){const[t,i]=await Promise.all([this.getNode(this.rootHash),e.getNode(e.rootHash)]);yield*Im(i,t,e,this)}};async function*Im(e,t,i,r){if(e.level>t.level){const u=await e.getCompositeChildren(0,e.entries.length,i);yield*Im(u,t,i,r);return}if(t.level>e.level){const u=await t.getCompositeChildren(0,t.entries.length,r);yield*Im(e,u,i,r);return}if(vy(e)&&vy(t)){yield*m9(e.entries,t.entries);return}const o=h9(e.entries,t.entries);for(const u of o){const[f,h]=await Promise.all([e.getCompositeChildren(u[d9],u[jm],i),t.getCompositeChildren(u[VS],u[Lm],r)]);yield*Im(f,h,i,r)}}function*m9(e,t){const i=e.length,r=t.length;let o=0,u=0;for(;o<i&&u<r;){const f=e[o][0],h=t[u][0];f===h?(io(e[o][1],t[u][1])||(yield{op:"change",key:f,oldValue:e[o][1],newValue:t[u][1]}),o++,u++):f<h?(yield{op:"del",key:f,oldValue:e[o][1]},o++):(yield{op:"add",key:h,newValue:t[u][1]},u++)}for(;o<i;o++)yield{op:"del",key:e[o][0],oldValue:e[o][1]};for(;u<r;u++)yield{op:"add",key:t[u][0],newValue:t[u][1]}}async function*FS(e,t,i,r,o){if(i===Nn)return;const u=await o(i),f=u[bN];let h=0;if(r&&(h=Ur(r,f)),u[SN]>0)for(;h<f.length;h++)yield*FS(e,t,f[h][1],r,o),r="";else for(;h<f.length;h++){const m=t();if(e!==m){yield*FS(m,t,m,f[h][0],o);return}yield f[h]}}async function Sy(e,t){const i=[],r=t==="add"?o=>({op:"add",key:o[0],newValue:o[1]}):o=>({op:"del",key:o[0],oldValue:o[1]});for await(const o of e.entries())i.push(r(o));return i}var yw=0,TN=1,RN=class{constructor(e,t){C(this,"meta");C(this,"map");this.meta=e,this.map=t}},y9=class extends RN{flush(){return this.map.flush()}clear(){return this.map.clear()}};async function GS(e,t,i,r,o,u,f){var h;try{for(const m of g9(r,o,u,f))switch(i){case yw:await t.put(m,o);break;case TN:await t.del(m);break}}catch(m){(h=e.info)==null||h.call(e,"Not indexing value",o,":",m)}}function g9(e,t,i,r){const o=v9(t,i);if(o===void 0){if(r)return[];throw new Error(`No value at path: ${i}`)}const u=Array.isArray(o)?o:[o],f=[];for(const h of u)if(typeof h=="string")f.push(MN([h,e]));else throw new Error("Unsupported target type");return f}var qS="\0",KS="\0";function MN(e){const t=e[0],i=e[1];if(t.includes("\0"))throw new Error("Secondary key cannot contain null byte");return qS+t+KS+i}function D_(e,t){const i=MN([e,t||""]);return t===void 0?i.slice(0,i.length-1):i}function lg(e){if(e[0]!==qS)throw new Error("Invalid version");const t=qS.length,i=KS.length,r=e.indexOf(KS,t);if(r===-1)throw new Error("Invalid formatting");const o=e.slice(t,r),u=e.slice(r+i);return[o,u]}function v9(e,t){function i(u){if(!(u.startsWith("+")||u.startsWith("0")&&u.length!==1))return parseInt(u,10)}if(t==="")return e;if(!t.startsWith("/"))throw new Error(`Invalid JSON pointer: ${t}`);const r=t.split("/").slice(1).map(u=>u.replace(/~1/g,"/").replace(/~0/g,"~"));let o=e;for(const u of r){let f;if(Array.isArray(o)){const h=i(u);if(h===void 0)return;f=o[h]}else{if(o===null)return;typeof o=="object"&&(o=o,f=o[u])}if(f===void 0)return;o=f}return o}var Bl,rD,ON=(rD=class{constructor(e,t,i){x(this,Bl);C(this,"map");C(this,"indexes");D(this,Bl,e),this.map=t,this.indexes=i}has(e){return this.map.has(e)}get(e){return this.map.get(e)}isEmpty(){return this.map.isEmpty()}getMapForIndex(e){const t=this.indexes.get(e);if(t===void 0)throw new Error(`Unknown index name: ${e}`);return t.map}get closed(){return d(this,Bl).closed}close(){d(this,Bl).release()}},Bl=new WeakMap,rD);function S9(e,t){return b9(an,e,t)}async function b9(e,t,i){const r=await pw(e,t);return w9(r,t,i)}function w9(e,t,i){const r=by(e,t,i),o=new Os(t,i,e.valueHash);return new ON(t,o,r)}function by(e,t,i){const r=new Map;for(const o of e.indexes)r.set(o.definition.name,new RN(o,new Os(t,i,o.valueHash)));return r}async function kN(e){const t=[];for await(const i of e)t.push(i);return t}function NN(e){return e.indexName!==void 0}function QS(e){return typeof e=="string"?[e]:e}function x9(e){if(!e)return{};let t,i,r,o;return e.start&&({key:t,exclusive:i}=e.start,e.indexName?typeof t=="string"?o=t:(o=t[0],r=t[1]):r=t),{prefix:e.prefix,startSecondaryKey:o,startKey:r,startExclusive:i,limit:e.limit,indexName:e.indexName}}var vd,Sd,bd,wd,Pl,Hm,aD,C9=(aD=class{constructor(e,t,i,r){x(this,Pl);x(this,vd);x(this,Sd);x(this,bd);x(this,wd);D(this,vd,e),D(this,Sd,t),D(this,bd,i),D(this,wd,r)}[Symbol.asyncIterator](){return this.values()}values(){return new Y0(O(this,Pl,Hm).call(this,e=>e[1]))}keys(){return new Y0(O(this,Pl,Hm).call(this,e=>e[0]))}entries(){return new Y0(O(this,Pl,Hm).call(this,e=>[e[0],e[1]]))}toArray(){return this.values().toArray()}},vd=new WeakMap,Sd=new WeakMap,bd=new WeakMap,wd=new WeakMap,Pl=new WeakSet,Hm=function(e){return E9(e,d(this,vd),d(this,Sd),d(this,bd),d(this,wd))},aD),ka,oD,Y0=(oD=class{constructor(e){x(this,ka);D(this,ka,e)}next(){return d(this,ka).next()}[Symbol.asyncIterator](){return d(this,ka)[Symbol.asyncIterator]()}toArray(){return kN(d(this,ka))}},ka=new WeakMap,oD);async function*E9(e,t,i,r,o){var y;If(r);let{limit:u=1/0}=i;const{prefix:f=""}=i;let h=(y=i.start)==null?void 0:y.exclusive;const m=NN(i);for await(const g of t){const v=g[0];if(!(m?v[0]:v).startsWith(f))return;if(h){if(h=!0,m){if(_9(v,i.start.key))continue}else if(D9(v,i.start.key))continue}if(yield e(g),--u===0){m||o(v);return}}}function _9(e,t){const[i,r]=QS(t),[o,u]=QS(e);return o!==i?!1:r===void 0?!0:u===r}function D9(e,t){return e===t}function T9(e){const{prefix:t,start:i}=e;let r="";if(t!==void 0&&(r=D_(t,void 0)),!i)return r;const{key:o}=i,[u,f]=QS(o),h=D_(u,f);return rw(h,r)?h:r}var R9=0,AN=class{constructor(e,t,i,r="openReadTransaction"){C(this,"clientID");C(this,"dbtx");C(this,"_lc");C(this,"location");C(this,"environment");this.clientID=e,this.dbtx=t,this._lc=i.withContext(r).withContext("txid",R9++),this.environment="client",this.location="client"}get(e){return Ik(this.dbtx)||this.dbtx.get(e)}async has(e){return If(this.dbtx),this.dbtx.has(e)}async isEmpty(){return If(this.dbtx),this.dbtx.isEmpty()}scan(e){return zN(e,this.dbtx,M9)}};function M9(e){}function zN(e,t,i){const r=k9(t,e);return A9(r,e??{},t,i)}var $l,Vl,di,lD,O9=(lD=class{constructor(e){x(this,$l,new Set);x(this,Vl,[]);x(this,di);D(this,di,e)}get environment(){return d(this,di).location}get location(){return d(this,di).location}get clientID(){return d(this,di).clientID}isEmpty(){return d(this,Vl).push({options:{}}),d(this,di).isEmpty()}get(e){return d(this,$l).add(e),d(this,di).get(e)}has(e){return d(this,$l).add(e),d(this,di).has(e)}scan(e){const t={options:x9(e),inclusiveLimitKey:void 0};return d(this,Vl).push(t),zN(e,d(this,di).dbtx,i=>{t.inclusiveLimitKey=i})}get keys(){return d(this,$l)}get scans(){return d(this,Vl)}},$l=new WeakMap,Vl=new WeakMap,di=new WeakMap,lD),jN=class extends AN{constructor(t,i,r,o,u,f="openWriteTransaction"){super(t,o,u,f);C(this,"reason");C(this,"mutationID");this.mutationID=i,this.reason=r}put(t,i){return this.set(t,i)}async set(t,i){If(this.dbtx),await this.dbtx.put(this._lc,t,i)}del(t){return Ik(this.dbtx)??this.dbtx.del(this._lc,t)}};function k9(e,t){return t&&NN(t)?z9(e,t):e.map.scan(N9(t))}function N9(e){if(!e)return"";const{prefix:t="",start:i}=e;return i&&rw(i.key,t)?i.key:t}function A9(e,t,i,r){return new C9(e,t,i,r)}async function*z9(e,t){const i=e.getMapForIndex(t.indexName);for await(const r of i.scan(T9(t)))yield[lg(r[0]),r[1]]}function Bf(e,t){return kN(t.diff(e))}var Na,ur,Aa,wf,uD,ug=(uD=class extends Os{constructor(t,i,r=Nn,o=8*1024,u=16*1024,f=qk,h){super(t,i,r,f,h);x(this,Aa);x(this,Na,new Kh);x(this,ur,new Map);C(this,"minSize");C(this,"maxSize");this.minSize=o,this.maxSize=u}updateNode(t){q(t.isMutable),d(this,ur).delete(t.hash),t.hash=Bi(),O(this,Aa,wf).call(this,t)}newInternalNodeImpl(t,i){const r=new CN(t,Bi(),i,!0);return O(this,Aa,wf).call(this,r),r}newDataNodeImpl(t){const i=new og(t,Bi(),!0);return O(this,Aa,wf).call(this,i),i}newNodeImpl(t,i){const r=EN(t,Bi(),i,!0);return O(this,Aa,wf).call(this,r),r}put(t,i){return d(this,Na).withLock(async()=>{const r=await this.getNode(this.rootHash),o=this.getEntrySize(t,i),u=await r.set(t,i,o,this);if(u.getChildNodeSize(this)>this.maxSize){const f=this.chunkHeaderSize,h=_N(u.entries,v=>v[2],this.minSize-f,this.maxSize-f),{level:m}=u,y=h.map(v=>{const b=this.newNodeImpl(v,m);return zm(b,this.getEntrySize)}),g=this.newInternalNodeImpl(y,m+1);this.rootHash=g.hash;return}this.rootHash=u.hash})}del(t){return d(this,Na).withLock(async()=>{const r=await(await this.getNode(this.rootHash)).del(t,this),o=this.rootHash!==r.hash;return o&&(r.level>0&&r.entries.length===1?this.rootHash=r.entries[0][1]:this.rootHash=r.hash),o})}clear(){return d(this,Na).withLock(()=>{d(this,ur).clear(),this.rootHash=Nn})}flush(){return d(this,Na).withLock(async()=>{const t=this._dagRead;if(this.rootHash===Nn){const o=t.createChunk(DN,[]);return await t.putChunk(o),o.hash}const i=[],r=LN(this.rootHash,i,t.createChunk,d(this,ur),this._formatVersion);return await Promise.all(i.map(o=>t.putChunk(o))),d(this,ur).clear(),this.rootHash=r,r})}},Na=new WeakMap,ur=new WeakMap,Aa=new WeakSet,wf=function(t){q(t.isMutable),d(this,ur).set(t.hash,t),this._cache.set(t.hash,t)},uD);function LN(e,t,i,r,o){const u=r.get(e);if(u===void 0)return e;if(vy(u)){const y=i(C_(u,o),[]);return t.push(y),y.hash}const f=[],{entries:h}=u;for(let y=0;y<h.length;y++){const g=h[y],v=g[1],b=LN(v,t,i,r,o);b!==v&&(h[y]=[g[0],b,g[2]]),f.push(b)}const m=i(C_(u,o),rg(f));return t.push(m),m.hash}function T_(e){let t;return()=>(t===void 0&&(t=e()),t)}var gw=class extends Map{set(e,t){return t.length===0?this:super.set(e,t)}};async function j9(e,t,i,r,o){const u=new gw;if(!r.shouldComputeDiffs())return u;const f=new Os(i,o,e.valueHash),h=new Os(i,o,t.valueHash),m=await Bf(f,h);return u.set("",m),await IN(e,t,i,u,r,o),u}async function IN(e,t,i,r,o,u){const f=by(e,i,u),h=by(t,i,u);for(const[m,y]of f){if(!o.shouldComputeDiffsForIndex(m))continue;const g=h.get(m);if(g!==void 0){q(g!==y);const v=await Bf(y.map,g.map);h.delete(m),r.set(m,v)}else{const v=await Sy(y.map,"del");r.set(m,v)}}for(const[m,y]of h){if(!o.shouldComputeDiffsForIndex(m))continue;const g=await Sy(y.map,"add");r.set(m,g)}}var $t,cr,Fl,Gl,fr,Hy,UN,cD,HN=(cD=class extends ON{constructor(t,i,r,o,u,f,h){super(t,i,u);x(this,Hy);x(this,$t);x(this,cr);x(this,Fl);x(this,Gl);x(this,fr);D(this,$t,t),D(this,cr,r),D(this,Fl,o),D(this,Gl,f),D(this,fr,h),q(r===void 0?o.basisHash===Nn:o.basisHash===r.chunk.hash)}async put(t,i,r){const o=T_(()=>this.map.get(i));await R_(t,this.indexes,i,o,r),await this.map.put(i,r)}getMutationID(){return hw(d(this,Gl),d(this,$t),d(this,Fl))}async del(t,i){const r=T_(()=>this.map.get(i));return r!==void 0&&await R_(t,this.indexes,i,r,void 0),this.map.del(i)}async clear(){await this.map.clear();const t=[];for(const i of this.indexes.values())t.push(i.clear());await Promise.all(t)}async putCommit(){const t=await this.map.flush(),i=[];for(const u of this.indexes.values()){const f=await u.flush(),h={definition:u.meta.definition,valueHash:f};i.push(h)}let r;const o=d(this,Fl);switch(o.type){case ac:{q(d(this,fr)>=Hf);const{basisHash:u,mutationID:f,mutatorName:h,mutatorArgsJSON:m,originalHash:y,timestamp:g}=o;r=r9(d(this,$t).createChunk,u,await dN(u,d(this,$t)),f,h,m,y,t,i,g,d(this,Gl));break}case oc:{q(d(this,fr)>Hf);const{basisHash:u,lastMutationIDs:f,cookieJSON:h}=o;r=a9(d(this,$t).createChunk,u,f,h,t,i);break}}return await d(this,$t).putChunk(r.chunk),r}async commit(t){const r=(await this.putCommit()).chunk.hash;return await d(this,$t).setHead(t,r),await d(this,$t).commit(),r}async commitWithDiffs(t,i){const r=this.putCommit(),o=await O(this,Hy,UN).call(this,i),u=(await r).chunk.hash;return await d(this,$t).setHead(t,u),await d(this,$t).commit(),o}close(){d(this,$t).release()}},$t=new WeakMap,cr=new WeakMap,Fl=new WeakMap,Gl=new WeakMap,fr=new WeakMap,Hy=new WeakSet,UN=async function(t){const i=new gw;if(!t.shouldComputeDiffs())return i;let r=[];if(d(this,cr)){const u=new Os(d(this,$t),d(this,fr),d(this,cr).valueHash);r=await Bf(u,this.map)}i.set("",r);let o;d(this,cr)?o=by(d(this,cr),d(this,$t),d(this,fr)):o=new Map;for(const[u,f]of this.indexes){if(!t.shouldComputeDiffsForIndex(u))continue;const h=o.get(u);q(f!==h);const m=await(h?Bf(h.map,f.map):Sy(f.map,"add"));i.set(u,m)}for(const[u,f]of o)if(!this.indexes.has(u)&&t.shouldComputeDiffsForIndex(u)){const h=await Sy(f.map,"del");i.set(u,h)}return i},cD);async function BN(e,t,i,r,o,u,f,h){const m=await It(e,o),y=new ug(o,h,m.valueHash),g=await m.getNextMutationID(f,o),v=PN(m,o,h);return q(h>=Hf),new HN(o,y,m,{type:ac,basisHash:e,baseSnapshotHash:await dN(e,o),mutatorName:t,mutatorArgsJSON:i,mutationID:g,originalHash:r,timestamp:u,clientID:f},v,f,h)}async function L9(e,t,i,r,o,u){const f=await It(e,r),h=new ug(r,u,f.valueHash);return new HN(r,h,f,{basisHash:e,type:oc,lastMutationIDs:t,cookieJSON:i},PN(f,r,u),o,u)}async function R_(e,t,i,r,o){const u=[];for(const f of t.values()){const{keyPrefix:h}=f.meta.definition;if(!h||i.startsWith(h)){const m=await r();m!==void 0&&u.push(GS(e,f.map,TN,i,m,f.meta.definition.jsonPointer,f.meta.definition.allowEmpty??!1)),o!==void 0&&u.push(GS(e,f.map,yw,i,o,f.meta.definition.jsonPointer,f.meta.definition.allowEmpty??!1))}}await Promise.all(u)}function PN(e,t,i){const r=new Map;for(const o of e.indexes)r.set(o.definition.name,new y9(o,new ug(t,i,o.valueHash)));return r}async function I9(e,t,i,r,o,u,f){const h=new ug(t,f);for await(const m of i.scan(r)){const y=m[0];if(!y.startsWith(r))break;await GS(e,h,yw,y,m[1],o,u)}return h}async function $N(e,t,i,r,o,u,f){var z;const h=e.meta,m=h.mutatorName;ag(h)&&q(h.clientID===u,"mutationClientID must match clientID of LocalMeta");const y=r[m];y||(z=o.error)==null||z.call(o,`Cannot rebase unknown mutator ${m}`);const g=y||(async()=>{}),v=h.mutatorArgsJSON,E=await(await It(i,t)).getNextMutationID(u,t);if(E!==h.mutationID)throw new Error(`Inconsistent mutation ID: original: ${h.mutationID}, next: ${E} - mutationClientID: ${u} mutatorName: ${m}`);e9(h);const R=await BN(i,m,v,e.chunk.hash,t,h.timestamp,u,f),A=new jN(u,await R.getMutationID(),"rebase",R,o);return await g(A,v),R}async function VN(e,t,i,r,o,u,f){return(await $N(e,t,i,r,o,u,f)).putCommit()}async function H9(e,t,i,r,o,u,f,h){return(await $N(e,t,i,o,u,f,h)).commit(r)}function U9(e){async function t(i,r){const[o,u]=await Dk(e.pushURL,e.auth,r,i);if(!o)return{httpRequestInfo:u};const f={httpRequestInfo:u};let h;try{h=await o.json()}catch{return f}return(pl(h)||ml(h))&&(f.response=h),f}return FN.add(t),t}var FN=new WeakSet;function B9(e){return FN.has(e)}function GN(e="info",t=[kr],i){const r=t.length===1?t[0]:new fk(t);return new ng(e,i,r)}var P9=Ht({prefix:T.string().optional(),jsonPointer:T.string(),allowEmpty:T.boolean().optional()}),$9=Jh(P9);function V9(e,t){return e.jsonPointer===t.jsonPointer&&(e.allowEmpty??!1)===(t.allowEmpty??!1)&&(e.prefix??"")===(t.prefix??"")}function qN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const[i,r]of Object.entries(e)){const o=t[i];if(!o||!V9(r,o))return!1}return!0}var F9=Ht({headHash:so,mutatorNames:$r(T.string()),indexes:$9,mutationIDs:Jh(T.number()),lastServerAckdMutationIDs:T.record(T.number()),disabled:T.boolean()}),KN="client-groups";function G9(e){Yh(e,F9)}function q9(e){Lt(e);const t=new Map;for(const[i,r]of Object.entries(e))r!==void 0&&(G9(r),t.set(i,r));return t}function K9(e,t){const i={};for(const[r,o]of e.entries())t.assertValidHash(o.headHash),i[r]={...o,mutatorNames:[...o.mutatorNames.values()]};return i}async function Q9(e,t){const i=await t.getChunk(e);return q9(i==null?void 0:i.data)}async function lc(e){const t=await e.getHead(KN);return t?Q9(t,e):new Map}async function Y9(e,t){const i=await lc(t);for(const[r,o]of e){const u=i.get(r);QN(o,u)}return YN(e,t)}async function vw(e,t,i){const r=await lc(i),o=r.get(e);QN(t,o);const u=new Map(r);return u.set(e,t),YN(u,i)}function QN(e,t){const i=new Set(e.mutatorNames);q(i.size===e.mutatorNames.length,"A client group's mutatorNames must be a set."),t!==void 0&&(q(qN(t.indexes,e.indexes),"A client group's index definitions must never change."),q(JN(i,t.mutatorNames),"A client group's mutatorNames must never change."))}async function YN(e,t){const i=K9(e,t),r=new Set;for(const u of e.values())r.add(u.headHash);const o=t.createChunk(i,rg(r));return await t.putChunk(o),await t.setHead(KN,o.hash),e}function JN(e,t){if(t.length!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}async function cg(e,t){return(await lc(t)).get(e)}function XN(e){for(const[t,i]of Object.entries(e.mutationIDs)){const r=e.lastServerAckdMutationIDs[t];if(r===void 0&&i!==0||r<i)return!0}return!1}async function J9(e,t){const i=await cg(e,t);if(!i)return;const r={...i,disabled:!0};await vw(e,r,t)}function wy(e){return e instanceof Error?e:new Error(String(e))}function kn(e,t){return Sw(e.read(),t)}function Pf(e,t){return Sw(e.write(),t)}function yn(e,t){return Sw(e.write(),async i=>{const r=await t(i);return await i.commit(),r})}async function Sw(e,t){const i=await e;try{return await t(i)}finally{i.release()}}var bw=0,X9=1,ZN=2;async function Z9(e,t,i){for(const r of i)switch(r.op){case"put":{await t.put(e,r.key,r.value);break}case"update":{const o=await t.get(r.key),u=[],f=h=>{for(const[m,y]of Object.entries(h))(!r.constrain||r.constrain.length===0||r.constrain.indexOf(m)>-1)&&u.push([m,y])};o!==void 0&&(Lt(o),f(o)),r.merge&&f(r.merge),await t.put(e,r.key,Object.fromEntries(u));break}case"del":await t.del(e,r.key);break;case"clear":await t.clear();break}}var WN=class extends Error{constructor(t){super("Failed to pull");C(this,"name","PullError");C(this,"causedBy");this.causedBy=t}},xy="sync",W9=1;async function eU(e,t,i,r,o,u,f,h,m,y=!0){const g=await kn(f,async A=>{const z=await A.getHead(an);if(!z)throw new Error("Internal no main head found");const U=(await Ms(z,A)).meta;return mw(U),U.cookieJSON}),v={profileID:e,clientGroupID:i,cookie:g,pullVersion:W9,schemaVersion:r},{response:b,httpRequestInfo:E}=await tU(m,o,v,u);if(!b)return{httpRequestInfo:E,syncHead:Nn};if(!y||YI(b))return{httpRequestInfo:E,pullResponse:b,syncHead:Nn};const R=await e5(m,f,g,b,t,h);return{httpRequestInfo:E,pullResponse:b,syncHead:R.type===bw?R.syncHead:Nn}}async function tU(e,t,i,r){var f,h;(f=e.debug)==null||f.call(e,"Starting pull...");const o=Date.now();let u;try{u=await t(i,r),(h=e.debug)==null||h.call(e,`...Pull ${u.response?"complete":"failed"} in `,Date.now()-o,"ms")}catch(m){throw new WN(wy(m))}try{return iH(u),u}catch(m){throw new Tw("Invalid puller result",wy(m))}}function M_(e,t,i){return`Received ${e} ${t} is < than last snapshot ${e} ${i}; ignoring client view`}function e5(e,t,i,r,o,u){return Pf(t,async f=>{var R,A,z;const h=f,m=await h.getHead(an);if(m===void 0)throw new Error("Main head disappeared");const y=await Ms(m,h),g=y.meta;mw(g);const v=g.cookieJSON;if(!io(i,v))return(R=e.debug)==null||R.call(e,"handlePullResponse: cookie mismatch, response is not applicable"),{type:ZN};for(const[j,U]of Object.entries(r.lastMutationIDChanges)){const X=g.lastMutationIDs[j];if(X!==void 0&&U<X)throw new Error(M_(`${j} lastMutationID`,String(U),String(X)))}const b=r.cookie;if(aw(b,v)<0)throw new Error(M_("cookie",JSON.stringify(b),JSON.stringify(v)));if(io(b,v))return r.patch.length>0&&((A=e.error)==null||A.call(e,`handlePullResponse: cookie ${JSON.stringify(v)} did not change, but patch is not empty`)),Object.keys(r.lastMutationIDChanges).length>0&&((z=e.error)==null||z.call(e,`handlePullResponse: cookie ${JSON.stringify(v)} did not change, but lastMutationIDChanges is not empty`)),{type:X9};const E=await L9(y.chunk.hash,{...g.lastMutationIDs,...r.lastMutationIDChanges},b,f,o,u);return await Z9(e,E,r.patch),{type:bw,syncHead:await E.commit(xy)}})}function nU(e,t,i,r,o,u){return Pf(e,async f=>{var X;const h=f,m=await h.getHead(xy);if(m===void 0)throw new Error("Missing sync head");if(m!==i)throw(X=t.error)==null||X.call(t,"maybeEndPull, Wrong sync head. Expecting:",i,"got:",m),new Error("Wrong sync head");const y=await Ms(m,h),g=await h.getHead(an);if(g===void 0)throw new Error("Missing main head");const v=await Ms(g,h),{meta:b}=y,E=b.basisHash;if(y===null)throw new Error("Sync snapshot with no basis");if(E!==v.chunk.hash)throw new Error("Overlapping syncs");const R=await It(m,h),A=[],z=await uN(g,h);for(const G of z){let P=r;q(Xh(G)),P=G.meta.clientID,await G.getMutationID(P,h)>await R.getMutationID(P,h)&&A.push(G)}A.reverse();const j=new gw;if(A.length>0)return{syncHead:m,replayMutations:A,diffs:j};const U=await It(g,h);if(o.shouldComputeDiffs()){const G=new Os(h,u,U.valueHash),P=new Os(h,u,R.valueHash),V=await Bf(G,P);j.set("",V),await IN(U,R,h,j,o,u)}if(await Promise.all([f.setHead(an,m),f.removeHead(xy)]),await f.commit(),t.debug){const[G,P]=w_(v,r),[V,se]=w_(y,r);t.debug("Successfully pulled new snapshot with lastMutationID:",V,"(prev:",G,"), cookie: ",se,"(prev:",P,"), sync head hash:",m,", main head hash:",g,", valueHash:",R.valueHash,"(prev:",v.valueHash)}return{syncHead:m,replayMutations:[],diffs:j}})}var ww=T.unknown().chain(e=>Qh(e)),iU=T.unknown().chain(e=>Qh(e));function sU(e){Lt(e),kk(e.httpRequestInfo),e.response!==void 0&&rU(e.response)}function rU(e){pl(e)||JI(e)}var t5=class extends Error{constructor(t){super("Failed to push");C(this,"name","PushError");C(this,"causedBy");this.causedBy=t}},xw=T.string(),aU=T.string(),YS=1,oU=Ht({id:T.number(),name:T.string(),args:ww,timestamp:T.number(),clientID:aU});T.object({pushVersion:T.literal(1),schemaVersion:T.string(),profileID:T.string(),clientGroupID:xw,mutations:T.array(oU)});function lU(e){return{id:e.mutationID,name:e.mutatorName,args:e.mutatorArgsJSON,timestamp:e.timestamp,clientID:e.clientID}}async function uU(e,t,i,r,o,u,f,h,m){var R,A;const y=await kn(t,async z=>{const j=await z.getHead(an);if(!j)throw new Error("Internal no main head");return uN(j,z)});if(y.length===0)return;y.reverse(),q(m===YS);const g=[];for(const z of y)if(Xh(z))g.push(lU(z.meta));else throw new Error("Internal non local pending commit");q(o);const v={profileID:r,clientGroupID:o,mutations:g,pushVersion:YS,schemaVersion:h};(R=i.debug)==null||R.call(i,"Starting push...");const b=Date.now(),E=await cU(f,v,e);return(A=i.debug)==null||A.call(i,"...Push complete in ",Date.now()-b,"ms"),E}async function cU(e,t,i){let r;try{r=await e(t,i)}catch(o){throw new t5(wy(o))}try{return sU(r),r}catch(o){throw new Tw("Invalid pusher result",wy(o))}}var fU=class{constructor(e){C(this,"name");C(this,"onmessage",null);C(this,"onmessageerror",null);this.name=e}addEventListener(){}removeEventListener(){}dispatchEvent(){return!1}close(){}postMessage(){}},JS=typeof BroadcastChannel>"u"?fU:BroadcastChannel;function dU(e){return`replicache-new-client-group:${e}`}function hU(e){return`replicache-new-client-group-v1:${e}`}function pU(e){return typeof e=="object"&&typeof e.clientGroupID=="string"&&typeof e.idbName=="string"}function mU(e,t,i,r,o,u,f){if(i.aborted)return;const h=new JS(hU(e));if(o){h.postMessage({clientGroupID:r,idbName:t});const m=new JS(dU(e));m.postMessage([r]),m.close()}h.onmessage=async m=>{const{data:y}=m;if(pU(y)){const{clientGroupID:g,idbName:v}=y;if(g!==r)if(v===t)await kn(f,async E=>await cg(g,E)!==void 0)&&u();else{u();return}}},i.addEventListener("abort",()=>h.close(),{once:!0})}function yU(e){return`replicache-on-persist:${e}`}function gU(e){Lt(e),ut(e.clientGroupID),ut(e.clientID)}function vU(e,t,i){if(t.aborted)return()=>{};const r=new JS(yU(e));return r.onmessage=o=>{const{data:u}=o;gU(u),i({clientGroupID:u.clientGroupID,clientID:u.clientID})},t.addEventListener("abort",()=>r.close(),{once:!0}),o=>{t.aborted||(r.postMessage(o),i(o))}}async function SU(e){const t=await fw(an,e);return(await cN(t,e)).map(r=>({id:r.meta.mutationID,name:r.meta.mutatorName,args:r.meta.mutatorArgsJSON,clientID:r.meta.clientID})).reverse()}function fg(e,t,i,r,o){bU(e,t,i,r,o)}async function bU(e,t,i,r,o){var u,f,h,m,y;if(!o.aborted){for(r=r.withContext("bgIntervalProcess",e),(u=r.debug)==null||u.call(r,"Starting");!o.aborted;){try{await Nr(i(),o)}catch(g){if(!(g instanceof tc))throw g}if(!o.aborted){(f=r.debug)==null||f.call(r,"Running");try{await t()}catch(g){o.aborted?(h=r.debug)==null||h.call(r,"Error running most likely due to close.",g):(m=r.error)==null||m.call(r,"Error running.",g)}}}(y=r.debug)==null||y.call(r,"Stopping")}}function Cw(){const t=NS(),i=NS();return(t<<64n|i).toString(32).slice(-18).padStart(18,"0")}var wU=Ht({heartbeatTimestampMs:T.number(),headHash:so,mutationID:T.number(),lastServerAckdMutationID:T.number()}),xU=Ht({heartbeatTimestampMs:T.number(),headHash:so,tempRefreshHash:so.nullable(),clientGroupID:xw}),n5=Ht({heartbeatTimestampMs:T.number(),refreshHashes:$r(so),persistHash:so.nullable(),clientGroupID:xw});function i5(e){return e.refreshHashes!==void 0}function Ew(e){return e.clientGroupID!==void 0}var s5="clients",CU=T.union(wU,xU,n5);function EU(e){Yh(e,CU)}function _w(e){Yh(e,n5)}function _U(e){Lt(e);const t=new Map;for(const i in e)if(Ir(e,i)){const r=e[i];r!==void 0&&(EU(r),t.set(i,r))}return t}function DU(e,t){for(const i of e.values())i5(i)?(i.refreshHashes.forEach(t.assertValidHash),i.persistHash&&t.assertValidHash(i.persistHash)):(t.assertValidHash(i.headHash),Ew(i)&&i.tempRefreshHash&&t.assertValidHash(i.tempRefreshHash));return Object.fromEntries(e)}async function uo(e){const t=await e.getHead(s5);return TU(t,e)}async function TU(e,t){if(!e)return new Map;const i=await t.getChunk(e);return _U(i==null?void 0:i.data)}var zr=class extends Error{constructor(t){super(`Client state not found, id: ${t}`);C(this,"name","ClientStateNotFoundError");C(this,"id");this.id=t}};async function RU(e,t){if(!await r5(e,t))throw new zr(e)}async function r5(e,t){return!!await Dw(e,t)}async function Dw(e,t){return(await uo(t)).get(e)}async function XS(e,t){const i=await Dw(e,t);if(!i)throw new zr(e);return i}function MU(e,t,i,r,o,u,f){return Pf(i,async h=>{async function m(z,j,U,X){const G=pN(z,{},j,U,X),P=h.createChunk(G,yN(G)),V=Cw(),se={heartbeatTimestampMs:Date.now(),refreshHashes:[P.hash],persistHash:null,clientGroupID:V},F=new Map(y).set(e,se),k={headHash:P.hash,mutatorNames:r,indexes:o,mutationIDs:{},lastServerAckdMutationIDs:{},disabled:!1};return await Promise.all([h.putChunk(P),$f(F,h),vw(V,k,h)]),await h.commit(),[se,P.hash,F,!0]}const y=await uo(h),g=await kU(h,r,o);if(g.type===l5){const{clientGroupID:z,headHash:j}=g,U={clientGroupID:z,refreshHashes:[j],heartbeatTimestampMs:Date.now(),persistHash:null},X=new Map(y).set(e,U);return await $f(X,h),await h.commit(),[U,j,X,!1]}if(!f||g.type===a5){const z=h.createChunk(DN,[]);await h.putChunk(z);const j=[];for(const[U,X]of Object.entries(o)){const G=s9(U,X);j.push({definition:G,valueHash:z.hash})}return m(null,null,z.hash,j)}q(g.type===o5);const{snapshot:v}=g,b=[],{valueHash:E,indexes:R}=v,A=new Os(h,u,E);for(const[z,j]of Object.entries(o)){const{prefix:U="",jsonPointer:X,allowEmpty:G=!1}=j,P={name:z,keyPrefix:U,jsonPointer:X,allowEmpty:G},V=OU(R,P);if(V)b.push({definition:P,valueHash:V.valueHash});else{const se=await I9(t,h,A,U,X,G,u);b.push({definition:P,valueHash:await se.flush()})}}return m(v.meta.basisHash,v.meta.cookieJSON,v.valueHash,b)})}function OU(e,t){return e.find(i=>i9(i.definition,t))}var a5=0,o5=1,l5=2;async function kU(e,t,i){let r,o;const u=new Set(t),f=await lc(e);for(const[h,m]of f){if(!m.disabled&&JN(u,m.mutatorNames)&&qN(i,m.indexes))return{type:l5,clientGroupID:h,headHash:m.headHash};const y=await Ms(m.headHash,e);Xa(y);const{cookieJSON:g}=y.meta;(r===void 0||aw(g,r)>0)&&(r=g,o=y)}return o?{type:o5,snapshot:o}:{type:a5}}function NU(e){const t=new Set;for(const i of e.values())if(i5(i)){for(const r of i.refreshHashes)t.add(r);i.persistHash&&t.add(i.persistHash)}else t.add(i.headHash),Ew(i)&&i.tempRefreshHash&&t.add(i.tempRefreshHash);return rg(t)}async function AU(e,t){const i=await u5(e,t);if(i)return cg(i,t)}async function u5(e,t){const i=await Dw(e,t);if(!(!i||!Ew(i)))return i.clientGroupID}async function ZS(e,t,i){const r=await uo(i),o=new Map(r).set(e,t);return $f(o,i)}async function $f(e,t){const i=DU(e,t),r=t.createChunk(i,NU(e));return await t.putChunk(r),await t.setHead(s5,r.hash),r.hash}var zU=24*60*60*1e3,c5=5*60*1e3,O_;function jU(e,t,i,r,o,u){fg("ClientGC",()=>(O_=LU(e,t,i),O_),()=>r,o,u)}function LU(e,t,i){return yn(t,async r=>{const o=Date.now(),u=await uo(r),f=Array.from(u).filter(([m,y])=>m===e||o-y.heartbeatTimestampMs<=i);if(f.length===u.size)return u;const h=new Map(f);return await $f(h,r),h})}var IU=5*60*1e3,k_;function HU(e,t,i){fg("ClientGroupGC",()=>(k_=UU(e),k_),()=>IU,t,i)}function UU(e){return yn(e,async t=>{const i=await uo(t),r=new Set;for(const u of i.values())_w(u),r.add(u.clientGroupID);const o=new Map;for(const[u,f]of await lc(t))(r.has(u)||XN(f))&&o.set(u,f);return await Y9(o,t),o})}var BU=0,PU="replicache-dbs-v"+BU,$U="";function VU(){return $U+PU}var Um="dbs",N_="profileId";function FU(e){Lt(e);for(const[t,i]of Object.entries(e))ut(t),GU(i),q(t===i.name)}function GU(e){Lt(e),ut(e.name),ut(e.replicacheName),ni(e.replicacheFormatVersion),ut(e.schemaVersion),e.lastOpenedTimestampMS!==void 0&&ni(e.lastOpenedTimestampMS)}var Ri,xd,WS,fD,f5=(fD=class{constructor(e){x(this,xd);x(this,Ri);D(this,Ri,e(VU()))}putDatabase(e){return O(this,xd,WS).call(this,{...e,lastOpenedTimestampMS:Date.now()})}putDatabaseForTesting(e){return O(this,xd,WS).call(this,e)}clearDatabases(){return yn(d(this,Ri),e=>e.del(Um))}deleteDatabases(e){return yn(d(this,Ri),async t=>{const r={...await J0(t)};for(const o of e)delete r[o];await t.put(Um,r)})}getDatabases(){return kn(d(this,Ri),J0)}close(){return d(this,Ri).close()}getProfileID(){return yn(d(this,Ri),async e=>{let t=await e.get(N_);return t===void 0&&(t=`p${Cw()}`,await e.put(N_,t)),ut(t),t})}},Ri=new WeakMap,xd=new WeakSet,WS=function(e){return yn(d(this,Ri),async t=>{const r={...await J0(t),[e.name]:e};return await t.put(Um,r),r})},fD);async function J0(e){let t=await e.get(Um);return t||(t={}),FU(t),t}var qU=12*60*60*1e3,KU=30*24*60*60*1e3,QU=5*60*1e3;function YU(e,t,i,r,o,u,f,h){let m=!0;fg("CollectIDBDatabases",async()=>{await JU(e,Date.now(),o,u,t)},()=>m?(m=!1,r):i,f,h)}async function JU(e,t,i,r,o,u=ZU){const f=await e.getDatabases(),h=Object.values(f),y=(await Promise.all(h.map(async v=>[v.name,await WU(v,t,i,r,u)]))).filter(v=>v[1]).map(v=>v[0]),{errors:g}=await XU(e,y,o);if(g.length)throw g[0]}async function d5(e,t,i){await i(e),await t.deleteDatabases([e])}async function XU(e,t,i){const r=await Promise.allSettled(t.map(async f=>(await d5(f,e,i),f))),o=[],u=[];for(const f of r)f.status==="fulfilled"?o.push(f.value):u.push(f.reason);return{dropped:o,errors:u}}function ZU(e){const t=new py(e);return new sN(t,Bi,nc)}async function WU(e,t,i,r,o){if(e.replicacheFormatVersion>Dn)return!1;if(e.lastOpenedTimestampMS!==void 0){const h=e.replicacheFormatVersion>=Hf;return t-e.lastOpenedTimestampMS<(h?r:i)?!1:h?(q(e.replicacheFormatVersion===Hf||e.replicacheFormatVersion===dH||e.replicacheFormatVersion===Uf),!await nB(o(e.name))):!0}const u=o(e.name),f=await kn(u,uo);return await u.close(),eB(f,t,i)}function eB(e,t,i){for(const r of e.values())if(t-r.heartbeatTimestampMs<i)return!1;return!0}async function tB(e,t){const i=GN(t==null?void 0:t.logLevel,t==null?void 0:t.logSinks,{dropDatabase:void 0}),r=O5(i,t==null?void 0:t.kvStore);await d5(e,new f5(r.create),r.drop)}async function nB(e){const t=await kn(e,lc);for(const i of t.values())if(XN(i))return!0;return!1}var h5=60*1e3,A_;function iB(e,t,i,r,o,u){fg("Heartbeat",async()=>{A_=sB(e,t);try{return await A_}catch(f){if(f instanceof zr){i();return}throw f}},()=>r,o,u)}function sB(e,t){return yn(t,async i=>{const r=await uo(i),o=r.get(e);if(!o)throw new zr(e);const u={...o,heartbeatTimestampMs:Date.now()},f=new Map(r).set(e,u);return await $f(f,i),f})}var Cd,Ed,dD,p5=(dD=class{constructor(e){x(this,Cd,new Set);x(this,Ed);D(this,Ed,e)}async visit(e){if(d(this,Cd).has(e))return;d(this,Cd).add(e);const t=await d(this,Ed).mustGetChunk(e);await this.visitChunk(t)}async visitChunk(e){await Promise.all(e.meta.map(t=>this.visit(t)))}},Cd=new WeakMap,Ed=new WeakMap,dD),_d,Dd,hD,rB=(hD=class extends p5{constructor(t){super(t);x(this,_d,new Map);x(this,Dd);D(this,Dd,t)}get gatheredChunks(){return d(this,_d)}visit(t){return d(this,Dd).isMemOnlyChunkHash(t)?super.visit(t):rn}visitChunk(t){return d(this,_d).set(t.hash,t),super.visitChunk(t)}},_d=new WeakMap,Dd=new WeakMap,hD);async function aB(e,t,i,r,o,u,f,h=()=>Promise.resolve()){if(u())return;const[m,y,g]=await kn(r,async A=>{await RU(t,A);const z=await u5(t,A);q(z,`No main client group for clientID: ${t}`);const[,j]=await z_(A,z),U=await j.getMutationID(t,A),X=await kf(j,A);return Xa(X),[U,X,z]});if(u())return;const[v,b,E]=await kn(i,async A=>{const z=await pw(an,A),j=await fN(z,{[t]:m||0},A),U=await kf(z,A);Xa(U);let X;if(US(U,y)>0){await h();const G=U.chunk.hash,P=new rB(A);await P.visit(G),X=P.gatheredChunks}return[j,U,X]});if(u())return;let R=!1;await yn(r,async A=>{const[z,j]=await z_(A,g);let U=j.chunk.hash,X={...z.mutationIDs},{lastServerAckdMutationIDs:G}=z;if(E){const V=await XS(t,A);_w(V);const se=await kf(j,A);if(Xa(se),US(b,se)>0){R=!0,await Promise.all(Array.from(E.values(),k=>A.putChunk(k))),await ZS(t,{...V,persistHash:b.chunk.hash},A),U=b.chunk.hash;const F=await cN(z.headHash,A);G=b.meta.lastMutationIDs,X={...G},U=await j_(F,U,A,o,X,e,f)}}U=await j_(v,U,A,o,X,e,f);const P={...z,headHash:U,mutationIDs:X,lastServerAckdMutationIDs:G};await vw(g,P,A)}),E&&R&&await yn(i,A=>A.chunksPersisted([...E.keys()]))}async function z_(e,t){const i=await cg(t,e);return q(i,`No client group for clientGroupID: ${t}`),[i,await It(i.headHash,e)]}async function j_(e,t,i,r,o,u,f){for(let h=e.length-1;h>=0;h--){const m=e[h],{meta:y}=m,g=await It(t,i);await m.getMutationID(y.clientID,i)>await g.getMutationID(y.clientID,i)&&(o[y.clientID]=y.mutationID,t=(await VN(m,i,t,r,u,y.clientID,f)).chunk.hash)}return t}var Td,ql,Rd,Kl,Md,pD,oB=(pD=class extends p5{constructor(t,i,r,o=Ja){super(t);x(this,Td,new Map);x(this,ql,0);x(this,Rd);x(this,Kl);x(this,Md);D(this,Rd,i),D(this,Kl,r),D(this,Md,o)}get gatheredChunks(){return d(this,Td)}visit(t){return d(this,ql)>=d(this,Kl)||d(this,Rd).isCached(t)?rn:super.visit(t)}visitChunk(t){if(d(this,ql)<d(this,Kl)){const i=d(this,Md).call(this,t);d(this,Td).set(t.hash,{chunk:t,size:i}),D(this,ql,d(this,ql)+i)}return super.visitChunk(t)}},Td=new WeakMap,ql=new WeakMap,Rd=new WeakMap,Kl=new WeakMap,Md=new WeakMap,pD),lB=5*2**20,uB=300;async function cB(e,t,i,r,o,u,f,h){if(f())return;const m=await kn(t,v=>WH(an,v));Xa(m);const y=await t.withSuspendedSourceCacheEvictsAndDeletes(async()=>{const v=await yn(i,async j=>{const U=await AU(r,j);if(!U)throw new zr(r);const X=U.headHash,P=await(await It(X,j)).getMutationID(r,j),V=await XS(r,j);_w(V);const se=await Ms(X,j);if(Xa(se),L_(m,se,X))return;const F=new oB(j,t,lB);await F.visit(X);const{gatheredChunks:k}=F,Z=new Set(V.refreshHashes);Z.add(X);const ne={...V,refreshHashes:[...Z]};return await ZS(r,ne,j),[X,se,P,k,V.refreshHashes]});if(f()||!v)return{type:"aborted"};if(await Nr(uB),f())return{type:"aborted"};const[b,E,R,A,z]=v;return yn(t,async j=>{const U=await pw(an,j),X=await kf(U,j);if(Xa(X),L_(X,E,b))return{type:"aborted",refreshHashesForRevert:z};const G=await fN(U,{[r]:R},j),P=[];for(const{chunk:k,size:Z}of A.values())P.push(j.putChunk(k,Z));await Promise.all(P);let V=b;for(let k=G.length-1;k>=0;k--)V=(await VN(G[k],j,V,o,e,G[k].meta.clientID,h)).chunk.hash;const se=await It(V,j),F=await j9(U,se,j,u,h);return await j.setHead(an,V),{type:"complete",diffs:F,newPerdagClientHeadHash:b}})});if(f())return;const g=v=>yn(i,async b=>{const R={...await XS(r,b),refreshHashes:v};await ZS(r,R,b)});if(y.type==="aborted"){y.refreshHashesForRevert&&await g(y.refreshHashesForRevert);return}return await g([y.newPerdagClientHeadHash]),y.diffs}function L_(e,t,i){const r=US(e,t);return r>0||r===0&&i===t.chunk.hash}function fB(e){return new Promise(t=>{typeof requestIdleCallback=="function"?requestIdleCallback(()=>t(),{timeout:e}):setTimeout(()=>t(),e)})}var Od,kd,Nd,za,Ad,Tn,ds,Ql,zd,Uy,m5,mD,I_=(mD=class{constructor(e,t,i,r,o=fB){x(this,Uy);x(this,Od);x(this,kd);x(this,Nd);x(this,za);x(this,Ad);x(this,Tn);x(this,ds);x(this,Ql,Promise.resolve());x(this,zd,Promise.resolve());D(this,Od,e),D(this,kd,t),D(this,Nd,i),D(this,za,r),D(this,Ad,o),d(this,za).addEventListener("abort",()=>{var f,h;const u=new tc("Aborted");(f=d(this,ds))==null||f.reject(u),(h=d(this,Tn))==null||h.reject(u),D(this,ds,void 0),D(this,Tn,void 0)},{once:!0})}schedule(){return d(this,za).aborted?Promise.reject(new tc("Aborted")):d(this,Tn)?d(this,Tn).promise:(D(this,Tn,Ue()),O(this,Uy,m5).call(this),d(this,Tn).promise)}},Od=new WeakMap,kd=new WeakMap,Nd=new WeakMap,za=new WeakMap,Ad=new WeakMap,Tn=new WeakMap,ds=new WeakMap,Ql=new WeakMap,zd=new WeakMap,Uy=new WeakSet,m5=async function(){var e,t;try{await d(this,Ql)}catch{}if(await d(this,zd),!!d(this,Tn)&&(await d(this,Ad).call(this,d(this,kd)),!!d(this,Tn))){D(this,zd,dB(d(this,Nd),d(this,za))),D(this,ds,d(this,Tn)),D(this,Tn,void 0);try{D(this,Ql,d(this,Od).call(this)),await d(this,Ql),(e=d(this,ds))==null||e.resolve()}catch(i){(t=d(this,ds))==null||t.reject(i)}D(this,ds,void 0)}},mD);async function dB(e,t){try{await Nr(e,t)}catch(i){q(i instanceof tc)}}function hB(e,t,i){if(!i.aborted){const r=setInterval(e,t);i.addEventListener("abort",()=>{clearInterval(r)})}}var eb=0,pB=1,mB=new Set,H_=Symbol(),jd,Ld,Yl,Id,Jl,Hd,yD,yB=(yD=class{constructor(e,t,i,r,o=io){x(this,jd);x(this,Ld);x(this,Yl,H_);x(this,Id,mB);x(this,Jl,[]);C(this,"onError");C(this,"onDone");x(this,Hd);D(this,jd,e),D(this,Ld,t),this.onError=i,this.onDone=r,D(this,Hd,o)}hasIndexSubscription(e){for(const t of d(this,Jl))if(t.options.indexName===e)return!0;return!1}invoke(e,t,i){return d(this,jd).call(this,e)}matches(e){for(const[t,i]of e)if(SB(d(this,Id),d(this,Jl),t,i))return!0;return!1}updateDeps(e,t){D(this,Id,e),D(this,Jl,t)}onData(e){(d(this,Yl)===H_||!d(this,Hd).call(this,d(this,Yl),e))&&(D(this,Yl,e),d(this,Ld).call(this,e))}},jd=new WeakMap,Ld=new WeakMap,Yl=new WeakMap,Id=new WeakMap,Jl=new WeakMap,Hd=new WeakMap,yD),Ud,ja,hs,Bd,gD,gB=(gD=class{constructor(e,t){x(this,Ud);x(this,ja);x(this,hs);x(this,Bd);C(this,"onError");C(this,"onDone");D(this,Ud,e),D(this,ja,(t==null?void 0:t.prefix)??""),D(this,hs,t==null?void 0:t.indexName),D(this,Bd,(t==null?void 0:t.initialValuesInFirstDiff)??!1)}hasIndexSubscription(e){return d(this,hs)===e}onData(e){e!==void 0&&d(this,Ud).call(this,e)}invoke(e,t,i){const r=async(o,u,f,h)=>{let m;if(t===eb){if(!d(this,Bd))return;q(i===void 0);const v=[];for await(const b of e.scan({prefix:u,indexName:o}).entries())v.push({op:"add",key:b[0],newValue:b[1]});m=v}else{q(i);const v=i.get(o??"")??[];m=h(v)}const y=[],{length:g}=m;for(let v=g5(m,u,f);v<g&&f(m[v]).startsWith(u);v++)y.push(m[v]);return t===eb||y.length>0?y:void 0};return d(this,hs)?r(d(this,hs),d(this,ja),o=>o.key[0],o=>U_(o,lg)):r(void 0,d(this,ja),o=>o.key,o=>U_(o,u=>u))}matches(e){const t=e.get(d(this,hs)??"");return t===void 0?!1:CB(t,d(this,ja),d(this,hs))}updateDeps(e,t){}},Ud=new WeakMap,ja=new WeakMap,hs=new WeakMap,Bd=new WeakMap,gD);function U_(e,t){return e.map(i=>{const r=t(i.key);switch(i.op){case"add":return{op:"add",key:r,newValue:i.newValue};case"change":return{op:"change",key:r,oldValue:i.oldValue,newValue:i.newValue};case"del":return{op:"del",key:r,oldValue:i.oldValue}}})}var Mi,Xl,Pd,$d,Vd,ao,tb,y5,vD,vB=(vD=class{constructor(e,t,i){x(this,ao);x(this,Mi,new Set);x(this,Xl,new Set);x(this,Pd);x(this,$d);C(this,"hasPendingSubscriptionRuns",!1);x(this,Vd);D(this,Pd,e),D(this,$d,t),D(this,Vd,i)}add(e){return d(this,Mi).add(e),O(this,ao,y5).call(this,e),()=>d(this,Mi).delete(e)}clear(){var e;for(const t of d(this,Mi))(e=t.onDone)==null||e.call(t);d(this,Mi).clear()}async fire(e){const t=xB(d(this,Mi),e);await O(this,ao,tb).call(this,t,pB,e)}callCallbacks(e,t){var i,r;for(let o=0;o<e.length;o++){const u=e[o],f=t[o];f.status==="fulfilled"?u.onData(f.value):u.onError?u.onError(f.reason):(r=(i=d(this,$d)).error)==null||r.call(i,"Error in subscription body:",f.reason)}}shouldComputeDiffs(){return d(this,Mi).size>0}shouldComputeDiffsForIndex(e){for(const t of d(this,Mi))if(t.hasIndexSubscription(e))return!0;return!1}},Mi=new WeakMap,Xl=new WeakMap,Pd=new WeakMap,$d=new WeakMap,Vd=new WeakMap,ao=new WeakSet,tb=async function(e,t,i){if(d(this,Vd).aborted)return;const r=[...e];if(r.length===0)return;const o=await d(this,Pd).call(this,u=>Promise.allSettled(r.map(async f=>{const h=new O9(u);try{return await f.invoke(h,t,i)}finally{f.updateDeps(h.keys,h.scans)}})));this.callCallbacks(r,o)},y5=async function(e){if(d(this,Xl).add(e),!this.hasPendingSubscriptionRuns){this.hasPendingSubscriptionRuns=!0,await Promise.resolve(),this.hasPendingSubscriptionRuns=!1;const t=[...d(this,Xl)];d(this,Xl).clear(),await O(this,ao,tb).call(this,t,eb,void 0)}},vD);function SB(e,t,i,r){if(i===""){for(const o of r)if(e.has(o.key))return!0}for(const o of t)if(bB(o,i,r))return!0;return!1}function bB(e,t,i){for(const r of i)if(wB(e,t,r.key))return!0;return!1}function wB(e,t,i){const{indexName:r="",limit:o,prefix:u,startKey:f,startExclusive:h,startSecondaryKey:m}=e.options;if(t!==r)return!1;if(!r)return o!==void 0&&o<=0?!1:!u&&!f?!0:!(u&&(!i.startsWith(u)||B_(e,i))||f&&(h&&F0(i,f)||V0(i,f)||B_(e,i)));if(!u&&!f&&!m)return!0;const[y,g]=lg(i);return!(u&&!y.startsWith(u)||m&&(h&&F0(y,m)||V0(y,m))||f&&(h&&F0(g,f)||V0(g,f)))}function B_(e,t){const{inclusiveLimitKey:i}=e;return e.options.limit!==void 0&&i!==void 0&&rw(t,i)}function*xB(e,t){for(const i of e)i.matches(t)&&(yield i)}function CB(e,t,i){if(t==="")return!0;const r=i?u=>lg(u.key)[0]:u=>u.key,o=g5(e,t,r);return o<e.length&&r(e[o]).startsWith(t)}function g5(e,t,i){return vN(e.length,r=>ti(t,i(e[r])))}function v5(e){if(e===null)throw new TypeError("array cannot be null");for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*256);return e}var X0="";function EB(){if(X0===""){const e=new Uint8Array(4);v5(e),X0=Array.from(e,t=>t.toString(16)).join("")}return X0}var P_=new Map;function $_(e){const t=P_.get(e)??0;return P_.set(e,t+1),`${e}-${EB()}-${t}`}var _B="15.2.1",DB=8,TB=1e3,RB=1e3,MB=500,OB=500,kB=100*2**20,NB=5*60*1e3,Sm=()=>{},AB={type:"NewClientGroup"},Wt,Jb,Fd,ce,S5,Yn,Zl,By,hn,Wl,hi,dr,Gd,qd,eu,La,Kd,hr,je,Oi,Py,Qd,Yd,Jd,$y,Xd,Vy,b5,Zd,nb,w5,x5,ib,sb,C5,E5,Bm,rb,xf,Pm,ab,ob,_5,D5,lb,ha,Wd,T5,R5,M5,$m,SD,zB=(SD=class{constructor(e,t={}){x(this,ce);C(this,"pullURL");C(this,"pushURL");C(this,"auth");C(this,"name");x(this,Wt);x(this,Jb);C(this,"isClientGroupDisabled",!1);x(this,Fd);C(this,"lastMutationID",0);C(this,"schemaVersion");x(this,Yn,!1);x(this,Zl,!0);x(this,By,Cw());x(this,hn);x(this,Wl);x(this,hi);x(this,dr,{});C(this,"mutate");x(this,Gd,0);x(this,qd,0);x(this,eu);x(this,La);C(this,"pullInterval");C(this,"pushDelay");x(this,Kd);C(this,"puller");C(this,"pusher");C(this,"memdag");C(this,"perdag");x(this,hr);x(this,je);x(this,Oi,new AbortController);x(this,Py,new Kh);x(this,Qd);x(this,Yd);x(this,Jd);x(this,$y,new I_(()=>this.persist(),TB,MB,d(this,Oi).signal));x(this,Xd);x(this,Vy,new I_(()=>this.refresh(),RB,OB,d(this,Oi).signal));C(this,"onSync",null);C(this,"onClientStateNotFound",F_);C(this,"onUpdateNeeded",F_);C(this,"getAuth",null);C(this,"onPushInvoked",()=>{});C(this,"onBeginPull",()=>{});C(this,"onRecoverMutations",e=>e);x(this,Zd,async()=>{var e;d(this,Yn)||((e=_s("document"))==null?void 0:e.visibilityState)==="visible"&&await O(this,ce,nb).call(this)});C(this,"onOnlineChange",null);x(this,Wd,async e=>{await d(this,hn);const{clientID:t}=this;return kn(this.memdag,async i=>{try{const r=await S9(i,Dn),o=new AN(t,r,d(this,je));return await e(o)}catch(r){throw await O(this,ce,$m).call(this,r)}})});var Ee,de;jB(e);const{name:i,logLevel:r="info",logSinks:o=[kr],pullURL:u="",auth:f,pushDelay:h=10,pushURL:m="",schemaVersion:y="",pullInterval:g=6e4,mutators:v={},requestOptions:b={},puller:E,pusher:R,indexes:A={},clientMaxAgeMs:z=zU}=e,{enableMutationRecovery:j=!0,enableScheduledPersist:U=!0,enableScheduledRefresh:X=!0,enablePullAndPushInOpen:G=!0,enableClientGroupForking:P=!0}=t;this.auth=f??"",this.pullURL=u,this.pushURL=m,this.name=i,this.schemaVersion=y,this.pullInterval=g,this.pushDelay=h,this.puller=E??WI(this),this.pusher=R??U9(this),D(this,Qd,U),D(this,Yd,X),D(this,Jd,G),D(this,je,GN(r,o,{name:i})),(de=(Ee=d(this,je)).debug)==null||de.call(Ee,"Constructing Replicache",{name:i,"replicache version":_B}),D(this,Wt,new vB(d(this,Wd),d(this,je),d(this,Oi).signal));const V=O5(d(this,je),e.kvStore);D(this,Fd,V);const se=V.create(this.idbName);D(this,hr,new f5(V.create)),this.perdag=new sN(se,Bi,nc),this.memdag=new QH(this.perdag,kB,Bi,nc);const F=Ue();D(this,hn,F.promise);const{minDelayMs:k=_H,maxDelayMs:Z=DH}=b;D(this,Kd,{maxDelayMs:Z,minDelayMs:k});const ne=$k(_s("document"),0,d(this,Oi).signal);D(this,eu,new g_(d(this,je).withContext("PULL"),new wH(this,()=>O(this,ce,w5).call(this)),ne)),D(this,La,new g_(d(this,je).withContext("PUSH"),new xH(this,()=>O(this,ce,E5).call(this)))),this.mutate=O(this,ce,R5).call(this,v);const ue=Ue();D(this,Wl,ue.promise);const ge=Ue();D(this,hi,ge.promise),D(this,Xd,vU(this.name,d(this,Oi).signal,J=>{O(this,ce,_5).call(this,J)})),O(this,ce,b5).call(this,A,P,z,ue.resolve,ge.resolve,F.resolve)}get idbName(){return IB(this.name,this.schemaVersion)}get requestOptions(){return d(this,Kd)}get profileID(){return d(this,Wl)}get clientID(){return d(this,By)}get clientGroupID(){return d(this,hi)}get online(){return d(this,Zl)}get closed(){return d(this,Yn)}async close(){var r;D(this,Yn,!0);const{promise:e,resolve:t}=Ue();Z0.set(this.name,e),d(this,Oi).abort(),(r=_s("document"))==null||r.removeEventListener("visibilitychange",d(this,Zd)),await d(this,hn);const i=[this.memdag.close(),this.perdag.close(),d(this,hr).close()];d(this,eu).close(),d(this,La).close(),d(this,Wt).clear(),await Promise.all(i),Z0.delete(this.name),t()}async maybeEndPull(e,t){for(;;){if(d(this,Yn))return;await d(this,hn);const{clientID:i}=this,r=d(this,je).withContext("maybeEndPull").withContext("requestID",t),{replayMutations:o,diffs:u}=await nU(this.memdag,r,e,i,d(this,Wt),Dn);if(!o||o.length===0){await d(this,Wt).fire(u),O(this,ce,ob).call(this);return}for(const f of o){d(this,Wt).hasPendingSubscriptionRuns&&await Promise.resolve();const{meta:h}=f;e=await Pf(this.memdag,m=>H9(f,m,e,xy,d(this,dr),r,ag(h)?h.clientID:i,Dn))}}}push({now:e=!1}={}){return V_(d(this,La).send(e))}pull({now:e=!1}={}){return V_(d(this,eu).send(e))}async poke(e){await d(this,hn);const{clientID:t}=this,i=$_(t),r=d(this,je).withContext("handlePullResponse").withContext("requestID",i),{pullResponse:o}=e;if(ml(o)){O(this,ce,Bm).call(this,o);return}if(pl(o)){await O(this,ce,Pm).call(this);return}const u=await e5(r,this.memdag,e.baseCookie,o,t,Dn);switch(u.type){case bw:await this.maybeEndPull(u.syncHead,i);break;case ZN:throw new Error("unexpected base cookie for poke: "+JSON.stringify(e))}}async beginPull(){await d(this,hn);const e=await this.profileID,{clientID:t}=this,i=await d(this,hi),{result:{beginPullResponse:r,requestID:o}}=await O(this,ce,sb).call(this,async(m,y)=>{const g=await eU(e,t,i,this.schemaVersion,this.puller,m,this.memdag,Dn,y);return{result:{beginPullResponse:g,requestID:m},httpRequestInfo:g.httpRequestInfo}},"pull",d(this,je),()=>O(this,ce,ha).call(this,0,-1),()=>O(this,ce,ha).call(this,0,1)),{pullResponse:u}=r;ml(u)?O(this,ce,Bm).call(this,u):pl(r.pullResponse)&&await O(this,ce,Pm).call(this);const{syncHead:f,httpRequestInfo:h}=r;return{requestID:o,syncHead:f,ok:h.httpStatusCode===200}}persist(){return d(this,Py).withLock(async()=>{var i,r;const{clientID:e}=this;if(await d(this,hn),d(this,Yn))return;try{await aB(d(this,je),e,this.memdag,this.perdag,d(this,dr),()=>d(this,Yn),Dn)}catch(o){if(o instanceof zr)O(this,ce,xf).call(this,e);else if(d(this,Yn))(r=(i=d(this,je)).debug)==null||r.call(i,"Exception persisting during close",o);else throw o}const t=await d(this,hi);q(t),d(this,Xd).call(this,{clientID:e,clientGroupID:t})})}async refresh(){var i,r;await d(this,hn);const{clientID:e}=this;if(d(this,Yn))return;let t;try{t=await cB(d(this,je),this.memdag,this.perdag,e,d(this,dr),d(this,Wt),()=>this.closed,Dn)}catch(o){if(o instanceof zr)O(this,ce,xf).call(this,e);else if(d(this,Yn))(r=(i=d(this,je)).debug)==null||r.call(i,"Exception refreshing during close",o);else throw o}t!==void 0&&await d(this,Wt).fire(t)}async disableClientGroup(){const e=await d(this,hi);q(e),this.isClientGroupDisabled=!0,await yn(this.perdag,t=>J9(e,t))}subscribe(e,t){typeof t=="function"&&(t={onData:t});const{onData:i,onError:r,onDone:o,isEqual:u}=t;return d(this,Wt).add(new yB(e,i,r,o,u))}experimentalWatch(e,t){return d(this,Wt).add(new gB(e,t))}query(e){return d(this,Wd).call(this,e)}get cookie(){return d(this,hn).then(()=>kn(this.memdag,async e=>{const t=await e.getHead(an);if(!t)throw new Error("Internal no main head found");const o=(await Ms(t,e)).meta.cookieJSON;return Mk(o),o}))}recoverMutations(){}experimentalPendingMutations(){return kn(this.memdag,SU)}},Wt=new WeakMap,Jb=new WeakMap,Fd=new WeakMap,ce=new WeakSet,S5=function(){return{name:this.idbName,replicacheName:this.name,replicacheFormatVersion:Dn,schemaVersion:this.schemaVersion}},Yn=new WeakMap,Zl=new WeakMap,By=new WeakMap,hn=new WeakMap,Wl=new WeakMap,hi=new WeakMap,dr=new WeakMap,Gd=new WeakMap,qd=new WeakMap,eu=new WeakMap,La=new WeakMap,Kd=new WeakMap,hr=new WeakMap,je=new WeakMap,Oi=new WeakMap,Py=new WeakMap,Qd=new WeakMap,Yd=new WeakMap,Jd=new WeakMap,$y=new WeakMap,Xd=new WeakMap,Vy=new WeakMap,b5=async function(e,t,i,r,o,u){var v;const{clientID:f}=this;await Z0.get(this.name),await d(this,hr).getProfileID().then(r),await d(this,hr).putDatabase(d(this,ce,S5));const[h,m,,y]=await MU(f,d(this,je),this.perdag,Object.keys(d(this,dr)),e,Dn,t);o(h.clientGroupID),await yn(this.memdag,b=>b.setHead(an,m)),u(),d(this,Jd)&&(this.pull().catch(Sm),this.push().catch(Sm));const{signal:g}=d(this,Oi);iB(f,this.perdag,()=>{O(this,ce,xf).call(this,f)},h5,d(this,je),g),jU(f,this.perdag,i,c5,d(this,je),g),YU(d(this,hr),d(this,Fd).drop,qU,QU,KU,2*i,d(this,je),g),HU(this.perdag,d(this,je),g),mU(this.name,this.idbName,g,h.clientGroupID,y,()=>{O(this,ce,ab).call(this,AB)},this.perdag),hB(()=>this.recoverMutations(),NB,g),this.recoverMutations(),(v=_s("document"))==null||v.addEventListener("visibilitychange",d(this,Zd))},Zd=new WeakMap,nb=async function(){const{clientID:e}=this,t=await kn(this.perdag,i=>r5(e,i));return t||O(this,ce,xf).call(this,e),!t},w5=function(){return O(this,ce,x5).call(this)?Promise.resolve(!0):O(this,ce,ib).call(this,async()=>{try{O(this,ce,ha).call(this,0,1);const{syncHead:e,requestID:t,ok:i}=await this.beginPull();if(!i)return!1;e!==Nn&&await this.maybeEndPull(e,t)}catch(e){throw await O(this,ce,$m).call(this,e)}finally{O(this,ce,ha).call(this,0,-1)}return!0},"Pull")},x5=function(){return this.isClientGroupDisabled||this.pullURL===""&&eH(this.puller)},ib=async function(e,t){var r,o,u,f,h,m,y;let i=!0;try{return await e()}catch(g){return g instanceof t5||g instanceof WN?(i=!1,(o=(r=d(this,je)).debug)==null||o.call(r,`${t} threw:
`,g,`
with cause:
`,g.causedBy)):g instanceof Tw?(f=(u=d(this,je)).error)==null||f.call(u,g):(m=(h=d(this,je)).info)==null||m.call(h,`${t} threw:
`,g),!1}finally{d(this,Zl)!==i&&(D(this,Zl,i),(y=this.onOnlineChange)==null||y.call(this,i),i&&this.recoverMutations())}},sb=async function(e,t,i,r=Sm,o=Sm){var m,y;const{clientID:u}=this;let f=0,h;i=i.withContext(t);do{const g=$_(u),v=i.withContext("requestID",g),{httpRequestInfo:b,result:E}=await e(g,v);if(h=E,!b)return{result:E,authFailure:!1};const{errorMessage:R,httpStatusCode:A}=b;if((R||A!==200)&&((m=v.error)==null||m.call(v,`Got a non 200 response doing ${t}: ${A}`+(R?`: ${R}`:""))),A!==LB)return{result:E,authFailure:!1};if(!this.getAuth)return{result:E,authFailure:!0};let z;try{await r(),z=await this.getAuth()}finally{await o()}if(z==null)return{result:E,authFailure:!0};this.auth=z,f++}while(f<DB);return(y=i.info)==null||y.call(i,"Tried to reauthenticate too many times"),{result:h,authFailure:!0}},C5=function(){return this.isClientGroupDisabled||this.pushURL===""&&B9(this.pusher)},E5=async function(){if(O(this,ce,C5).call(this))return!0;await d(this,hn);const e=await d(this,Wl),{clientID:t}=this,i=await d(this,hi);return O(this,ce,ib).call(this,async()=>{const{result:r}=await O(this,ce,sb).call(this,async(f,h)=>{try{O(this,ce,ha).call(this,1,0);const m=await uU(f,this.memdag,h,e,i,t,this.pusher,this.schemaVersion,YS);return{result:m,httpRequestInfo:m==null?void 0:m.httpRequestInfo}}finally{O(this,ce,ha).call(this,-1,0)}},"push",d(this,je));if(r===void 0)return!0;const{response:o,httpRequestInfo:u}=r;return ml(o)?O(this,ce,Bm).call(this,o):pl(o)&&await O(this,ce,Pm).call(this),u.httpStatusCode===200},"Push")},Bm=function(e){const t={type:e.error};e.versionType&&(t.versionType=e.versionType),O(this,ce,ab).call(this,t)},rb=function(){var e;(e=this.onClientStateNotFound)==null||e.call(this)},xf=function(e){var t,i;(i=(t=d(this,je)).error)==null||i.call(t,`Client state not found on client, clientID: ${e}`),O(this,ce,rb).call(this)},Pm=async function(){var t,i;const e=await d(this,hi);(i=(t=d(this,je)).error)==null||i.call(t,`Client state not found on server, clientGroupID: ${e}`),await this.disableClientGroup(),O(this,ce,rb).call(this)},ab=function(e){var t,i,r;(i=(t=d(this,je)).debug)==null||i.call(t,`Update needed, reason: ${e}`),(r=this.onUpdateNeeded)==null||r.call(this,e)},ob=async function(){d(this,Qd)&&await O(this,ce,lb).call(this,"persist",d(this,$y))},_5=async function(e){var i,r;(r=(i=d(this,je)).debug)==null||r.call(i,"Handling persist",e);const t=await d(this,hi);e.clientGroupID===t&&O(this,ce,D5).call(this)},D5=async function(){d(this,Yd)&&await O(this,ce,lb).call(this,"refresh from storage",d(this,Vy))},lb=async function(e,t){var i,r,o,u;try{await t.schedule()}catch(f){f instanceof tc?(r=(i=d(this,je)).debug)==null||r.call(i,`Scheduled ${e} did not complete before close.`):(u=(o=d(this,je)).error)==null||u.call(o,`Error during ${e}`,f)}},ha=function(e,t){D(this,Gd,d(this,Gd)+e),D(this,qd,d(this,qd)+t);const i=e+t,r=d(this,Gd)+d(this,qd);if(i===1&&r===1||r===0){const o=r>0;Promise.resolve().then(()=>{var u;return(u=this.onSync)==null?void 0:u.call(this,o)})}},Wd=new WeakMap,T5=function(e,t){return d(this,dr)[e]=t,i=>O(this,ce,M5).call(this,e,t,i,performance.now())},R5=function(e){const t=Object.create(null);for(const i in e)t[i]=O(this,ce,T5).call(this,i,e[i]);return t},M5=async function(e,t,i,r){const o=i??null;d(this,Wt).hasPendingSubscriptionRuns&&await Promise.resolve(),await d(this,hn);const{clientID:u}=this;return Pf(this.memdag,async f=>{try{const h=await fw(an,f),y=await BN(h,e,o,null,f,r,u,Dn),g=new jN(u,await y.getMutationID(),"initial",y,d(this,je)),v=await t(g,i);If(y);const b=await y.getMutationID(),E=await y.commitWithDiffs(an,d(this,Wt));return this.lastMutationID=b,d(this,La).send(!1).catch(()=>{}),await d(this,Wt).fire(E),O(this,ce,ob).call(this),v}catch(h){throw await O(this,ce,$m).call(this,h)}})},$m=async function(e){return e instanceof Wk&&await O(this,ce,nb).call(this)?new zr(this.clientID):e},SD),Z0=new Map;async function V_(e){const t=await e;if(t)throw t.error}function F_(){typeof location<"u"&&location.reload()}function jB(e){const{name:t,clientMaxAgeMs:i}=e;if(typeof t!="string"||!t)throw new TypeError("name is required and must be non-empty");if(i!==void 0){const r=Math.max(c5,h5);if(typeof i!="number"||i<=r)throw new TypeError(`clientAgeMaxMs must be a number larger than ${r}ms`)}}var LB=401;function IB(e,t){return HB(e,t,Dn)}function HB(e,t,i){const r=`rep:${e}:${i}`;return t?`${r}:${t}`:r}var Tw=class extends Error{};function UB(e){return new Bk(e)}function O5(e,t){switch(t){case"idb":case void 0:return{create:i=>mH(e,i),drop:yH};case"mem":return{create:UB,drop:i=>Uk(i)};default:return t}}function BB(e){return new qB({name:e,columns:{},primaryKey:[]})}function PB(){return new Zh({type:"string",optional:!1,customType:null})}function $B(){return new Zh({type:"number",optional:!1,customType:null})}function VB(){return new Zh({type:"boolean",optional:!1,customType:null})}function FB(){return new Zh({type:"json",optional:!1,customType:null})}function GB(){return new Zh({type:"string",optional:!1,customType:null})}var eh,bD,qB=(bD=class{constructor(e){x(this,eh);D(this,eh,e)}columns(e){const t=Object.fromEntries(Object.entries(e).map(([i,r])=>[i,r.schema]));return new KB({...d(this,eh),columns:t})}},eh=new WeakMap,bD),ps,tu,KB=(tu=class{constructor(t){x(this,ps);D(this,ps,t)}primaryKey(...t){return new tu({...d(this,ps),primaryKey:t})}get schema(){return d(this,ps)}build(){if(d(this,ps).primaryKey.length===0)throw new Error(`Table "${d(this,ps).name}" is missing a primary key`);return d(this,ps)}},ps=new WeakMap,tu),nu,iu,Zh=(iu=class{constructor(t){x(this,nu);D(this,nu,t)}optional(){return new iu({...d(this,nu),optional:!0})}get schema(){return d(this,nu)}},nu=new WeakMap,iu);function QB(e){let t=e.findIndex(r=>r===void 0);if(t<0)return e;const i=e.slice(0,t);for(t++;t<e.length;t++){const r=e[t];r!==void 0&&i.push(r)}return i}function YB(e,t){return e.length===t.length&&e.every((i,r)=>i===t[r])}var JB=T.union(ww,T.undefined()),Wh=Jh(JB),XB=T.string(),jr=Symbol(),ZB=T.tuple([XB,T.union(T.literal("asc"),T.literal("desc"))]),WB=$r(ZB);T.union(T.string(),T.number(),T.boolean(),T.null());var e7=T.union(T.literal("="),T.literal("!="),T.literal("IS"),T.literal("IS NOT")),t7=T.union(T.literal("<"),T.literal(">"),T.literal("<="),T.literal(">=")),n7=T.union(T.literal("LIKE"),T.literal("NOT LIKE"),T.literal("ILIKE"),T.literal("NOT ILIKE")),i7=T.union(T.literal("IN"),T.literal("NOT IN")),s7=T.union(e7,t7,n7,i7),k5=Ht({type:T.literal("literal"),value:T.union(T.string(),T.number(),T.boolean(),T.null(),$r(T.union(T.string(),T.number(),T.boolean())))}),r7=Ht({type:T.literal("column"),name:T.string()}),N5=Ht({type:T.literal("static"),anchor:T.union(T.literal("authData"),T.literal("preMutationRow")),field:T.union(T.string(),T.array(T.string()))}),a7=T.union(k5,r7,N5),o7=Ht({type:T.literal("simple"),op:s7,left:a7,right:T.union(N5,k5)}),l7=T.union(T.literal("EXISTS"),T.literal("NOT EXISTS")),u7=Ht({type:T.literal("correlatedSubquery"),related:T.lazy(()=>A5),op:l7}),Rw=T.union(o7,T.lazy(()=>c7),T.lazy(()=>f7),u7),c7=Ht({type:T.literal("and"),conditions:$r(Rw)}),f7=Ht({type:T.literal("or"),conditions:$r(Rw)}),G_=T.tuple([T.string()]).concat(T.array(T.string())),d7=Ht({parentField:G_,childField:G_}),h7=Ht({correlation:d7,hidden:T.boolean().optional(),system:T.union(T.literal("permissions"),T.literal("client")).optional()}),A5=h7.extend({subquery:T.lazy(()=>z5)}),z5=Ht({schema:T.string().optional(),table:T.string(),alias:T.string().optional(),where:Rw.optional(),related:$r(A5).optional(),limit:T.number().optional(),orderBy:WB.optional(),start:T.object({row:Wh,exclusive:T.boolean()}).optional()}),q_=new WeakMap;function Mw(e){const t=q_.get(e);if(t)return t;const i=ub(e.where),r={schema:e.schema,table:e.table,alias:e.alias,where:i?j5(i):void 0,related:e.related?p7(e.related.map(o=>({correlation:o.correlation,hidden:o.hidden,subquery:Mw(o.subquery),system:o.system}))):void 0,start:e.start,limit:e.limit,orderBy:e.orderBy};return q_.set(e,r),r}function j5(e){return e.type==="simple"||e.type==="correlatedSubquery"?e:{type:e.type,conditions:e.conditions.map(t=>j5(t)).sort(L5)}}function p7(e){return e.sort(I5)}function L5(e,t){if(e.type==="simple")return t.type!=="simple"?-1:K_(e.left,t.left)||W0(e.op,t.op)||K_(e.right,t.right);if(t.type==="simple")return 1;if(e.type==="correlatedSubquery")return t.type!=="correlatedSubquery"?-1:I5(e.related,t.related)||W0(e.op,t.op);if(t.type==="correlatedSubquery")return-1;const i=W0(e.type,t.type);if(i!==0)return i;for(let r=0,o=0;r<e.conditions.length&&o<t.conditions.length;r++,o++){const u=L5(e.conditions[r],t.conditions[o]);if(u!==0)return u}return e.conditions.length-t.conditions.length}function K_(e,t){if(e.type!==t.type)return ti(e.type,t.type);switch(e.type){case"literal":return q(t.type==="literal"),ti(String(e.value),String(t.value));case"column":return q(t.type==="column"),ti(e.name,t.name);case"static":throw new Error("Static parameters should be resolved before normalization")}}function I5(e,t){return ti(Ft(e.subquery.alias),Ft(t.subquery.alias))}function ub(e){if(e===void 0)return;if(e.type==="simple"||e.type==="correlatedSubquery")return e;const t=QB(e.conditions.flatMap(i=>i.type===e.type?i.conditions.map(r=>ub(r)):ub(i)));switch(t.length){case 0:return;case 1:return t[0];default:return{type:e.type,conditions:t}}}function W0(e,t){return e!==null&&t!==null?ti(e,t):t!==null?-1:e!==null?1:0}var th,wD,H5=(wD=class{constructor(e){x(this,th);C(this,"and",U5);C(this,"or",m7);C(this,"not",cb);D(this,th,e),this.exists=this.exists.bind(this)}get eb(){return this}cmp(e,t,i){return B5(e,t,i)}cmpLit(e,t,i){return{type:"simple",left:fb(e)?e[jr]():{type:"literal",value:e},right:fb(i)?i[jr]():{type:"literal",value:i},op:t}}exists(e,t){return d(this,th).call(this,e,t)}},th=new WeakMap,wD);function U5(...e){const t=S7(F5(e));return t.length===1?t[0]:t.some(V5)?y7:{type:"and",conditions:t}}function m7(...e){const t=b7(F5(e));return t.length===1?t[0]:t.some($5)?P5:{type:"or",conditions:t}}function cb(e){switch(e.type){case"and":return{type:"or",conditions:e.conditions.map(cb)};case"or":return{type:"and",conditions:e.conditions.map(cb)};case"correlatedSubquery":return{type:"correlatedSubquery",related:e.related,op:Q_(e.op)};case"simple":return{type:"simple",op:Q_(e.op),left:e.left,right:e.right}}}function B5(e,t,i){let r;return i===void 0?(i=t,r="="):r=t,{type:"simple",left:{type:"column",name:e},right:fb(i)?i[jr]():{type:"literal",value:i},op:r}}function fb(e){return e!==null&&typeof e=="object"&&e[jr]}var P5={type:"and",conditions:[]},y7={type:"or",conditions:[]};function $5(e){return e.type==="and"&&e.conditions.length===0}function V5(e){return e.type==="or"&&e.conditions.length===0}function Ow(e,t){const i=[];for(const r of t)r.type===e?i.push(...r.conditions):i.push(r);return i}var g7={"=":"!=","!=":"=","<":">=",">":"<=",">=":"<","<=":">",IN:"NOT IN","NOT IN":"IN",LIKE:"NOT LIKE","NOT LIKE":"LIKE",ILIKE:"NOT ILIKE","NOT ILIKE":"ILIKE",IS:"IS NOT","IS NOT":"IS"},v7={...g7,EXISTS:"NOT EXISTS","NOT EXISTS":"EXISTS"};function Q_(e){return Ft(v7[e])}function F5(e){return e.filter(t=>t!==void 0)}function S7(e){return e.filter(t=>!$5(t))}function b7(e){return e.filter(t=>!V5(t))}var w7=e=>G5(e,2),x7=e=>G5(e,4);function G5(e,t){let i=0n;for(let r=0;r<t;r++)i=(i<<32n)+BigInt(qI(e,r));return i}var Y_=new WeakMap;function q5(e){const t=Mw(e),i=Y_.get(t);if(i)return i;const r=w7(JSON.stringify(t)).toString(36);return Y_.set(t,r),r}function J_(e){return e.length===1}function X_(e){return e.length===2}function K5(e){const{type:t}=e;return t==="child"?e.row:e.node.row}function kw(e,t){if(e=db(e),t=db(t),e===t)return 0;if(e===null)return-1;if(t===null)return 1;if(typeof e=="boolean")return F8(t),e?1:-1;if(typeof e=="number")return ni(t),e-t;if(typeof e=="string")return ut(t),ti(e,t);throw new Error(`Unsupported type: ${e}`)}function db(e){return e??null}function C7(e,t){return(i,r)=>{for(const o of e){const u=o[0],f=kw(i[u],r[u]);if(f!==0){const h=o[1]==="asc"?f:-f;return t?-h:h}}return 0}}function Q5(e,t){return e==null||t==null?!1:e===t}var uc={push(e){throw new Error("Output not set")}};function*Vm(e,t){if(t<1)return;let i=0;for(const r of e)if(yield r,++i===t)break}function ol(e){var r;const t=e[Symbol.iterator](),{value:i}=t.next();return(r=t.return)==null||r.call(t),i}var Rn,su,pi,Ia,ru,pr,ms,be,Fm,el,Cf,Ef,Gm,Y5,hb,J5,qm,Km,Qm,Ym,Jm,xD,E7=(xD=class{constructor(e,t,i,r,o){x(this,be);x(this,Rn);x(this,su);x(this,pi);x(this,Ia);x(this,ru);x(this,pr);x(this,ms,uc);D(this,Rn,e),D(this,su,i),d(this,Rn).setOutput(this),D(this,pi,t),q(d(this,Rn).getSchema().relationships[i]),D(this,Ia,o==="NOT EXISTS"),D(this,ru,r),D(this,pr,YB(r,d(this,Rn).getSchema().primaryKey))}setOutput(e){D(this,ms,e)}destroy(){d(this,Rn).destroy()}getSchema(){return d(this,Rn).getSchema()}*fetch(e){for(const t of d(this,Rn).fetch(e))O(this,be,Fm).call(this,t.row)&&(yield t)}*cleanup(e){for(const t of d(this,Rn).cleanup(e))O(this,be,Fm).call(this,t.row)&&(yield t),O(this,be,hb).call(this,t.row)}push(e){switch(e.type){case"add":case"edit":{O(this,be,el).call(this,e);return}case"remove":{const t=O(this,be,Cf).call(this,e.node.row);if(t===void 0)return;O(this,be,el).call(this,e,t),O(this,be,hb).call(this,e.node.row);return}case"child":if(e.child.relationshipName!==d(this,su)||e.child.change.type==="edit"||e.child.change.type==="child"){O(this,be,el).call(this,e);return}switch(e.child.change.type){case"add":{let t=O(this,be,Cf).call(this,e.row);if(t!==void 0?(t++,O(this,be,Gm).call(this,e.row,t),O(this,be,Ef).call(this,e.row,t)):t=O(this,be,qm).call(this,e.row),t===1){const i=d(this,Ia)?"remove":"add";i==="remove"&&d(this,ms).push(e),d(this,ms).push({type:i,node:O(this,be,Km).call(this,e.row)})}else O(this,be,el).call(this,e,t);return}case"remove":{let t=O(this,be,Cf).call(this,e.row);if(t!==void 0){if(t===0)return;t--,O(this,be,Gm).call(this,e.row,t),O(this,be,Ef).call(this,e.row,t)}else t=O(this,be,qm).call(this,e.row);if(t===0){const i=d(this,Ia)?"add":"remove";i==="remove"&&d(this,ms).push(e),d(this,ms).push({type:i,node:O(this,be,Km).call(this,e.row)})}else O(this,be,el).call(this,e,t);return}}return;default:on()}}},Rn=new WeakMap,su=new WeakMap,pi=new WeakMap,Ia=new WeakMap,ru=new WeakMap,pr=new WeakMap,ms=new WeakMap,be=new WeakSet,Fm=function(e,t){const i=(t??O(this,be,J5).call(this,e))>0;return d(this,Ia)?!i:i},el=function(e,t){const i=K5(e);O(this,be,Fm).call(this,i,t)&&d(this,ms).push(e)},Cf=function(e){return d(this,pi).get(O(this,be,Ym).call(this,e))},Ef=function(e,t){d(this,pi).set(O(this,be,Ym).call(this,e),t)},Gm=function(e,t){d(this,pr)||d(this,pi).set(O(this,be,Qm).call(this,e),t)},Y5=function(e){if(!d(this,pr))return d(this,pi).get(O(this,be,Qm).call(this,e))},hb=function(e){if(d(this,pi).del(O(this,be,Ym).call(this,e)),!d(this,pr)){const t=O(this,be,Qm).call(this,e);ol(d(this,pi).scan({prefix:`${t}/`}))===void 0&&d(this,pi).del(t)}},J5=function(e){const t=O(this,be,Cf).call(this,e);return t!==void 0?t:O(this,be,qm).call(this,e)},qm=function(e){const t=O(this,be,Y5).call(this,e);if(t!==void 0)return O(this,be,Ef).call(this,e,t),t;const i=O(this,be,Km).call(this,e).relationships[d(this,su)];q(i);let r=0;for(const o of i)r++;return O(this,be,Gm).call(this,e,r),O(this,be,Ef).call(this,e,r),r},Km=function(e){const t=Ft(ol(d(this,Rn).fetch({start:{row:e,basis:"at"}})));return q(this.getSchema().compareRows(e,t.row)===0,()=>`fetchNodeForRow returned unexpected row, expected ${JSON.stringify(e)}, received ${JSON.stringify(t.row)}`),t},Qm=function(e){return`row/${JSON.stringify(O(this,be,Jm).call(this,e,d(this,ru)))}`},Ym=function(e){return`row/${d(this,pr)?"":JSON.stringify(O(this,be,Jm).call(this,e,d(this,ru)))}/${JSON.stringify(O(this,be,Jm).call(this,e,d(this,Rn).getSchema().primaryKey))}`},Jm=function(e,t){const i=[];for(const r of t)i.push(db(e[r]));return i},xD),au,nh,Ha,ih,sh,pb,CD,_7=(CD=class{constructor(e,t){x(this,sh);x(this,au);x(this,nh);x(this,Ha);x(this,ih,uc);D(this,au,t),D(this,Ha,e.getSchema()),D(this,nh,e);for(const i of t)i.setOutput(this),q(d(this,Ha)===i.getSchema(),"Schema mismatch in fan-in")}setOutput(e){D(this,ih,e)}destroy(){for(const e of d(this,au))e.destroy()}getSchema(){return d(this,Ha)}fetch(e){return O(this,sh,pb).call(this,t=>t.fetch(e))}cleanup(e){return O(this,sh,pb).call(this,t=>t.cleanup(e))}push(e){d(this,nh).onFanInReceivedPush(),d(this,ih).push(e)}},au=new WeakMap,nh=new WeakMap,Ha=new WeakMap,ih=new WeakMap,sh=new WeakSet,pb=function*(e){const t=d(this,au).map(i=>e(i));yield*kH(t,(i,r)=>Ft(d(this,Ha)).compareRows(i.row,r.row),!0)},CD),mr,ou,lu,uu,ED,D7=(ED=class{constructor(e){x(this,mr);x(this,ou,[]);x(this,lu,!1);x(this,uu,0);D(this,mr,e),e.setOutput(this)}setOutput(e){d(this,ou).push(e)}destroy(){if(d(this,uu)<d(this,ou).length)d(this,uu)===0&&d(this,mr).destroy(),++fa(this,uu)._;else throw new Error("FanOut already destroyed once for each output")}getSchema(){return d(this,mr).getSchema()}fetch(e){return d(this,mr).fetch(e)}cleanup(e){return d(this,mr).cleanup(e)}onFanInReceivedPush(){D(this,lu,!0)}push(e){D(this,lu,!1);for(const t of d(this,ou))if(t.push(e),d(this,lu))return}},mr=new WeakMap,ou=new WeakMap,lu=new WeakMap,uu=new WeakMap,ED);function X5(e,t,i){const r=t(e.oldNode.row),o=t(e.node.row);r&&o?i.push(e):r&&!o?i.push({type:"remove",node:e.oldNode}):!r&&o&&i.push({type:"add",node:e.node})}function Z5(e,t,i){if(!i){t.push(e);return}switch(e.type){case"add":case"remove":i(e.node.row)&&t.push(e);break;case"child":i(e.row)&&t.push(e);break;case"edit":X5(e,i,t);break;default:on()}}var yr,cu,rh,ah,yb,_D,mb=(_D=class{constructor(e,t){x(this,ah);x(this,yr);x(this,cu);x(this,rh,uc);D(this,yr,e),D(this,cu,t),e.setOutput(this)}setOutput(e){D(this,rh,e)}destroy(){d(this,yr).destroy()}getSchema(){return d(this,yr).getSchema()}fetch(e){return O(this,ah,yb).call(this,d(this,yr).fetch(e))}cleanup(e){return O(this,ah,yb).call(this,d(this,yr).cleanup(e))}push(e){Z5(e,d(this,rh),d(this,cu))}},yr=new WeakMap,cu=new WeakMap,rh=new WeakMap,ah=new WeakSet,yb=function*(e){for(const t of e)d(this,cu).call(this,t.row)&&(yield t)},_D),ys,fu,Ua,gs,Ba,du,oh,vs,sn,Xm,W5,pa,DD,T7=(DD=class{constructor({parent:e,child:t,storage:i,parentKey:r,childKey:o,relationshipName:u,hidden:f,system:h}){x(this,sn);x(this,ys);x(this,fu);x(this,Ua);x(this,gs);x(this,Ba);x(this,du);x(this,oh);x(this,vs,uc);q(e!==t,"Parent and child must be different operators"),q(r.length===o.length,"The parentKey and childKey keys must have same length"),D(this,ys,e),D(this,fu,t),D(this,Ua,i),D(this,gs,r),D(this,Ba,o),D(this,du,u);const m=e.getSchema(),y=t.getSchema();D(this,oh,{...m,isHidden:f,relationships:{...m.relationships,[u]:{...y,system:h}}}),e.setOutput({push:g=>O(this,sn,Xm).call(this,g)}),t.setOutput({push:g=>O(this,sn,W5).call(this,g)})}destroy(){d(this,ys).destroy(),d(this,fu).destroy()}setOutput(e){D(this,vs,e)}getSchema(){return d(this,oh)}*fetch(e){for(const t of d(this,ys).fetch(e))yield O(this,sn,pa).call(this,t.row,t.relationships,"fetch")}*cleanup(e){for(const t of d(this,ys).cleanup(e))yield O(this,sn,pa).call(this,t.row,t.relationships,"cleanup")}},ys=new WeakMap,fu=new WeakMap,Ua=new WeakMap,gs=new WeakMap,Ba=new WeakMap,du=new WeakMap,oh=new WeakMap,vs=new WeakMap,sn=new WeakSet,Xm=function(e){switch(e.type){case"add":d(this,vs).push({type:"add",node:O(this,sn,pa).call(this,e.node.row,e.node.relationships,"fetch")});break;case"remove":d(this,vs).push({type:"remove",node:O(this,sn,pa).call(this,e.node.row,e.node.relationships,"cleanup")});break;case"child":d(this,vs).push(e);break;case"edit":{Z_(e.oldNode.row,e.node.row,d(this,gs))?d(this,vs).push({type:"edit",oldNode:O(this,sn,pa).call(this,e.oldNode.row,e.oldNode.relationships,"cleanup"),node:O(this,sn,pa).call(this,e.node.row,e.node.relationships,"fetch")}):(O(this,sn,Xm).call(this,{type:"remove",node:e.oldNode}),O(this,sn,Xm).call(this,{type:"add",node:e.node}));break}default:on()}},W5=function(e){const t=(i,r)=>{const o=d(this,ys).fetch({constraint:Object.fromEntries(d(this,gs).map((u,f)=>[u,i[d(this,Ba)[f]]]))});for(const u of o){const f={type:"child",row:u.row,child:{relationshipName:d(this,du),change:r}};d(this,vs).push(f)}};switch(e.type){case"add":case"remove":t(e.node.row,e);break;case"child":t(e.row,e);break;case"edit":{const i=e.node.row,r=e.oldNode.row;Z_(r,i,d(this,Ba))?t(i,e):(t(r,{type:"remove",node:e.oldNode}),t(i,{type:"add",node:e.node}));break}default:on()}},pa=function(e,t,i){const r=M7(d(this,gs),d(this,ys).getSchema().primaryKey,e);let o=i;if(i==="cleanup"){const[,f]=Vm(d(this,Ua).scan({prefix:R7(e,d(this,gs))}),2);o=f?"fetch":"cleanup"}const u=d(this,fu)[o]({constraint:Object.fromEntries(d(this,Ba).map((f,h)=>[f,e[d(this,gs)[h]]]))});return i==="fetch"?d(this,Ua).set(r,!0):d(this,Ua).del(r),{row:e,relationships:{...t,[d(this,du)]:u}}},DD);function e3(e){const t=JSON.stringify(["pKeySet",...e]);return t.substring(1,t.length-1)+","}function R7(e,t){return e3(t.map(i=>e[i]))}function M7(e,t,i){const r=e.map(o=>i[o]);for(const o of t)r.push(i[o]);return e3(r)}function Z_(e,t,i){for(let r=0;r<i.length;r++)if(!Q5(e[i[r]],t[i[r]]))return!1;return!0}var Pa,Jn,hu,pu,$i,gb,vb,t3,TD,O7=(TD=class{constructor(e,t){x(this,$i);x(this,Pa);x(this,Jn);x(this,hu);x(this,pu,uc);D(this,Pa,e),D(this,Jn,t),D(this,hu,e.getSchema().compareRows),e.setOutput(this)}getSchema(){return d(this,Pa).getSchema()}fetch(e){return O(this,$i,gb).call(this,"fetch",e)}cleanup(e){return O(this,$i,gb).call(this,"fetch",e)}setOutput(e){D(this,pu,e)}destroy(){d(this,Pa).destroy()}push(e){const t=r=>O(this,$i,vb).call(this,r);if(e.type==="edit"){X5(e,t,d(this,pu));return}const i=e.type==="child"?e.row:e.node.row;t(i)&&d(this,pu).push(e)}},Pa=new WeakMap,Jn=new WeakMap,hu=new WeakMap,pu=new WeakMap,$i=new WeakSet,gb=function*(e,t){const i=O(this,$i,t3).call(this,t);if(i==="empty")return;const r=d(this,Pa)[e]({...t,start:i});if(!t.reverse){yield*r;return}for(const o of r){if(!O(this,$i,vb).call(this,o.row))return;yield o}},vb=function(e){const t=d(this,hu).call(this,d(this,Jn).row,e);return t<0||t===0&&!d(this,Jn).exclusive},t3=function(e){const t={row:d(this,Jn).row,basis:d(this,Jn).exclusive?"after":"at"};if(!e.start)return e.reverse?void 0:t;const i=d(this,hu).call(this,d(this,Jn).row,e.start.row);return e.reverse?(e.reverse,i>0?"empty":i===0?!d(this,Jn).exclusive&&e.start.basis==="at"?t:"empty":e.start):i>0?t:i===0?d(this,Jn).exclusive||e.start.basis==="after"?{row:d(this,Jn).row,basis:"after"}:t:e.start},TD),bm="maxBound",Dt,pn,ki,en,mu,ft,gt,n3,Sb,i3,li,RD,k7=(RD=class{constructor(e,t,i,r){x(this,gt);x(this,Dt);x(this,pn);x(this,ki);x(this,en);x(this,mu);x(this,ft,uc);q(i>=0),bb(e.getSchema().sort,e.getSchema().primaryKey),e.setOutput(this),D(this,Dt,e),D(this,pn,t),D(this,ki,i),D(this,en,r),D(this,mu,r&&N7(r))}setOutput(e){D(this,ft,e)}getSchema(){return d(this,Dt).getSchema()}*fetch(e){if(!d(this,en)||e.constraint&&eS(e.constraint,d(this,en))){const i=mf(d(this,en),e.constraint),r=d(this,pn).get(i);if(!r){yield*O(this,gt,n3).call(this,e);return}if(r.bound===void 0)return;for(const o of d(this,Dt).fetch(e)){if(this.getSchema().compareRows(r.bound,o.row)<0)return;yield o}return}const t=d(this,pn).get(bm);if(t!==void 0)for(const i of d(this,Dt).fetch(e)){if(this.getSchema().compareRows(i.row,t)>0)return;const r=mf(d(this,en),i.row),o=d(this,pn).get(r);(o==null?void 0:o.bound)!==void 0&&this.getSchema().compareRows(o.bound,i.row)>=0&&(yield i)}}*cleanup(e){q(e.start===void 0),q(eS(e.constraint,d(this,en)));const t=mf(d(this,en),e.constraint);d(this,pn).del(t);let i=0;for(const r of d(this,Dt).cleanup(e)){if(i===d(this,ki))return;i++,yield r}}push(e){if(e.type==="edit"){O(this,gt,i3).call(this,e);return}const{takeState:t,takeStateKey:i,maxBound:r,constraint:o}=O(this,gt,Sb).call(this,K5(e));if(!t)return;const{compareRows:u}=this.getSchema();if(e.type==="add"){if(t.size<d(this,ki)){O(this,gt,li).call(this,i,t.size+1,t.bound===void 0||u(t.bound,e.node.row)<0?e.node.row:t.bound,r),d(this,ft).push(e);return}if(t.bound===void 0||u(e.node.row,t.bound)>=0)return;let f,h;d(this,ki)===1?h=Ft(ol(d(this,Dt).fetch({start:{row:t.bound,basis:"at"},constraint:o}))):[h,f]=Vm(d(this,Dt).fetch({start:{row:t.bound,basis:"at"},constraint:o,reverse:!0}),2);const m={type:"remove",node:h};O(this,gt,li).call(this,i,t.size,f===void 0||u(e.node.row,f.row)>0?e.node.row:f.row,r),d(this,ft).push(m),d(this,ft).push(e)}else if(e.type==="remove"){if(t.bound===void 0||u(e.node.row,t.bound)>0)return;const[h]=Vm(d(this,Dt).fetch({start:{row:t.bound,basis:"after"},constraint:o,reverse:!0}),1);let m;if(h){const y=u(h.row,t.bound)>0;m={node:h,push:y}}if(!(m!=null&&m.push))for(const y of d(this,Dt).fetch({start:{row:t.bound,basis:"at"},constraint:o})){const g=u(y.row,t.bound)>0;if(m={node:y,push:g},g)break}if(m!=null&&m.push){O(this,gt,li).call(this,i,t.size,m.node.row,r),d(this,ft).push(e),d(this,ft).push({type:"add",node:m.node});return}O(this,gt,li).call(this,i,t.size-1,m==null?void 0:m.node.row,r),d(this,ft).push(e)}else e.type==="child"&&t.bound&&u(e.row,t.bound)<=0&&d(this,ft).push(e)}destroy(){d(this,Dt).destroy()}},Dt=new WeakMap,pn=new WeakMap,ki=new WeakMap,en=new WeakMap,mu=new WeakMap,ft=new WeakMap,gt=new WeakSet,n3=function*(e){if(q(e.start===void 0),q(!e.reverse),q(eS(e.constraint,d(this,en))),d(this,ki)===0)return;const t=mf(d(this,en),e.constraint);q(d(this,pn).get(t)===void 0);let i=0,r,o=!0,u=!1;try{for(const f of d(this,Dt).fetch(e))if(yield f,r=f.row,i++,i===d(this,ki))break;o=!1}catch(f){throw u=!0,f}finally{u||(O(this,gt,li).call(this,t,i,r,d(this,pn).get(bm)),q(!o,"Unexpected early return prevented full hydration"))}},Sb=function(e){const t=mf(d(this,en),e),i=d(this,pn).get(t);let r,o;return i&&(r=d(this,pn).get(bm),o=d(this,en)&&Object.fromEntries(d(this,en).map(u=>[u,e[u]]))),{takeState:i,takeStateKey:t,maxBound:r,constraint:o}},i3=function(e){if(d(this,mu)&&d(this,mu).call(this,e.oldNode.row,e.node.row)!==0){this.push({type:"remove",node:e.oldNode}),this.push({type:"add",node:e.node});return}const{takeState:t,takeStateKey:i,maxBound:r,constraint:o}=O(this,gt,Sb).call(this,e.oldNode.row);if(!t)return;q(t.bound,"Bound should be set");const{compareRows:u}=this.getSchema(),f=u(e.oldNode.row,t.bound),h=u(e.node.row,t.bound),m=()=>{O(this,gt,li).call(this,i,t.size,e.node.row,r),d(this,ft).push(e)};if(f===0){if(h===0){d(this,ft).push(e);return}if(h<0){if(d(this,ki)===1){m();return}const g=Ft(ol(d(this,Dt).fetch({start:{row:t.bound,basis:"after"},constraint:o,reverse:!0})));O(this,gt,li).call(this,i,t.size,g.row,r),d(this,ft).push(e);return}q(h>0);const y=Ft(ol(d(this,Dt).fetch({start:{row:t.bound,basis:"at"},constraint:o})));if(u(y.row,e.node.row)===0){m();return}O(this,gt,li).call(this,i,t.size,y.row,r),d(this,ft).push({type:"remove",node:e.oldNode}),d(this,ft).push({type:"add",node:y});return}if(f>0){if(q(h!==0,"Invalid state. Row has duplicate primary key"),h>0)return;q(h<0);const[y,g]=Vm(d(this,Dt).fetch({start:{row:t.bound,basis:"at"},constraint:o,reverse:!0}),2);O(this,gt,li).call(this,i,t.size,g.row,r),d(this,ft).push({type:"remove",node:y}),d(this,ft).push({type:"add",node:e.node});return}if(f<0){if(q(h!==0,"Invalid state. Row has duplicate primary key"),h<0){d(this,ft).push(e);return}q(h>0);const y=Ft(ol(d(this,Dt).fetch({start:{row:t.bound,basis:"after"},constraint:o})));if(u(y.row,e.node.row)===0){m();return}O(this,gt,li).call(this,i,t.size,y.row,r),d(this,ft).push({type:"remove",node:e.oldNode}),d(this,ft).push({type:"add",node:y});return}on()},li=function(e,t,i,r){d(this,pn).set(e,{size:t,bound:i}),i!==void 0&&(r===void 0||this.getSchema().compareRows(i,r)>0)&&d(this,pn).set(bm,i)},RD);function mf(e,t){const i=[];if(e&&t)for(const r of e)i.push(t[r]);return JSON.stringify(["take",...i])}function eS(e,t){if(e===void 0||t===void 0)return e===t;if(t.length!==Object.keys(e).length)return!1;for(const i of t)if(!Ir(e,i))return!1;return!0}function N7(e){return(t,i)=>{for(const r of e){const o=kw(t[r],i[r]);if(o!==0)return o}return 0}}function wm(e,t){const i=A7(String(e),t);return r=>(ut(r),i(String(r)))}function A7(e,t){if(!/_|%|\\/.test(e)){if(t==="i"){const r=e.toLowerCase();return o=>o.toLowerCase()===r}return r=>r===e}const i=j7(e,t);return r=>i.test(r)}var z7=/[$()*+.?[\]\\^{|}]/;function j7(e,t=""){let i="^";for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"%":i+=".*";break;case"_":i+=".";break;case"\\":if(r===e.length-1)throw new Error("LIKE pattern must not end with escape character");r++,o=e[r];default:z7.test(o)&&(i+="\\"),i+=o;break}}return new RegExp(i+"$",t+"m")}function Vf(e){if(e.type!=="simple"){const o=e.conditions.map(u=>Vf(u));return e.type==="and"?u=>{for(const f of o)if(!f(u))return!1;return!0}:u=>{for(const f of o)if(f(u))return!0;return!1}}const{left:t}=e,{right:i}=e;switch(q(i.type!=="static","static values should be resolved before creating predicates"),q(t.type!=="static","static values should be resolved before creating predicates"),e.op){case"IS":case"IS NOT":{const o=L7(i.value,e.op);if(t.type==="literal"){const u=o(t.value);return()=>u}return u=>o(u[t.name])}}if(i.value===null||i.value===void 0)return o=>!1;const r=I7(i.value,e.op);if(t.type==="literal"){if(t.value===null||t.value===void 0)return u=>!1;const o=r(t.value);return()=>o}return o=>{const u=o[t.name];return u==null?!1:r(u)}}function L7(e,t){switch(t){case"IS":return i=>i===e;case"IS NOT":return i=>i!==e}}function I7(e,t){switch(t){case"=":return i=>i===e;case"!=":return i=>i!==e;case"<":return i=>i<e;case"<=":return i=>i<=e;case">":return i=>i>e;case">=":return i=>i>=e;case"LIKE":return wm(e,"");case"NOT LIKE":return W_(wm(e,""));case"ILIKE":return wm(e,"i");case"NOT ILIKE":return W_(wm(e,"i"));case"IN":{q(Array.isArray(e));const i=new Set(e);return r=>i.has(r)}case"NOT IN":{q(Array.isArray(e));const i=new Set(e);return r=>!i.has(r)}default:throw new Error(`Unexpected operator: ${t}`)}}function W_(e){return t=>!e(t)}function s3(e){if(!e)return{filters:void 0,conditionsRemoved:!1};switch(e.type){case"simple":return{filters:e,conditionsRemoved:!1};case"correlatedSubquery":return{filters:void 0,conditionsRemoved:!0};case"and":{const t=[];for(const r of e.conditions)q(r.type==="simple"||r.type==="correlatedSubquery"),r.type==="simple"&&t.push(r);const i=t.length!==e.conditions.length;return t.length===0?{filters:void 0,conditionsRemoved:i}:t.length===1?{filters:t[0],conditionsRemoved:i}:{filters:{type:"and",conditions:t},conditionsRemoved:i}}case"or":{const t=[];let i=!1;for(const r of e.conditions){q(r.type!=="or");const o=s3(r);if(o.filters===void 0)return{filters:void 0,conditionsRemoved:!0};i=i||o.conditionsRemoved,t.push(o.filters)}return{filters:{type:"or",conditions:t},conditionsRemoved:i}}default:on()}}function H7(e,t){return r3(e,t)}function r3(e,t,i){const r=t.getSource(e.table);if(!r)throw new Error(`Source not found: ${e.table}`);const o=r.connect(Ft(e.orderBy),e.where);let u=o;const{fullyAppliedFilters:f}=o;e=K7(e),e.start&&(u=new O7(u,e.start));for(const h of F7(e.where))u=e2(h,t,u);if(e.where&&!f&&(u=Nw(u,e.where,t)),e.limit&&(u=new k7(u,t.createStorage(),e.limit,i)),e.related)for(const h of e.related)u=e2(h,t,u);return u}function Nw(e,t,i){switch(t.type){case"and":return U7(e,t,i);case"or":return B7(e,t,i);case"correlatedSubquery":return V7(e,t,i);case"simple":return $7(e,t)}}function U7(e,t,i){for(const r of t.conditions)e=Nw(e,r,i);return e}function B7(e,t,i){const[r,o]=P7(t);if(r.length===0)return new mb(e,Vf({type:"or",conditions:o}));const u=new D7(e),f=r.map(h=>Nw(u,h,i));return o.length>0&&f.push(new mb(u,Vf({type:"or",conditions:o}))),new _7(u,f)}function P7(e){const t=[[],[]];for(const i of e.conditions)a3(i)?t[1].push(i):t[0].push(i);return t}function a3(e){return e.type==="correlatedSubquery"?!1:e.type==="and"?e.conditions.every(a3):(q(e.type!=="or","where conditions are expected to be in DNF"),!0)}function $7(e,t){return new mb(e,Vf(t))}function e2(e,t,i){q(e.subquery.alias,"Subquery must have an alias");const r=r3(e.subquery,t,e.correlation.childField);return i=new T7({parent:i,child:r,storage:t.createStorage(),parentKey:e.correlation.parentField,childKey:e.correlation.childField,relationshipName:e.subquery.alias,hidden:e.hidden??!1,system:e.system??"client"}),i}function V7(e,t,i){return q(t.op==="EXISTS"||t.op==="NOT EXISTS"),new E7(e,i.createStorage(),Ft(t.related.subquery.alias),t.related.correlation.parentField,t.op)}function F7(e){const t=[],i=r=>{if(r.type==="correlatedSubquery"){q(r.op==="EXISTS"||r.op==="NOT EXISTS"),t.push({...r.related,subquery:{...r.related.subquery,limit:r.related.system==="permissions"?q7:G7}});return}if(r.type==="and"||r.type==="or"){for(const o of r.conditions)i(o);return}};return e&&i(e),t}var G7=3,q7=1;function bb(e,t){const i=e.map(([o])=>o),r=t.filter(o=>!i.includes(o));if(r.length>0)throw new Error(`Ordering must include all primary key fields. Missing: ${r.join(", ")}. ZQL automatically appends primary key fields to the ordering if they are missing 
      so a common cause of this error is a casing mismatch between Postgres and ZQL.
      E.g., "userid" vs "userID".
      You may want to add double-quotes around your Postgres column names to prevent Postgres from lower-casing them:
      https://www.postgresql.org/docs/current/sql-syntax-lexical.htm`)}function K7(e){if(!e.where)return e;const{where:t}=e;if(t.type!=="and"&&t.type!=="or")return e;let i=0;const r=f=>({...f,related:{...f.related,subquery:{...f.related.subquery,alias:(f.related.subquery.alias??"")+"_"+i++}}}),o=f=>{const h=[];for(const m of f.conditions)m.type==="correlatedSubquery"?h.push(r(m)):h.push(m);return{...f,conditions:h}};if(t.type==="and")return{...e,where:o(t)};const u=[];for(const f of t.conditions)f.type==="simple"?u.push(f):f.type==="correlatedSubquery"?u.push(r(f)):f.type==="and"&&u.push(o(f));return{...e,where:{...t,conditions:u}}}var lh,$a,yu,gu,Va,Fa,vu,Vi,wb,xb,o3,MD,Q7=(MD=class{constructor(e,t={singular:!1,relationships:{}},i=!0){x(this,Vi);x(this,lh);x(this,$a,new Set);x(this,yu);x(this,gu);x(this,Va);C(this,"onDestroy");x(this,Fa,!1);x(this,vu,!1);D(this,lh,e),D(this,yu,e.getSchema()),D(this,gu,t),D(this,Va,{"":t.singular?void 0:[]}),e.setOutput(this),i===!0?D(this,vu,!0):i.then(()=>{D(this,vu,!0),O(this,Vi,wb).call(this)}),O(this,Vi,o3).call(this)}get data(){return d(this,Va)[""]}addListener(e){return q(!d(this,$a).has(e),"Listener already registered"),d(this,$a).add(e),O(this,Vi,xb).call(this,e),()=>{d(this,$a).delete(e)}}destroy(){var e;(e=this.onDestroy)==null||e.call(this)}push(e){D(this,Fa,!0),sl(d(this,Va),e,d(this,yu),"",d(this,gu))}flush(){d(this,Fa)&&(D(this,Fa,!1),O(this,Vi,wb).call(this))}},lh=new WeakMap,$a=new WeakMap,yu=new WeakMap,gu=new WeakMap,Va=new WeakMap,Fa=new WeakMap,vu=new WeakMap,Vi=new WeakSet,wb=function(){for(const e of d(this,$a))O(this,Vi,xb).call(this,e)},xb=function(e){e(this.data,d(this,vu)?"complete":"unknown")},o3=function(){D(this,Fa,!0);for(const e of d(this,lh).fetch({}))sl(d(this,Va),{type:"add",node:e},d(this,yu),"",d(this,gu));this.flush()},MD);function Y7(e){return Eb(Cb(e))}function Cb(e){switch(e.type){case"simple":case"correlatedSubquery":return{type:"or",conditions:[e]};case"and":return J7(e.conditions.map(Cb));case"or":return{type:"or",conditions:Ow("or",e.conditions.map(Cb).flatMap(t=>t.conditions))};default:on()}}function J7(e){return e.length===0?{type:"or",conditions:[P5]}:e.reduce((t,i)=>{const r=[];for(const o of t.conditions)for(const u of i.conditions)r.push({type:"and",conditions:[o,u]});return{type:"or",conditions:Ow("or",r)}})}function Eb(e){return e.type==="simple"||e.type==="correlatedSubquery"?e:e.conditions.length===1?Eb(e.conditions[0]):{type:e.type,conditions:Ow(e.type,e.conditions.map(Eb))}}function X7(e,t,i){return new u3(e,t,i)}function Z7(e,t,i,r,o){return new u3(e,t,i,r,o)}function W7(e,t){return{type:"static",anchor:e,field:t.length===1?t[0]:t}}var yf="zsubq_",Ye,Je,tn,Vt,Su,Ga,OD,l3=(OD=class{constructor(e,t,i,r){x(this,Ye);x(this,Je);x(this,tn);x(this,Vt);x(this,Su,"");C(this,"_exists",(e,t=i=>i)=>{const i=d(this,Je).relationships[d(this,tn)][e];if(q(i,"Invalid relationship"),J_(i)){const{destSchema:r,sourceField:o,destField:u}=i[0];q(Kn(o),"Invalid relationship"),q(Kn(u),"Invalid relationship");const f=t(this._newQuery(d(this,Je),r,{table:r,alias:`${yf}${e}`},void 0));return{type:"correlatedSubquery",related:{system:this._system,correlation:{parentField:o,childField:u},subquery:xm(d(this,Je).tables[r],d(f,Ye))},op:"EXISTS"}}if(X_(i)){q(i.length===2,"Invalid relationship");const[r,o]=i;q(Kn(r.sourceField),"Invalid relationship"),q(Kn(r.destField),"Invalid relationship"),q(Kn(o.sourceField),"Invalid relationship"),q(Kn(o.destField),"Invalid relationship");const{destSchema:u}=o,f=r.destSchema,h=t(this._newQuery(d(this,Je),u,{table:u,alias:`${yf}${e}`},void 0));return{type:"correlatedSubquery",related:{system:this._system,correlation:{parentField:r.sourceField,childField:r.destField},subquery:{table:f,alias:`${yf}${e}`,orderBy:_f(d(this,Je).tables[f],void 0),where:{type:"correlatedSubquery",related:{system:this._system,correlation:{parentField:o.sourceField,childField:o.destField},subquery:xm(d(this,Je).tables[u],d(h,Ye))},op:"EXISTS"}}},op:"EXISTS"}}throw new Error(`Invalid relationship ${e}`)});x(this,Ga);D(this,Ye,i),D(this,Vt,r??{singular:!1,relationships:{}}),D(this,Je,e),D(this,tn,t)}get format(){return d(this,Vt)}hash(){if(!d(this,Su)){const e=this._completeAst(),t=q5(e);D(this,Su,t)}return d(this,Su)}one(){return this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),limit:1},{...d(this,Vt),singular:!0})}whereExists(e,t){return this.where(({exists:i})=>i(e,t))}related(e,t){if(e.startsWith(yf))throw new Error(`Relationship names may not start with "${yf}". That is a reserved prefix.`);t=t??(r=>r);const i=d(this,Je).relationships[d(this,tn)][e];if(q(i,"Invalid relationship"),J_(i)){const{destSchema:r,destField:o,sourceField:u,cardinality:f}=i[0],h=t(this._newQuery(d(this,Je),r,{table:r,alias:e},{relationships:{},singular:f==="one"}));return q(Kn(u),"The source of a relationship must specify at last 1 field"),q(Kn(o),"The destination of a relationship must specify at last 1 field"),q(u.length===o.length,"The source and destination of a relationship must have the same number of fields"),this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),related:[...d(this,Ye).related??[],{system:this._system,correlation:{parentField:u,childField:o},subquery:xm(d(this,Je).tables[r],d(h,Ye))}]},{...d(this,Vt),relationships:{...d(this,Vt).relationships,[e]:d(h,Vt)}})}if(X_(i)){q(i.length===2,"Invalid relationship");const[r,o]=i,{destSchema:u}=o,f=r.destSchema,h=t(this._newQuery(d(this,Je),u,{table:u,alias:e},{relationships:{},singular:o.cardinality==="one"}));return q(Kn(r.sourceField),"Invalid relationship"),q(Kn(r.destField),"Invalid relationship"),q(Kn(o.sourceField),"Invalid relationship"),q(Kn(o.destField),"Invalid relationship"),this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),related:[...d(this,Ye).related??[],{system:this._system,correlation:{parentField:r.sourceField,childField:r.destField},subquery:{table:f,alias:e,orderBy:_f(d(this,Je).tables[f],void 0),related:[{system:this._system,correlation:{parentField:o.sourceField,childField:o.destField},hidden:!0,subquery:xm(d(this,Je).tables[u],d(h,Ye))}]}}]},{...d(this,Vt),relationships:{...d(this,Vt).relationships,[e]:d(h,Vt)}})}throw new Error(`Invalid relationship ${e}`)}where(e,t,i){let r;typeof e=="function"?r=e(new H5(this._exists)):(q(t!==void 0,"Invalid condition"),r=B5(e,t,i));const o=d(this,Ye).where;return o&&(r=U5(o,r)),this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),where:Y7(r)},d(this,Vt))}start(e,t){return this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),start:{row:e,exclusive:!(t!=null&&t.inclusive)}},d(this,Vt))}limit(e){if(e<0)throw new Error("Limit must be non-negative");if((e|0)!==e)throw new Error("Limit must be an integer");return this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),limit:e},d(this,Vt))}orderBy(e,t){return this._newQuery(d(this,Je),d(this,tn),{...d(this,Ye),orderBy:[...d(this,Ye).orderBy??[],[e,t]]},d(this,Vt))}_completeAst(){if(!d(this,Ga)){const e=_f(d(this,Je).tables[d(this,tn)],d(this,Ye).orderBy);if(d(this,Ye).start){const{row:t}=d(this,Ye).start,i={};for(const[r]of e)i[r]=t[r];D(this,Ga,{...d(this,Ye),start:{...d(this,Ye).start,row:i},orderBy:e})}else D(this,Ga,{...d(this,Ye),orderBy:_f(d(this,Je).tables[d(this,tn)],d(this,Ye).orderBy)})}return d(this,Ga)}},Ye=new WeakMap,Je=new WeakMap,tn=new WeakMap,Vt=new WeakMap,Su=new WeakMap,Ga=new WeakMap,OD),eP=Symbol(),tP=Symbol(),Ni,uh,kD,u3=(kD=class extends l3{constructor(t,i,r,o={table:r},u){super(i,r,o,u);x(this,Ni);x(this,uh);C(this,"_system","client");D(this,Ni,t),D(this,uh,o)}get[eP](){return d(this,uh)}get[tP](){return this._completeAst()}_newQuery(t,i,r,o){return Z7(d(this,Ni),t,i,r,o)}materialize(t){const i=this._completeAst(),r=Ue();let o=!1;const u=d(this,Ni).addServerQuery(i,g=>{g&&(o=!0,r.resolve(!0))}),f=H7(i,d(this,Ni));let h;const m=()=>{f.destroy(),h==null||h(),u()};return d(this,Ni).batchViewUpdates(()=>(t??nP)(this,f,this.format,m,g=>{h=d(this,Ni).onTransactionCommit(g)},o||r.promise))}run(){const t=this.materialize(),i=t.data;return t.destroy(),i}preload(){const{resolve:t,promise:i}=Ue(),r=this._completeAst();return{cleanup:d(this,Ni).addServerQuery(r,u=>{u&&t()}),complete:i}}},Ni=new WeakMap,uh=new WeakMap,kD);function _f(e,t){t=t??[];const{primaryKey:i}=e,r=new Set(i);for(const[o]of t)r.delete(o);return r.size===0?t:[...t,...[...r].map(o=>[o,"asc"])]}function xm(e,t){return{...t,orderBy:_f(e,t.orderBy)}}function nP(e,t,i,r,o,u){const f=new Q7(t,i,u);return f.onDestroy=r,o(()=>{f.flush()}),f}function Kn(e){return Array.isArray(e)&&e.length>=1}var iP=class c3 extends l3{constructor(i,r,o={table:r},u){super(i,r,o,u);C(this,"_system","permissions")}expressionBuilder(){return new H5(this._exists)}_newQuery(i,r,o,u){return new c3(i,r,o,u)}get ast(){return this._completeAst()}materialize(){throw new Error("AuthQuery cannot be materialized")}run(){throw new Error("AuthQuery cannot be run")}preload(){throw new Error("AuthQuery cannot be preloaded")}},tS=[];async function sP(e,t){const i={};for(const o of Object.keys(e.tables))i[o]=new iP(e,o).expressionBuilder();const r=await t();return rP(r,i)}function rP(e,t){if(!e)return;const i={};for(const[r,o]of Object.entries(e))i[r]={row:aP(o.row,t[r]),cell:oP(o.cell,t[r])};return i}function aP(e,t){var i,r;if(e)return{select:Ui(e.select,t),insert:Ui(e.insert,t),update:{preMutation:Ui((i=e.update)==null?void 0:i.preMutation,t),postMutation:Ui((r=e.update)==null?void 0:r.postMutation,t)},delete:Ui(e.delete,t)}}function Ui(e,t){if(e)return e.map(i=>["allow",i(uP,t)])}function oP(e,t){var r,o;if(!e)return;const i={};for(const[u,f]of Object.entries(e))i[u]={select:Ui(f.select,t),insert:Ui(f.insert,t),update:{preMutation:Ui((r=f.update)==null?void 0:r.preMutation,t),postMutation:Ui((o=f.update)==null?void 0:o.postMutation,t)},delete:Ui(f.delete,t)};return i}var bu,ch,wu,lP=(wu=class{constructor(t,i){x(this,bu);x(this,ch);D(this,bu,t),D(this,ch,i)}get(t,i){if(i===jr)return t[jr];q(typeof i=="string");const r=[...d(this,ch),i];return new Proxy({[jr]:()=>W7(d(this,bu),r)},new wu(d(this,bu),r))}},bu=new WeakMap,ch=new WeakMap,wu);function f3(e){return new Proxy({[jr]:()=>{throw new Error("no JWT field specified")}},new lP(e,[]))}var uP=f3("authData");f3("preMutationRow");var d3="AuthInvalidated",h3="ClientNotFound",cP="InvalidConnectionRequest",p3="InvalidConnectionRequestBaseCookie",m3="InvalidConnectionRequestLastMutationID",fP="InvalidConnectionRequestClientDeleted",dP="InvalidMessage",hP="InvalidPush",pP="MutationFailed",y3="MutationRateLimited",g3="Rebalance",v3="Rehome",S3="Unauthorized",b3="VersionNotSupported",w3="SchemaVersionNotSupported",x3="ServerOverloaded",mP="Internal",yP=T.object({op:T.literal("put"),hash:T.string(),ast:z5}),gP=T.object({op:T.literal("del"),hash:T.string()}),vP=T.object({op:T.literal("clear")}),SP=T.union(yP,gP,vP),Cy=T.array(SP),bP=T.object({desiredQueriesPatch:Cy}),wP=T.tuple([T.literal("changeDesiredQueries"),bP]),xP=T.object({op:T.literal("put"),clientID:T.string()}),CP=T.object({op:T.literal("del"),clientID:T.string()}),EP=T.object({op:T.literal("clear")}),_P=T.union(xP,CP,EP),DP=T.array(_P),TP=T.object({wsid:T.string(),timestamp:T.number().optional()}),RP=T.tuple([T.literal("connected"),TP]),MP=T.object({desiredQueriesPatch:Cy}),OP=T.tuple([T.literal("initConnection"),MP]);function t2(e,t){return encodeURIComponent(btoa(JSON.stringify({initConnectionMessage:e,authToken:t})))}var kP=T.union(T.literal(d3),T.literal(h3),T.literal(cP),T.literal(p3),T.literal(m3),T.literal(fP),T.literal(dP),T.literal(hP),T.literal(y3),T.literal(pP),T.literal(S3),T.literal(b3),T.literal(w3),T.literal(mP)),NP=T.object({kind:kP,message:T.string()}),AP=T.union(T.literal(g3),T.literal(v3),T.literal(x3)),zP=T.object({kind:AP,message:T.string(),minBackoffMs:T.number().optional(),maxBackoffMs:T.number().optional(),reconnectParams:T.record(T.string()).optional()}),jP=T.union(NP,zP),LP=T.tuple([T.literal("error"),jP]),dg=T.tuple([T.string()]).concat(T.array(T.string())),_b=T.union(T.string(),T.number(),T.boolean()),Aw=Jh(_b),IP=T.object({op:T.literal("put"),tableName:T.string(),value:Wh}),HP=T.object({op:T.literal("update"),tableName:T.string(),id:Aw,merge:iU.optional(),constrain:T.array(T.string()).optional()}),UP=T.object({op:T.literal("del"),tableName:T.string(),id:Aw}),BP=T.object({op:T.literal("clear")}),PP=T.union(IP,HP,UP,BP),$P=T.array(PP),zw=T.string(),Ey=T.union(zw,T.null()),VP=T.object({pokeID:T.string(),baseCookie:Ey,cookie:zw,schemaVersions:T.object({minSupportedVersion:T.number(),maxSupportedVersion:T.number()}).optional(),timestamp:T.number().optional()}),FP=T.object({pokeID:T.string(),lastMutationIDChanges:T.record(T.number()).optional(),clientsPatch:DP.optional(),desiredQueriesPatches:T.record(Cy).optional(),gotQueriesPatch:Cy.optional(),rowsPatch:$P.optional()}),GP=T.object({pokeID:T.string(),cancel:T.boolean().optional()}),qP=T.tuple([T.literal("pokeStart"),VP]),KP=T.tuple([T.literal("pokePart"),FP]),QP=T.tuple([T.literal("pokeEnd"),GP]),YP=T.object({}),JP=T.tuple([T.literal("pong"),YP]),XP=T.object({clientGroupID:T.string(),cookie:Ey,requestID:T.string()}),ZP=T.object({cookie:zw,requestID:T.string(),lastMutationIDChanges:T.record(T.number())}),WP=T.tuple([T.literal("pull"),XP]),e$=T.tuple([T.literal("pull"),ZP]),t$=T.object({payload:T.string()}),n$=T.tuple([T.literal("warm"),t$]),i$=T.union(RP,n$,LP,JP,qP,KP,QP,e$),s$=T.object({}),r$=T.tuple([T.literal("ping"),s$]),C3="crud",E3="custom",jw="_zero_crud",a$=T.object({op:T.literal("insert"),tableName:T.string(),primaryKey:dg,value:Wh}),o$=T.object({op:T.literal("upsert"),tableName:T.string(),primaryKey:dg,value:Wh}),l$=T.object({op:T.literal("update"),tableName:T.string(),primaryKey:dg,value:Wh}),u$=T.object({op:T.literal("delete"),tableName:T.string(),primaryKey:dg,value:Aw}),c$=T.union(a$,o$,l$,u$),f$=T.object({ops:T.array(c$)}),d$=T.tuple([f$]),h$=T.object({type:T.literal(C3),id:T.number(),clientID:T.string(),name:T.literal(jw),args:d$,timestamp:T.number()}),p$=T.object({type:T.literal(E3),id:T.number(),clientID:T.string(),name:T.string(),args:T.array(ww),timestamp:T.number()}),m$=T.union(h$,p$),y$=T.object({clientGroupID:T.string(),mutations:T.array(m$),pushVersion:T.number(),schemaVersion:T.number(),timestamp:T.number(),requestID:T.string()}),g$=T.tuple([T.literal("push"),y$]),v$=T.object({clientIDs:T.array(T.string())}),S$=T.tuple([T.literal("deleteClients"),v$]);T.union(OP,r$,S$,wP,WP,g$);var Lw=4,b$=2;q(b$<Lw);function _3(e=21){return v5(new Uint8Array(e)).reduce((i,r)=>(r&=63,r<36?i+=r.toString(36):r<62?i+=(r-26).toString(36).toUpperCase():r>62?i+="-":i+="_",i),"")}function Jo(e,t){e.send(JSON.stringify(t))}var tr=0,Cm=1,gf=2,ma=32,dt,oo,D3,Tb,ND,Db=(ND=class{constructor(e,t){x(this,oo);x(this,dt,Zm);C(this,"size",0);C(this,"comparator");if(this.comparator=e,t)for(const i of t)this.add(i)}clear(){D(this,dt,Zm),this.size=0}get(e){return d(this,dt).get(e,this)}add(e){d(this,dt).isShared&&D(this,dt,d(this,dt).clone());const t=d(this,dt).set(e,this);return t===null?this:(D(this,dt,new w$([d(this,dt),t])),this)}has(e){return d(this,dt).has(e,this)}delete(e){return O(this,oo,D3).call(this,e)}keys(){return nS(d(this,dt),this.comparator,void 0,!0)}values(){return nS(d(this,dt),this.comparator,void 0,!0)}valuesFrom(e,t=!0){return nS(d(this,dt),this.comparator,e,t)}valuesReversed(){return n2(O(this,oo,Tb).call(this),d(this,dt),this.comparator,void 0,!0)}valuesFromReversed(e,t=!0){return n2(O(this,oo,Tb).call(this),d(this,dt),this.comparator,e,t)}[Symbol.iterator](){return this.keys()}},dt=new WeakMap,oo=new WeakSet,D3=function(e){let t=d(this,dt);t.isShared&&D(this,dt,t=t.clone());try{return t.delete(e,this)}finally{let i;for(;t.keys.length<=1&&t.isInternal();)i||(i=t.isShared),D(this,dt,t=t.keys.length===0?Zm:t.children[0]);i&&(t.isShared=!0)}},Tb=function(){return d(this,dt).maxKey()},ND);function nS(e,t,i,r){const o=Rb(i,e,t);if(o===void 0)return _y(()=>({done:!0,value:void 0}));let[u,f,h]=o,m=i===void 0?-1:vi(i,h.keys,0,t)-1;return!r&&m<h.keys.length&&t(h.keys[m+1],i)===0&&m++,_y(()=>{for(;;){if(++m<h.keys.length)return{done:!1,value:h.keys[m]};let y=-1;for(;;){if(++y>=u.length)return{done:!0,value:void 0};if(++f[y]<u[y].length)break}for(;y>0;y--)u[y-1]=u[y][f[y]].children,f[y-1]=0;h=u[0][f[0]],m=-1}})}function n2(e,t,i,r,o){if(r===void 0&&(r=e,r===void 0))return _y(()=>({done:!0,value:void 0}));let[u,f,h]=Rb(r,t,i)||Rb(e,t,i);q(!u[0]||h===u[0][f[0]]);let m=vi(r,h.keys,0,i);return o&&m<h.keys.length&&i(h.keys[m],r)<=0&&m++,_y(()=>{for(;;){if(--m>=0)return{done:!1,value:h.keys[m]};let y;for(y=-1;;){if(++y>=u.length)return{done:!0,value:void 0};if(--f[y]>=0)break}for(;y>0;y--)u[y-1]=u[y][f[y]].children,f[y-1]=u[y-1].length-1;h=u[0][f[0]],m=h.keys.length}})}function Rb(e,t,i){let r=t;const o=[],u=[];if(r.isInternal()){for(let f=0;r.isInternal();f++){if(o[f]=r.children,u[f]=e===void 0?0:vi(e,r.keys,0,i),u[f]>=o[f].length)return;r=o[f][u[f]]}o.reverse(),u.reverse()}return[o,u,r]}function _y(e){return{next:e,[Symbol.iterator](){return this}}}var T3=class Mb{constructor(t){C(this,"keys");C(this,"isShared");this.keys=t,this.isShared=void 0}isInternal(){return!1}maxKey(){return this.keys[this.keys.length-1]}minKey(){return this.keys[0]}clone(){return new Mb(this.keys.slice(0))}get(t,i){const r=vi(t,this.keys,-1,i.comparator);return r<0?void 0:this.keys[r]}has(t,i){const r=vi(t,this.keys,-1,i.comparator);return r>=0&&r<this.keys.length}set(t,i){let r=vi(t,this.keys,-1,i.comparator);if(r<0){if(r=~r,i.size++,this.keys.length<ma)return this.keys.splice(r,0,t),null;const o=this.splitOffRightSide();let u=this;return r>this.keys.length&&(r-=this.keys.length,u=o),u.keys.splice(r,0,t),o}return this.keys[r]=t,null}takeFromRight(t){this.keys.push(t.keys.shift())}takeFromLeft(t){this.keys.unshift(t.keys.pop())}splitOffRightSide(){const t=this.keys.length>>1,i=this.keys.splice(t);return new Mb(i)}delete(t,i){const r=i.comparator,o=vi(t,this.keys,-1,r),u=o+1;if(o<0)return!1;const{keys:f}=this;for(let h=o;h<u;h++){if(f[h]!==f[h]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in delete");return this.keys.splice(h,1),i.size--,!0}return!1}mergeSibling(t,i){this.keys.push(...t.keys)}},w$=class Ob extends T3{constructor(i,r){if(!r){r=[];for(let o=0;o<i.length;o++)r[o]=i[o].maxKey()}super(r);C(this,"children");this.children=i}isInternal(){return!0}clone(){const i=this.children.slice(0);for(let r=0;r<i.length;r++)i[r].isShared=!0;return new Ob(i,this.keys.slice(0))}minKey(){return this.children[0].minKey()}get(i,r){const o=vi(i,this.keys,0,r.comparator),{children:u}=this;return o<u.length?u[o].get(i,r):void 0}has(i,r){const o=vi(i,this.keys,0,r.comparator),{children:u}=this;return o<u.length?u[o].has(i,r):!1}set(i,r){const o=this.children,u=r.comparator;let f=Math.min(vi(i,this.keys,0,u),o.length-1),h=o[f];if(h.isShared&&(o[f]=h=h.clone()),h.keys.length>=ma){let v;f>0&&(v=o[f-1]).keys.length<ma&&u(h.keys[0],i)<0?(v.isShared&&(o[f-1]=v=v.clone()),v.takeFromRight(h),this.keys[f-1]=v.maxKey()):(v=o[f+1])!==void 0&&v.keys.length<ma&&u(h.maxKey(),i)<0&&(v.isShared&&(o[f+1]=v=v.clone()),v.takeFromLeft(h),this.keys[f]=o[f].maxKey())}const m=h.set(i,r);if(this.keys[f]=h.maxKey(),m===null)return null;if(this.keys.length<ma)return this.insert(f+1,m),null;const y=this.splitOffRightSide();let g=this;return u(m.maxKey(),this.maxKey())>0&&(g=y,f-=this.keys.length),g.insert(f+1,m),y}insert(i,r){this.children.splice(i,0,r),this.keys.splice(i,0,r.maxKey())}splitOffRightSide(){const i=this.children.length>>1;return new Ob(this.children.splice(i),this.keys.splice(i))}takeFromRight(i){this.keys.push(i.keys.shift()),this.children.push(i.children.shift())}takeFromLeft(i){this.keys.unshift(i.keys.pop()),this.children.unshift(i.children.pop())}delete(i,r){const o=r.comparator,{keys:u}=this,{children:f}=this;let h=vi(i,this.keys,0,o),m=h;const y=Math.min(h,u.length-1);if(m<=y)try{f[m].isShared&&(f[m]=f[m].clone());const g=f[m].delete(i,r);return u[m]=f[m].maxKey(),g}finally{const g=ma>>1;for(h>0&&h--,m=y;m>=h;m--)f[m].keys.length<=g&&(f[m].keys.length!==0?this.tryMerge(m,ma):(u.splice(m,1),f.splice(m,1)))}return!1}tryMerge(i,r){const{children:o}=this;return i>=0&&i+1<o.length&&o[i].keys.length+o[i+1].keys.length<=r?(o[i].isShared&&(o[i]=o[i].clone()),o[i].mergeSibling(o[i+1],r),o.splice(i+1,1),this.keys.splice(i+1,1),this.keys[i]=o[i].maxKey(),!0):!1}mergeSibling(i,r){const o=this.keys.length;this.keys.push(...i.keys);const u=i.children;if(this.children.push(...u),i.isShared&&!this.isShared)for(let f=0;f<u.length;f++)u[f].isShared=!0;this.tryMerge(o-1,r)}};function vi(e,t,i,r){let o=0,u=t.length,f=u>>1;for(;o<u;){const h=r(t[f],e);if(h<0)o=f+1;else if(h>0)u=f;else{if(h===0)return f;if(e===e)return t.length;throw new Error("NaN was used as a key")}f=o+u>>1}return f^i}var Zm=new T3([]);Zm.isShared=!0;function R3(e,t){for(const i in e)if(!Q5(t[i],e[i]))return!1;return!0}function x$(e,t){const i=Object.keys(e);if(i.length!==t.length)return!1;i.sort(Rk);for(let r=0;r<i.length;r++)if(i[r][0]!==t[r])return!1;return!0}var xu,Cu,Ai,Ss,mi,zi,gr,Kt,M3,O3,kb,k3,Nb,N3,AD,C$=(AD=class{constructor(e,t,i){x(this,Kt);x(this,xu);x(this,Cu);x(this,Ai);x(this,Ss);x(this,mi,new Map);x(this,zi,[]);x(this,gr);D(this,xu,e),D(this,Cu,t),D(this,Ai,i),D(this,Ss,i.map(o=>[o,"asc"]));const r=i2(d(this,Ss));d(this,mi).set(JSON.stringify(d(this,Ss)),{comparator:r,data:new Db(r),usedBy:new Set}),bb(d(this,Ss),d(this,Ai))}getSchemaInfo(){return{tableName:d(this,xu),columns:d(this,Cu),primaryKey:d(this,Ai)}}connect(e,t){const i=s3(t),r={getSchema:()=>u,fetch:f=>O(this,Kt,Nb).call(this,f,o),cleanup:f=>O(this,Kt,N3).call(this,f,o),setOutput:f=>{o.output=f},destroy:()=>{O(this,Kt,O3).call(this,r)},fullyAppliedFilters:!i.conditionsRemoved},o={input:r,output:void 0,sort:e,compareRows:C7(e),filters:i.filters?{condition:i.filters,predicate:Vf(i.filters)}:void 0},u=O(this,Kt,M3).call(this,o);return bb(e,d(this,Ai)),d(this,zi).push(o),r}getIndexKeys(){return[...d(this,mi).keys()]}push(e){for(const t of this.genPush(e));}*genPush(e){const t=O(this,Kt,kb).call(this),{data:i}=t;switch(e.type){case"add":q(!i.has(e.row),()=>`Row already exists ${JSON.stringify(e)}`);break;case"remove":q(i.has(e.row),()=>`Row not found ${JSON.stringify(e)}`);break;case"edit":q(i.has(e.oldRow),()=>`Row not found ${JSON.stringify(e)}`);break;default:on()}const r=e.type==="edit"?{type:e.type,oldNode:{row:e.oldRow,relationships:{}},node:{row:e.row,relationships:{}}}:{type:e.type,node:{row:e.row,relationships:{}}};for(const[o,{output:u,filters:f}]of d(this,zi).entries())u&&(D(this,gr,{outputIndex:o,change:e}),Z5(r,u,f==null?void 0:f.predicate),yield);D(this,gr,void 0);for(const{data:o}of d(this,mi).values())switch(e.type){case"add":{const u=o.add(e.row);q(u);break}case"remove":{const u=o.delete(e.row);q(u);break}case"edit":{const u=o.delete(e.oldRow);q(u),o.add(e.row);break}default:on()}}},xu=new WeakMap,Cu=new WeakMap,Ai=new WeakMap,Ss=new WeakMap,mi=new WeakMap,zi=new WeakMap,gr=new WeakMap,Kt=new WeakSet,M3=function(e){return{tableName:d(this,xu),columns:d(this,Cu),primaryKey:d(this,Ai),sort:e.sort,system:"client",relationships:{},isHidden:!1,compareRows:e.compareRows}},O3=function(e){const t=d(this,zi).findIndex(o=>o.input===e);q(t!==-1,"Connection not found");const i=d(this,zi)[t];d(this,zi).splice(t,1);const r=JSON.stringify(d(this,Ss));for(const[o,u]of d(this,mi))o!==r&&(u.usedBy.delete(i),u.usedBy.size===0&&d(this,mi).delete(o))},kb=function(){const e=d(this,mi).get(JSON.stringify(d(this,Ss)));return q(e,"Primary index not found"),e},k3=function(e,t){const i=JSON.stringify(e),r=d(this,mi).get(i);if(r)return r.usedBy.add(t),r;const o=i2(e),u=new Db(o);for(const h of O(this,Kt,kb).call(this).data)u.add(h);const f={comparator:o,data:u,usedBy:new Set([t])};return d(this,mi).set(i,f),f},Nb=function*(e,t){var A,z;let i;const r=d(this,zi).indexOf(t);q(r!==-1,"Output not found");const o=d(this,zi)[r],{sort:u}=o,f=[];if(e.constraint)for(const j of Object.keys(e.constraint))f.push([j,"asc"]);(d(this,Ai).length>1||!e.constraint||!x$(e.constraint,d(this,Ai)))&&f.push(...u);const h=O(this,Kt,k3).call(this,f,t),{data:m,comparator:y}=h,g=(j,U)=>y(j,U)*(e.reverse?-1:1);d(this,gr)&&r<=d(this,gr).outputIndex&&(i=d(this,gr));const v=(A=e.start)==null?void 0:A.row;let b;if(e.constraint){b={};for(const[j,U]of f)Ir(e.constraint,j)?b[j]=e.constraint[j]:e.reverse?b[j]=U==="asc"?Ty:Dy:b[j]=U==="asc"?Dy:Ty}else b=v;const E=T$(v,z$(m,b,e.reverse),e.constraint,i,g,(z=o.filters)==null?void 0:z.predicate),R=E$(D$(E,e.start,g),e.constraint);yield*o.filters?_$(R,o.filters.predicate):R},N3=function(e,t){return O(this,Kt,Nb).call(this,e,t)},AD);function*E$(e,t){for(const i of e){if(t&&!R3(t,i.row))break;yield i}}function*_$(e,t){for(const i of e)t(i.row)&&(yield i)}function*D$(e,t,i){if(!t){yield*e;return}let r=!1;for(const o of e)r||(t.basis==="at"?i(o.row,t.row)>=0&&(r=!0):t.basis==="after"&&i(o.row,t.row)>0&&(r=!0)),r&&(yield o)}function*T$(e,t,i,r,o,u){const f=R$(e,i,r,o,u);yield*N$(t,f,o)}function R$(e,t,i,r,o){let u={add:void 0,remove:void 0};switch(i==null?void 0:i.change.type){case"add":u={add:i.change.row,remove:void 0};break;case"remove":u={add:void 0,remove:i.change.row};break;case"edit":u={add:i.change.row,remove:i.change.oldRow};break}return e&&(u=M$(u,e,r)),t&&(u=O$(u,t)),o&&(u=k$(u,o)),u}function M$({add:e,remove:t},i,r){const o=u=>u===void 0||r(u,i)<0?void 0:u;return{add:o(e),remove:o(t)}}function O$({add:e,remove:t},i){const r=o=>o===void 0||!R3(i,o)?void 0:o;return{add:r(e),remove:r(t)}}function k$({add:e,remove:t},i){const r=o=>o===void 0||!i(o)?void 0:o;return{add:r(e),remove:r(t)}}function*N$(e,t,i){let r=!1,o=!1;for(const u of e){if(!r&&t.add&&i(t.add,u)<0&&(r=!0,yield{row:t.add,relationships:{}}),!o&&t.remove&&i(t.remove,u)===0){o=!0;continue}yield{row:u,relationships:{}}}!r&&t.add&&(yield{row:t.add,relationships:{}})}var Dy=Symbol("min-value"),Ty=Symbol("max-value");function i2(e){return(t,i)=>{for(const r of e){const o=r[0],u=A$(t[o],i[o]);if(u!==0)return r[1]==="asc"?u:-u}return 0}}function A$(e,t){return e===t?0:e===Dy?-1:t===Dy||e===Ty?1:t===Ty?-1:kw(e,t)}function*z$(e,t,i){yield*e[i?"valuesFromReversed":"valuesFrom"](t)}function j$(e,t){return ti(e[0],t[0])}var vr,zD,L$=(zD=class{constructor(){x(this,vr,new Db(j$))}set(e,t){d(this,vr).add([e,t])}get(e,t){const i=d(this,vr).get([e,null]);return i!==void 0?i[1]:t}del(e){d(this,vr).delete([e,null])}*scan(e){for(const t of d(this,vr).valuesFrom(e&&[e.prefix,null])){if(e&&!t[0].startsWith(e.prefix))return;yield t}}cloneData(){return structuredClone(Object.fromEntries(d(this,vr).values()))}},vr=new WeakMap,zD),I$="c/",A3="d/",Ab="g/",yl="e/";function s2(e){return I$+e}function H$(e,t){return A3+e+"/"+t}function U$(e){return A3+e+"/"}function B$(e){return Ab+e}function Za(e,t,i){if(t.length===1)return yl+e+"/"+Ar(i[t[0]],_b);const r=t.map(f=>Ar(i[f],_b)),o=JSON.stringify(r),u=x7(o);return yl+e+"/"+u}var Eu,fh,dh,hh,_u,Fy,z3,jD,P$=(jD=class{constructor(t,i,r){x(this,Fy);x(this,Eu,new Map);x(this,fh);x(this,dh);x(this,hh);x(this,_u,new Set);C(this,"staticQueryParameters");D(this,fh,t),D(this,dh,i),D(this,hh,r)}getSource(t){if(d(this,Eu).has(t))return d(this,Eu).get(t);const i=d(this,fh)[t],r=i?new C$(t,i.columns,i.primaryKey):void 0;return d(this,Eu).set(t,r),r}addServerQuery(t,i){return d(this,dh).call(this,t,i)}createStorage(){return new L$}onTransactionCommit(t){return d(this,_u).add(t),()=>{d(this,_u).delete(t)}}batchViewUpdates(t){let i,r=!1;return d(this,hh).call(this,()=>{i=t(),r=!0}),q(r,"batchViewUpdates must call applyViewUpdates synchronously."),i}processChanges(t){try{this.batchViewUpdates(()=>{for(const i of t){const{key:r}=i;q(r.startsWith(yl));const o=r.indexOf("/",yl.length),u=r.slice(yl.length,o),f=this.getSource(u);if(f)switch(i.op){case"del":q(typeof i.oldValue=="object"),f.push({type:"remove",row:i.oldValue});break;case"add":q(typeof i.newValue=="object"),f.push({type:"add",row:i.newValue});break;case"change":q(typeof i.newValue=="object"),q(typeof i.oldValue=="object"),f.push({type:"edit",row:i.newValue,oldRow:i.oldValue});break;default:on(i)}}})}finally{O(this,Fy,z3).call(this)}}},Eu=new WeakMap,fh=new WeakMap,dh=new WeakMap,hh=new WeakMap,_u=new WeakMap,Fy=new WeakSet,z3=function(){for(const t of d(this,_u))t()},jD);function $$(e,t){const{[jw]:i}=t;let r=!1;const o=async h=>{if(r)throw new Error("Cannot call mutate inside a batch");r=!0;try{const m=[],y={};for(const v of Object.keys(e.tables))y[v]=F$(v,e,m);const g=await h(y);return await i({ops:m}),g}finally{r=!1}},u=(h,m)=>{if(r)throw new Error(`Cannot call mutate.${h}.${m} inside a batch`)},f={};for(const[h,m]of Object.entries(e.tables))f[h]=V$(h,m.primaryKey,i,u);return{mutate:f,mutateBatch:o}}function V$(e,t,i,r){return{insert:o=>(r(e,"insert"),i({ops:[{op:"insert",tableName:e,primaryKey:t,value:o}]})),upsert:o=>(r(e,"upsert"),i({ops:[{op:"upsert",tableName:e,primaryKey:t,value:o}]})),update:o=>(r(e,"update"),i({ops:[{op:"update",tableName:e,primaryKey:t,value:o}]})),delete:o=>(r(e,"delete"),i({ops:[{op:"delete",tableName:e,primaryKey:t,value:o}]}))}}function F$(e,t,i){const{primaryKey:r}=t.tables[e];return{insert:o=>{const u={op:"insert",tableName:e,primaryKey:r,value:o};return i.push(u),rn},upsert:o=>{const u={op:"upsert",tableName:e,primaryKey:r,value:o};return i.push(u),rn},update:o=>{const u={op:"update",tableName:e,primaryKey:r,value:o};return i.push(u),rn},delete:o=>{const u={op:"delete",tableName:e,primaryKey:r,value:o};return i.push(u),rn}}}function G$(e){return async function(i,r){for(const o of r.ops)switch(o.op){case"insert":await q$(i,o,e);break;case"upsert":await K$(i,o,e);break;case"update":await Q$(i,o,e);break;case"delete":await Y$(i,o,e);break}}}function j3(e,t){let i=t;for(const r in e.columns)i[r]===void 0&&(i={...i,[r]:null});return i}async function q$(e,t,i){const r=Za(t.tableName,i.tables[t.tableName].primaryKey,t.value);if(!await e.has(r)){const o=j3(i.tables[t.tableName],t.value);await e.set(r,o)}}async function K$(e,t,i){const r=Za(t.tableName,i.tables[t.tableName].primaryKey,t.value),o=j3(i.tables[t.tableName],t.value);await e.set(r,o)}async function Q$(e,t,i){const r=Za(t.tableName,i.tables[t.tableName].primaryKey,t.value),o=await e.get(r);if(o===void 0)return;const u=t.value,f={...o};for(const h in u)u[h]!==void 0&&(f[h]=u[h]);await e.set(r,f)}async function Y$(e,t,i){const r=Za(t.tableName,i.tables[t.tableName].primaryKey,t.value);await e.del(r)}var J$=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,X$=/^\[[a-fA-F0-9:]*:[a-fA-F0-9:]*\]$/,Z$=new RegExp(`(${J$.source}|${X$.source})`);function W$(e,t=!0){if(!t)return!1;const i=e===null?null:new URL(e),r=i==null?void 0:i.hostname;return e!==null&&r!==void 0&&r!=="localhost"&&!Z$.test(r)}function eV(e){return"ws"+e.slice(4)}function L3(e,t){return e+(e.endsWith("/")?t.substring(1):t)}var tV=new URL("https://http-intake.logs.datadoghq.com/api/v2/logs"),nV=1e3,r2=250,iV=5*1024*1024,a2=2,o2=iV/4,Xn,Du,qa,Tu,Ru,Mu,ph,mh,Ou,Gy,yh,zb,LD,sV=(LD=class{constructor(e){x(this,yh);x(this,Xn,[]);x(this,Du);x(this,qa);x(this,Tu);x(this,Ru);x(this,Mu);x(this,ph);x(this,mh);x(this,Ou,0);x(this,Gy,new Kh);const{apiKey:t,source:i,service:r,host:o,version:u,interval:f=5e3,baseURL:h=tV}=e;D(this,Du,t),D(this,qa,i),D(this,Tu,r),D(this,Ru,o),D(this,Mu,u),D(this,ph,f),D(this,mh,h.toString())}log(e,t,...i){d(this,Xn).push(cV(i,t,e)),e==="error"||d(this,Xn).length===r2?this.flush():O(this,yh,zb).call(this)}flush(){return d(this,Gy).withLock(async()=>{const{length:e}=d(this,Xn);if(e!==0){do{const t=Date.now(),i=[];let r=0;for(const h of d(this,Xn)){h.flushDelayMs=t-h.date;let m=JSON.stringify(h);if(m.length>o2&&(h.message=`[Dropped message of length ${m.length}]`,m=JSON.stringify(h)),m.length+r+i.length>o2||(r+=m.length,i.push(m),i.length===nV))break}const o=i.join(`
`),u=new URL(d(this,mh));d(this,Du)!==void 0&&u.searchParams.set("dd-api-key",d(this,Du)),d(this,qa)&&(u.searchParams.set("ddsource",d(this,qa)),u.searchParams.set("dd-evp-origin",d(this,qa))),d(this,Tu)&&u.searchParams.set("service",d(this,Tu)),d(this,Ru)&&u.searchParams.set("host",d(this,Ru)),d(this,Mu)&&u.searchParams.set("ddtags",`version:${d(this,Mu)}`);let f=!1;try{const h=await fetch(u.toString(),{method:"POST",body:o,keepalive:!0});f=h.ok,f||console.error("response",h.status,h.statusText,await h.text)}catch(h){console.error("Log flush to datadog failed",h)}if(f)d(this,Xn).splice(0,i.length);else{let h=0;for(let m=0;m<i.length;m++){const y=d(this,Xn)[m];y.flushRetryCount=(y.flushRetryCount??0)+1,y.flushRetryCount>a2&&h++}h>0&&(console.error(`Dropping ${h} datadog log messages which failed to send ${a2+1} times.`),d(this,Xn).splice(0,h))}}while(d(this,Xn).length>=r2);d(this,Xn).length&&O(this,yh,zb).call(this)}})}},Xn=new WeakMap,Du=new WeakMap,qa=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,ph=new WeakMap,mh=new WeakMap,Ou=new WeakMap,Gy=new WeakMap,yh=new WeakSet,zb=function(){d(this,Ou)||D(this,Ou,setTimeout(()=>{D(this,Ou,0),this.flush()},d(this,ph)))},LD);function I3(e){return Array.isArray(e)&&e.length===1?I3(e[0]):e}function l2(e){return{name:e.name,message:e.message,stack:e.stack}}function rV(e){if(e instanceof Error)return l2(e);if(e instanceof Array){const t=[];for(const i of e)i instanceof Error?t.push(l2(i)):t.push(i);return t}return e}var aV="flushRetryCount",oV="flushDelayMs",lV="@DATADOG_RESERVED_",uV=["host","source","status","service","version","trace_id","message","msg","date",oV,aV];function cV(e,t,i){let r;if(t!==void 0)for(const u of uV)Object.hasOwn(t,u)&&(r===void 0&&(r={...t}),r[lV+u]=r[u],delete r[u]);const o={...r??t,date:Date.now(),message:rV(I3(e)),status:i};return i==="error"&&(o.error={origin:"logger"}),o}var H3="0.12.2025012501+3203d0",gh,ku,ID,u2=(ID=class{constructor(e,t){x(this,gh);x(this,ku);D(this,gh,e),D(this,ku,t)}log(e,t,...i){d(this,ku)==="error"&&e!=="error"||d(this,ku)==="info"&&e==="debug"||d(this,gh).log(e,t,...i)}async flush(){var e;await((e=kr.flush)==null?void 0:e.call(kr))}},gh=new WeakMap,ku=new WeakMap,ID),fV="info",c2=".reflect-server.net";function dV(e,t=i=>new sV(i)){const{consoleLogLevel:i,server:r,enableAnalytics:o}=e;if(!o||r===null)return{logLevel:i,logSink:kr};const u=new URL(r),{hostname:f}=u,h=f.endsWith(c2)?f.substring(0,f.length-c2.length).toLowerCase():f,m=new URL(L3(r,"/logs/v0/log")),y=i==="debug"?"debug":"info",g=new fk([new u2(kr,i),new u2(t({service:h,host:location.host,version:H3,baseURL:m}),fV)]);return{logLevel:y,logSink:g}}var hV="time_to_connect_ms",pV="last_connect_error",mV="time_to_connect_ms_v2",yV="last_connect_error_v2",gV="total_time_to_connect_ms",vV="not_connected",U3=100*1e3,SV=5e3;function B3(e){return"server"in e?`server_${f2(e.server)}`:`client_${f2(e.client)}`}function f2(e){return e.split(/\.?(?=[A-Z])/).join("_").toLowerCase()}var vh,Sh,bh,Nu,Sr,wh,Au,zu,ju,Lu,On,Wm,ya,HD,bV=(HD=class{constructor(e){x(this,On);x(this,vh);x(this,Sh);x(this,bh);x(this,Nu);x(this,Sr);x(this,wh,[]);C(this,"timeToConnectMs",O(this,On,ya).call(this,new ey(hV)));C(this,"lastConnectError",O(this,On,ya).call(this,new iS(pV,!0)));x(this,Au,O(this,On,ya).call(this,new iS(vV)));x(this,zu,O(this,On,ya).call(this,new ey(mV)));x(this,ju,O(this,On,ya).call(this,new iS(yV)));x(this,Lu,O(this,On,ya).call(this,new ey(gV)));C(this,"tags",[]);D(this,vh,e.reportIntervalMs),D(this,Sh,e.host),D(this,bh,e.reporter),D(this,Nu,e.lc),this.tags.push(`source:${e.source}`),this.timeToConnectMs.set(U3),O(this,On,Wm).call(this,"init"),D(this,Sr,setInterval(()=>{this.flush()},d(this,vh)))}setConnected(e,t){d(this,Au).clear(),d(this,ju).clear(),d(this,zu).set(e),d(this,Lu).set(t)}setDisconnectedWaitingForVisible(){d(this,zu).clear(),d(this,Lu).clear(),d(this,ju).clear();let e;switch(d(this,Au).get()){case"init":e="hidden_was_init";break;case"error":e="hidden_was_error";break;default:e="hidden";break}O(this,On,Wm).call(this,e)}setConnectError(e){d(this,zu).clear(),d(this,Lu).clear(),O(this,On,Wm).call(this,"error"),d(this,ju).set(B3(e))}async flush(){var i,r,o;const e=d(this,Nu);if(d(this,Sr)===null){(i=e.error)==null||i.call(e,"MetricManager.flush() called but already stopped");return}const t=[];for(const u of d(this,wh)){const f=u.flush();f!==void 0&&t.push({...f,host:d(this,Sh),tags:this.tags})}if(t.length===0){(r=e==null?void 0:e.debug)==null||r.call(e,"No metrics to report");return}try{await d(this,bh).call(this,t)}catch(u){(o=e==null?void 0:e.error)==null||o.call(e,`Error reporting metrics: ${u}`)}}stop(){var e,t;if(d(this,Sr)===null){(t=(e=d(this,Nu)).error)==null||t.call(e,"MetricManager.stop() called but already stopped");return}clearInterval(d(this,Sr)),D(this,Sr,null)}},vh=new WeakMap,Sh=new WeakMap,bh=new WeakMap,Nu=new WeakMap,Sr=new WeakMap,wh=new WeakMap,Au=new WeakMap,zu=new WeakMap,ju=new WeakMap,Lu=new WeakMap,On=new WeakSet,Wm=function(e){d(this,Au).set(e)},ya=function(e){return d(this,wh).push(e),e},HD);function wV(e,t){return[e,[t]]}var xh,br,UD,ey=(UD=class{constructor(e){x(this,xh);x(this,br);D(this,xh,e)}set(e){D(this,br,e)}get(){return d(this,br)}clear(){D(this,br,void 0)}flush(){if(d(this,br)===void 0)return;const e=[wV(xV(),d(this,br))];return{metric:d(this,xh),points:e}}},xh=new WeakMap,br=new WeakMap,UD);function xV(){return Math.round(Date.now()/1e3)}var Ch,Eh,wr,BD,iS=(BD=class{constructor(e,t=!1){x(this,Ch);x(this,Eh);x(this,wr);D(this,Ch,e),D(this,Eh,t)}set(e){D(this,wr,e)}get(){return d(this,wr)}clear(){D(this,wr,void 0)}flush(){if(d(this,wr)===void 0)return;const e=new ey([d(this,Ch),d(this,wr)].join("_"));e.set(1);const t=e.flush();return d(this,Eh)&&this.clear(),t}},Ch=new WeakMap,Eh=new WeakMap,wr=new WeakMap,BD),d2=0,CV=1,_h,Iu,ji,Dh,xr,Hu,lo,jb,P3,PD,EV=(PD=class{constructor(e,t,i,r){x(this,lo);x(this,_h);x(this,Iu);x(this,ji,new Map);x(this,Dh);x(this,xr,new Set);x(this,Hu,new Set);D(this,_h,e),D(this,Dh,r),D(this,Iu,t),i(o=>{for(const u of o){const f=u.key.substring(Ab.length);switch(u.op){case"add":d(this,Hu).add(f),O(this,lo,jb).call(this,f,!0);break;case"del":d(this,Hu).delete(f),O(this,lo,jb).call(this,f,!1);break}}},{prefix:Ab,initialValuesInFirstDiff:!0})}async getQueriesPatch(e,t){const i=new Set,r=U$(d(this,_h));for await(const u of e.scan({prefix:r}).keys())i.add(u.substring(r.length,u.length));const o=new Map;for(const u of i)d(this,ji).has(u)||o.set(u,{op:"del",hash:u});for(const[u,{normalized:f}]of d(this,ji))i.has(u)||o.set(u,{op:"put",hash:u,ast:f});if(t){for(const[u,{op:f}]of t)f==="put"&&!o.has(u)&&o.set(u,{op:"del",hash:u});for(const[u,{op:f}]of o){const h=t.get(u);h&&h.op===f&&o.delete(u)}}return o}add(e,t){const i=Mw(e),r=q5(i);let o=d(this,ji).get(r);d(this,xr).delete(r),o?(++o.count,t&&o.gotCallbacks.push(t)):(o={normalized:i,count:1,gotCallbacks:t===void 0?[]:[t]},d(this,ji).set(r,o),d(this,Iu).call(this,["changeDesiredQueries",{desiredQueriesPatch:[{op:"put",hash:r,ast:i}]}])),t&&t(d(this,Hu).has(r));let u=!1;return()=>{u||(u=!0,O(this,lo,P3).call(this,r,t))}}},_h=new WeakMap,Iu=new WeakMap,ji=new WeakMap,Dh=new WeakMap,xr=new WeakMap,Hu=new WeakMap,lo=new WeakSet,jb=function(e,t){var r;const i=((r=d(this,ji).get(e))==null?void 0:r.gotCallbacks)??[];for(const o of i)o(t)},P3=function(e,t){const i=Ft(d(this,ji).get(e));if(t){const r=i.gotCallbacks.indexOf(t);i.gotCallbacks.splice(r,1)}if(--i.count,i.count===0&&(d(this,xr).add(e),d(this,xr).size>d(this,Dh))){const r=d(this,xr).values().next().value;q(r),d(this,ji).delete(r),d(this,xr).delete(r),d(this,Iu).call(this,["changeDesiredQueries",{desiredQueriesPatch:[{op:"del",hash:r}]}])}},PD),Lb="_zeroReloadReason",Iw="_zeroReloadBackoffState",_V=T.object({lastReloadTime:T.number().default(0),nextIntervalMs:T.number().default(0)}),Em=500,h2=6e4,p2=1e4,ty=null;function sS(e,t,i){var f,h;if(ty){(f=e.warn)==null||f.call(e,"reload timer already scheduled");return}const r=Date.now(),o=MV(e,r);typeof sessionStorage<"u"&&(sessionStorage.setItem(Iw,JSON.stringify(o)),sessionStorage.setItem(Lb,i));const u=o.lastReloadTime-r;(h=e.error)==null||h.call(e,i,`
`,"reloading",u>0?`in ${u/1e3} seconds`:""),ty=setTimeout(()=>{ty=null,t()},u)}function DV(e){var t;if(typeof sessionStorage<"u"){const i=sessionStorage.getItem(Lb);i&&(sessionStorage.removeItem(Lb),(t=e.error)==null||t.call(e,"Zero reloaded the page.",i))}}function TV(){return ty!==null}function RV(){typeof sessionStorage<"u"&&sessionStorage.removeItem(Iw)}function MV(e,t){var h,m;if(typeof sessionStorage>"u")return(h=e.warn)==null||h.call(e,`sessionStorage not supported. backing off in ${p2/1e3} seconds`),{lastReloadTime:t+p2,nextIntervalMs:Em};const i=sessionStorage.getItem(Iw);if(!i)return{lastReloadTime:t,nextIntervalMs:Em};let r;try{r=Ar(JSON.parse(i),_V,"passthrough")}catch(y){return(m=e.warn)==null||m.call(e,"ignoring unparsable backoff state",i,y),{lastReloadTime:t,nextIntervalMs:Em}}const{lastReloadTime:o,nextIntervalMs:u}=r;return t-o>h2*2?{lastReloadTime:t,nextIntervalMs:Em}:t<o?r:{lastReloadTime:Math.max(t,o+u),nextIntervalMs:Math.min(u*2,h2)}}var $3=class extends Error{constructor(t){super(t.kind+": "+t.message);C(this,"name","ServerError");C(this,"errorBody");this.errorBody=t}get kind(){return this.errorBody.kind}};function Hw(e){return e instanceof $3}function OV(e){return Hw(e)&&kV(e.kind)}function kV(e){return e===d3||e===S3}function NV(e){if(Hw(e))switch(e.errorBody.kind){case g3:case v3:case x3:return e.errorBody}}function AV(e,t){const i="http",r=(h="")=>` For example: "${i}s://myapp-myteam.zero.ms/${h}".`;if(!t.startsWith(`${i}://`)&&!t.startsWith(`${i}s://`))throw new Error(`ZeroOptions.${e} must use the "${i}" or "${i}s" scheme.`);let o;try{o=new URL(t)}catch{throw new Error(`ZeroOptions.${e} must be a valid URL.${r()}`)}const u=o.toString(),f=o.pathname.split("/");if(f[0]===""&&f.shift(),f[f.length-1]===""&&f.pop(),f.length>1)throw new Error(`ZeroOptions.${e} may have at most one path component.${r("zero")}`);for(const[h,m]of[["search","?"],["hash","#"]])if(o[h]||u.endsWith(m))throw new Error(`ZeroOptions.${e} must not contain a ${h} component.${r()}`);return u}function zV(e){return _s("WebSocket")?e==null?(console.warn("Zero starting up with no server URL. This is supported for unit testing and prototyping, but no data will be synced."),null):AV("server",e):(console.warn("Zero started in an unsupported environment, no data will be synced."),null)}var Th,Rh,Mh,bs,nn,ws,Uu,Oh,qy,kh,Nh,gn,V3,Ah,F3,Df,Ib,$D,jV=($D=class{constructor(e,t,i,r,o){x(this,gn);x(this,Th);x(this,Rh);x(this,Mh);x(this,bs);x(this,nn);x(this,ws,[]);x(this,Uu,!1);x(this,Oh,0);x(this,qy,new Kh);x(this,kh);x(this,Nh,aH("requestAnimationFrame")??UV);x(this,Ah,async()=>{var i,r,o;const e=d(this,bs).withContext("rafAt",Math.floor(performance.now()));if(d(this,ws).length===0){(i=e.debug)==null||i.call(e,"stopping playback loop"),D(this,Uu,!1);return}d(this,Nh).call(this,d(this,Ah));const t=performance.now();(r=e.debug)==null||r.call(e,"raf fired, processing pokes.  Since last raf",t-d(this,Oh)),D(this,Oh,t),await O(this,gn,F3).call(this,e),(o=e.debug)==null||o.call(e,"processing pokes took",performance.now()-t)});D(this,Th,e),D(this,Rh,t),D(this,Mh,i),D(this,kh,r),D(this,bs,o.withContext("PokeHandler"))}handlePokeStart(e){if(d(this,nn)){O(this,gn,Df).call(this,`pokeStart ${JSON.stringify(e)} while still receiving  ${JSON.stringify(d(this,nn).pokeStart)} `);return}D(this,nn,{pokeStart:e,parts:[]})}handlePokePart(e){var t,i,r;if(e.pokeID!==((t=d(this,nn))==null?void 0:t.pokeStart.pokeID)){O(this,gn,Df).call(this,`pokePart for ${e.pokeID}, when receiving ${(i=d(this,nn))==null?void 0:i.pokeStart.pokeID}`);return}return d(this,nn).parts.push(e),(r=e.lastMutationIDChanges)==null?void 0:r[d(this,Mh)]}handlePokeEnd(e){var t,i;if(e.pokeID!==((t=d(this,nn))==null?void 0:t.pokeStart.pokeID)){O(this,gn,Df).call(this,`pokeEnd for ${e.pokeID}, when receiving ${(i=d(this,nn))==null?void 0:i.pokeStart.pokeID}`);return}if(e.cancel){D(this,nn,void 0);return}d(this,ws).push(d(this,nn)),D(this,nn,void 0),d(this,Uu)||O(this,gn,V3).call(this)}handleDisconnect(){var e,t;(t=(e=d(this,bs)).debug)==null||t.call(e,"clearing due to disconnect"),O(this,gn,Ib).call(this)}},Th=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,bs=new WeakMap,nn=new WeakMap,ws=new WeakMap,Uu=new WeakMap,Oh=new WeakMap,qy=new WeakMap,kh=new WeakMap,Nh=new WeakMap,gn=new WeakSet,V3=function(){var e,t;(t=(e=d(this,bs)).debug)==null||t.call(e,"starting playback loop"),D(this,Uu,!0),d(this,Nh).call(this,d(this,Ah))},Ah=new WeakMap,F3=function(e){return d(this,qy).withLock(async()=>{var i,r,o,u,f;const t=Date.now();(i=e.debug)==null||i.call(e,"got poke lock at",t),(r=e.debug)==null||r.call(e,"merging",d(this,ws).length);try{const h=LV(d(this,ws),d(this,kh));if(d(this,ws).length=0,h===void 0){(o=e.debug)==null||o.call(e,"frame is empty");return}const m=performance.now();(u=e.debug)==null||u.call(e,"poking replicache"),await d(this,Th).call(this,h),(f=e.debug)==null||f.call(e,"poking replicache took",performance.now()-m)}catch(h){O(this,gn,Df).call(this,h)}})},Df=function(e){var t,i,r,o;String(e).includes("unexpected base cookie for poke")?(i=(t=d(this,bs)).debug)==null||i.call(t,"clearing due to",e):(o=(r=d(this,bs)).error)==null||o.call(r,"clearing due to unexpected poke error",e),O(this,gn,Ib).call(this),d(this,Rh).call(this)},Ib=function(){D(this,nn,void 0),d(this,ws).length=0},$D);function LV(e,t){if(e.length===0)return;const{baseCookie:i}=e[0].pokeStart,{cookie:r}=e[e.length-1].pokeStart,o=[],u={};let f;for(const h of e){if(f&&h.pokeStart.baseCookie&&h.pokeStart.baseCookie>f.cookie)throw Error(`unexpected cookie gap ${JSON.stringify(f)} ${JSON.stringify(h.pokeStart)}`);f=h.pokeStart;for(const m of h.parts){if(m.lastMutationIDChanges)for(const[y,g]of Object.entries(m.lastMutationIDChanges))u[y]=g;if(m.clientsPatch&&o.push(...m.clientsPatch.map(IV)),m.desiredQueriesPatches)for(const[y,g]of Object.entries(m.desiredQueriesPatches))o.push(...g.map(v=>m2(v,b=>H$(y,b))));m.gotQueriesPatch&&o.push(...m.gotQueriesPatch.map(y=>m2(y,B$))),m.rowsPatch&&o.push(...m.rowsPatch.map(y=>HV(y,t)))}}return{baseCookie:i,pullResponse:{lastMutationIDChanges:u,patch:o,cookie:r}}}function IV(e){switch(e.op){case"clear":return e;case"del":return{op:"del",key:s2(e.clientID)};case"put":default:return{op:"put",key:s2(e.clientID),value:!0}}}function m2(e,t){switch(e.op){case"clear":return e;case"del":return{op:"del",key:t(e.hash)};case"put":default:return{op:"put",key:t(e.hash),value:e.ast}}}function HV(e,t){switch(e.op){case"clear":return e;case"del":return{op:"del",key:Za(e.tableName,t.tables[e.tableName].primaryKey,e.id)};case"put":return{op:"put",key:Za(e.tableName,t.tables[e.tableName].primaryKey,e.value),value:e.value};case"update":return{op:"update",key:Za(e.tableName,t.tables[e.tableName].primaryKey,e.id),merge:e.merge,constrain:e.constrain};default:throw new Error("to be implemented")}}function UV(e){setTimeout(e,0)}var y2=5e3,BV=5e3,PV=5e3,$V=5e3,VV=5e3,FV=1e4,GV=6,_m={clientID:"",id:-1};function qV(e){return{type:e.type}}function KV(e,t){const{type:i}=e;let r="";switch(i){case"NewClientGroup":r="This client could not sync with a newer client. This is probably due to another tab loading a newer incompatible version of the app's code.";break;case"VersionNotSupported":r="The server no longer supports this client's protocol version.";break;case"SchemaVersionNotSupported":r="The server no longer supports this client's schema version.";break;default:on()}return t&&(r+=" "+t),r}function QV(e){return`Server reported that client is ahead of server (${e}). This probably happened because the server is in development mode and restarted. Currently when this happens, the dev server loses its state and on reconnect sees the client as ahead. If you see this in other cases, it may be a bug in Zero.`}function YV(e){return`Server could not find state needed to synchronize this client. ${e}`}var JV="The local persistent state needed to synchronize this client has been garbage collected.",ht,Cr,bt,zh,Bu,Er,Ka,_r,xs,jh,Pu,Lh,$u,Ih,Vu,Fu,Gu,Dr,Li,Tr,qu,yi,Ku,Qu,it,Hh,Yu,Ii,Qa,Ya,Nt,ye,ny,mn,Hi,Rr,Mn,Ju,G3,q3,Uh,Bh,Ph,K3,Q3,Y3,nr,J3,X3,Z3,W3,eA,tA,Hb,nA,iA,iy,sA,rA,sy,aA,oA,VD,XV=(VD=class{constructor(e){x(this,ye);C(this,"version",H3);x(this,ht);x(this,Cr);C(this,"userID");C(this,"storageKey");x(this,bt);x(this,zh);x(this,Bu);x(this,Er);x(this,Ka);x(this,_r);x(this,xs,_m);x(this,jh,()=>{});x(this,Pu,!1);x(this,Lh);x(this,$u);x(this,Ih);x(this,Vu,null);x(this,Fu,0);x(this,Gu,0);x(this,Dr,0);x(this,Li,0);x(this,Tr,()=>{});x(this,qu);x(this,yi,Ue());x(this,Ku,new Map);x(this,Qu,0);x(this,it);x(this,Hh,Ue());x(this,Yu,Ue());x(this,Ii);x(this,Qa,new AbortController);x(this,Ya);x(this,Nt,tr);x(this,mn);x(this,Hi);x(this,Rr);C(this,"query");x(this,Mn);x(this,Ju,()=>{var e;return(e=_s("location"))==null?void 0:e.reload()});C(this,"mutate");C(this,"mutateBatch");x(this,Uh,e=>{var f,h;const t=d(this,bt);if((f=t.debug)==null||f.call(t,"received message",e.data),this.closed){(h=t.debug)==null||h.call(t,"ignoring message because already closed");return}const i=m=>{var y;return(y=d(this,Ii))==null?void 0:y.reject(new Error(`Invalid message received from server: ${m instanceof Error?m.message+". ":""}${o}`))};let r;const{data:o}=e;try{r=Ar(JSON.parse(o),i$)}catch(m){i(m);return}switch(fa(this,Gu)._++,r[0]){case"connected":return O(this,ye,Q3).call(this,t,r);case"error":return O(this,ye,K3).call(this,t,r);case"pong":return d(this,jh).call(this);case"pokeStart":return O(this,ye,J3).call(this,t,r);case"pokePart":return O(this,ye,X3).call(this,t,r);case"pokeEnd":return O(this,ye,Z3).call(this,t,r);case"pull":return O(this,ye,eA).call(this,t,r);case"warm":break;default:i()}});x(this,Bh,()=>{var t,i;const e=rS(d(this,it),d(this,bt));if(d(this,mn)===void 0)(t=e.error)==null||t.call(e,"Got open event but connect start time is undefined. This should not happen.");else{const o=Date.now()-d(this,mn);(i=e.info)==null||i.call(e,"Got socket open event",{navigatorOnline:Zt==null?void 0:Zt.onLine,timeToOpenMs:o})}});x(this,Ph,e=>{var h;const t=rS(d(this,it),d(this,bt)),{code:i,reason:r,wasClean:o}=e,u=i<=1001?"info":"error";(h=t[u])==null||h.call(t,"Got socket close event",{code:i,reason:r,wasClean:o});const f=o?"CleanClose":"AbruptClose";d(this,yi).reject(new v2(f)),O(this,ye,nr).call(this,t,{client:f})});var P;const{userID:t,storageKey:i,onOnlineChange:r,onUpdateNeeded:o,onClientStateNotFound:u,hiddenTabDisconnectDelay:f=VV,kvStore:h="idb",schema:m,batchViewUpdates:y=V=>V(),maxRecentQueries:g=0}=e;if(!t)throw new Error("ZeroOptions.userID must not be empty.");const v=zV(e.server);if(D(this,Bu,W$(v,!1)),f<0)throw new Error("ZeroOptions.hiddenTabDisconnectDelay must not be negative.");D(this,Lh,r),D(this,Rr,e),D(this,zh,O(this,ye,q3).call(this,{consoleLogLevel:e.logLevel??"error",server:null,enableAnalytics:d(this,Bu)}));const b=d(this,zh),E={_zero_crud:G$(m)};this.storageKey=i??"";const R={schemaVersion:`${m.version}.${Lw}`,logLevel:b.logLevel,logSinks:[b.logSink],mutators:E,name:`zero-${t}-${this.storageKey}`,pusher:(V,se)=>O(this,ye,tA).call(this,V,se),puller:(V,se)=>O(this,ye,iA).call(this,V,se),pushDelay:0,requestOptions:{maxDelayMs:0,minDelayMs:0},licenseKey:"zero-client-static-key",kvStore:h},A={enableClientGroupForking:!1,enableMutationRecovery:!1},z=new zB(R,A);D(this,ht,z),D(this,Cr,v),this.userID=t,D(this,bt,new ng(b.logLevel,{clientID:z.clientID},b.logSink));const j=o??((V,se)=>{sS(d(this,bt),d(this,Ju),KV(V,se))});D(this,$u,j),d(this,ht).onUpdateNeeded=V=>{j(qV(V))};const U=u??(V=>{sS(d(this,bt),d(this,Ju),V??JV)});D(this,Ih,U),d(this,ht).onClientStateNotFound=U;const{mutate:X,mutateBatch:G}=$$(m,z.mutate);this.mutate=X,this.mutateBatch=G,D(this,Ka,new EV(z.clientID,V=>O(this,ye,G3).call(this,V),z.experimentalWatch.bind(z),g)),D(this,qu,new P$(m.tables,(V,se)=>d(this,Ka).add(V,se),y)),z.experimentalWatch(V=>d(this,qu).processChanges(V),{prefix:yl,initialValuesInFirstDiff:!0}),this.query=O(this,ye,oA).call(this,m),DV(d(this,bt)),D(this,Mn,new bV({reportIntervalMs:SV,host:((P=_s("location"))==null?void 0:P.host)??"",source:"client",reporter:d(this,Bu)?V=>O(this,ye,rA).call(this,V):()=>Promise.resolve(),lc:d(this,bt)})),d(this,Mn).tags.push(`version:${this.version}`),D(this,Er,new jV(V=>d(this,ht).poke(V),()=>O(this,ye,W3).call(this),z.clientID,m,d(this,bt))),D(this,Ya,$k(_s("document"),f,d(this,Qa).signal)),O(this,ye,nA).call(this)}get server(){return d(this,Cr)}get idbName(){return d(this,ht).idbName}get schemaVersion(){return d(this,ht).schemaVersion}get clientID(){return d(this,ht).clientID}get clientGroupID(){return d(this,ht).clientGroupID}get closed(){return d(this,ht).closed}close(){var t;const e=d(this,bt).withContext("close");return d(this,Nt)!==tr&&O(this,ye,nr).call(this,e,{client:"ClientClosed"}),(t=e.debug)==null||t.call(e,"Aborting closeAbortController due to close()"),d(this,Qa).abort(),d(this,Mn).stop(),d(this,ht).close()}get online(){return d(this,Pu)}},ht=new WeakMap,Cr=new WeakMap,bt=new WeakMap,zh=new WeakMap,Bu=new WeakMap,Er=new WeakMap,Ka=new WeakMap,_r=new WeakMap,xs=new WeakMap,jh=new WeakMap,Pu=new WeakMap,Lh=new WeakMap,$u=new WeakMap,Ih=new WeakMap,Vu=new WeakMap,Fu=new WeakMap,Gu=new WeakMap,Dr=new WeakMap,Li=new WeakMap,Tr=new WeakMap,qu=new WeakMap,yi=new WeakMap,Ku=new WeakMap,Qu=new WeakMap,it=new WeakMap,Hh=new WeakMap,Yu=new WeakMap,Ii=new WeakMap,Qa=new WeakMap,Ya=new WeakMap,Nt=new WeakMap,ye=new WeakSet,ny=function(e){e!==d(this,Nt)&&(D(this,Nt,e),d(this,Yu).resolve(e),D(this,Yu,Ue()))},mn=new WeakMap,Hi=new WeakMap,Rr=new WeakMap,Mn=new WeakMap,Ju=new WeakMap,G3=function(e){d(this,it)&&d(this,Nt)===gf&&Jo(d(this,it),e)},q3=function(e){return dV(e)},Uh=new WeakMap,Bh=new WeakMap,Ph=new WeakMap,K3=async function(e,t){var u,f,h,m,y,g,v;const[,{kind:i,message:r}]=t;if(i===y3){D(this,xs,_m),(u=e.error)==null||u.call(e,"Mutation rate limited",{message:r});return}(f=e.info)==null||f.call(e,`${i}: ${r}}`);const o=new $3(t[1]);(h=d(this,Ii))==null||h.reject(o),(m=e.debug)==null||m.call(e,"Rejecting connect resolver due to error",o),d(this,yi).reject(o),O(this,ye,nr).call(this,e,{server:i}),i===b3?(y=d(this,$u))==null||y.call(this,{type:i},r):i===w3?(await d(this,ht).disableClientGroup(),(g=d(this,$u))==null||g.call(this,{type:"SchemaVersionNotSupported"},r)):i===h3?(await d(this,ht).disableClientGroup(),(v=d(this,Ih))==null||v.call(this,YV(r))):(i===m3||i===p3)&&(await tB(d(this,ht).idbName),sS(e,d(this,Ju),QV(i)))},Q3=async function(e,t){var y,g,v,b;const i=Date.now(),[,r]=t;e=Ub(r.wsid,e),d(this,Fu)===0?O(this,ye,sy).call(this,"firstConnect"):d(this,Li)>0&&O(this,ye,sy).call(this,"connectAfterError"),fa(this,Fu)._++,D(this,Dr,i),d(this,Mn).lastConnectError.clear();const o=d(this,Li);D(this,Li,0);let u,f;d(this,mn)===void 0?(y=e.error)==null||y.call(e,"Got connected message but connect start time is undefined. This should not happen."):(u=i-d(this,mn),d(this,Mn).timeToConnectMs.set(u),f=r.timestamp!==void 0?i-r.timestamp:void 0,D(this,mn,void 0));let h;d(this,Hi)===void 0?(g=e.error)==null||g.call(e,"Got connected message but total to connect start time is undefined. This should not happen."):(h=i-d(this,Hi),D(this,Hi,void 0)),d(this,Mn).setConnected(u??0,h??0),(v=e.info)==null||v.call(e,"Connected",{navigatorOnline:Zt==null?void 0:Zt.onLine,timeToConnectMs:u,totalTimeToConnectMs:h,connectMsgLatencyMs:f,connectedCount:d(this,Fu),proceedingConnectErrorCount:o}),D(this,xs,_m),(b=e.debug)==null||b.call(e,"Resolving connect resolver"),q(d(this,it));const m=await d(this,ht).query(E=>d(this,Ka).getQueriesPatch(E,d(this,_r)));m.size>0&&d(this,_r)!==void 0?Jo(d(this,it),["changeDesiredQueries",{desiredQueriesPatch:[...m.values()]}]):d(this,_r)===void 0&&Jo(d(this,it),["initConnection",{desiredQueriesPatch:[...m.values()]}]),D(this,_r,void 0),O(this,ye,ny).call(this,gf),d(this,yi).resolve()},Y3=async function(e,t){var m,y;q(d(this,Cr)),q(d(this,Nt)===tr);const i=_3();e=Ub(i,e),(m=e.info)==null||m.call(e,"Connecting...",{navigatorOnline:Zt==null?void 0:Zt.onLine}),O(this,ye,ny).call(this,Cm),q(d(this,mn)===void 0);const r=Date.now();if(D(this,mn,r),d(this,Hi)===void 0&&D(this,Hi,r),this.closed||(D(this,Vu,Ar(await d(this,ht).cookie,Ey)),this.closed))return;const o=setTimeout(()=>{var g;(g=e.debug)==null||g.call(e,"Rejecting connect resolver due to timeout"),d(this,yi).reject(new g2("Connect")),O(this,ye,nr).call(this,e,{client:"ConnectTimeout"})},FV),u=()=>{clearTimeout(o)};d(this,Qa).signal.addEventListener("abort",u);const[f,h]=await ZV(d(this,ht),d(this,Ka),eV(d(this,Cr)),d(this,Vu),this.clientID,await this.clientGroupID,d(this,Rr).schema.version,this.userID,d(this,ht).auth,d(this,Qu),i,d(this,Rr).logLevel==="debug",e,d(this,Rr).maxHeaderLength,t);if(!this.closed){D(this,_r,h),f.addEventListener("message",d(this,Uh)),f.addEventListener("open",d(this,Bh)),f.addEventListener("close",d(this,Ph)),D(this,it,f),d(this,Hh).resolve(f);try{(y=e.debug)==null||y.call(e,"Waiting for connection to be acknowledged"),await d(this,yi).promise}finally{clearTimeout(o),d(this,Qa).signal.removeEventListener("abort",u)}}},nr=function(e,t){var i,r,o,u,f,h,m,y,g;switch(d(this,Nt)===Cm&&fa(this,Li)._++,(i=e.info)==null||i.call(e,"disconnecting",{navigatorOnline:Zt==null?void 0:Zt.onLine,reason:t,connectStart:d(this,mn),totalToConnectStart:d(this,Hi),connectedAt:d(this,Dr),connectionDuration:d(this,Dr)?Date.now()-d(this,Dr):0,messageCount:d(this,Gu),connectionState:d(this,Nt),connectErrorCount:d(this,Li)}),d(this,Nt)){case gf:{d(this,mn)!==void 0&&((r=e.error)==null||r.call(e,"disconnect() called while connected but connect start time is defined. This should not happen."));break}case Cm:{d(this,Mn).lastConnectError.set(B3(t)),d(this,Mn).timeToConnectMs.set(U3),d(this,Mn).setConnectError(t),d(this,Li)%GV===1&&O(this,ye,sy).call(this,`connectErrorCount=${d(this,Li)}`),d(this,mn)===void 0&&((o=e.error)==null||o.call(e,"disconnect() called while connecting but connect start time is undefined. This should not happen."));break}case tr:(u=e.error)==null||u.call(e,"disconnect() called while disconnected");break}D(this,Hh,Ue()),(f=e.debug)==null||f.call(e,"Creating new connect resolver"),D(this,yi,Ue()),O(this,ye,ny).call(this,tr),D(this,Gu,0),D(this,mn,void 0),D(this,Dr,0),(h=d(this,it))==null||h.removeEventListener("message",d(this,Uh)),(m=d(this,it))==null||m.removeEventListener("open",d(this,Bh)),(y=d(this,it))==null||y.removeEventListener("close",d(this,Ph)),(g=d(this,it))==null||g.close(),D(this,it,void 0),D(this,xs,_m),d(this,Er).handleDisconnect()},J3=async function(e,t){RV(),d(this,Tr).call(this),await d(this,Er).handlePokeStart(t[1])},X3=async function(e,t){d(this,Tr).call(this);const i=await d(this,Er).handlePokePart(t[1]);i!==void 0&&D(this,Qu,i)},Z3=async function(e,t){d(this,Tr).call(this),await d(this,Er).handlePokeEnd(t[1])},W3=function(){var t;const e=d(this,bt);(t=e.info)==null||t.call(e,"poke error, disconnecting?",d(this,Nt)!==tr),d(this,Nt)!==tr&&O(this,ye,nr).call(this,e,{client:"UnexpectedBaseCookie"})},eA=function(e,t){var o,u;d(this,Tr).call(this);const i=t[1];e=e.withContext("requestID",i.requestID),(o=e.debug)==null||o.call(e,"Handling pull response",i);const r=d(this,Ku).get(i.requestID);if(!r){(u=e.debug)==null||u.call(e,"No resolver found");return}r.resolve(t[1])},tA=async function(e,t){var h,m;q(e.pushVersion===1),await d(this,yi).promise;const i=d(this,bt).withContext("requestID",t);(h=i.debug)==null||h.call(i,`pushing ${e.mutations.length} mutations`);const r=d(this,it);q(r);const o=e.clientGroupID!==await this.clientGroupID,u=o?0:e.mutations.findIndex(y=>y.clientID===d(this,xs).clientID&&y.id===d(this,xs).id)+1;(m=i.debug)==null||m.call(i,o?"pushing for recovery":"pushing",e.mutations.length-u,"mutations of",e.mutations.length,"mutations.");const f=Date.now();for(let y=u;y<e.mutations.length;y++){const g=e.mutations[y],v=f-Math.round(performance.now()-g.timestamp),b=g.name===jw?{type:C3,timestamp:v,id:g.id,clientID:g.clientID,name:g.name,args:[g.args]}:{type:E3,timestamp:v,id:g.id,clientID:g.clientID,name:g.name,args:[g.args]},E=["push",{timestamp:f,clientGroupID:e.clientGroupID,mutations:[b],pushVersion:e.pushVersion,schemaVersion:parseInt(e.schemaVersion),requestID:t}];Jo(r,E),o||D(this,xs,{clientID:g.clientID,id:g.id})}return{httpRequestInfo:{errorMessage:"",httpStatusCode:200}}},Hb=async function(e,t){var o;const{auth:i}=d(this,Rr),r=await(typeof i=="function"?i(t):i);r&&((o=e.debug)==null||o.call(e,"Got auth token"),d(this,ht).auth=r)},nA=async function(){var h,m,y,g,v,b,E,R,A;if((m=(h=d(this,bt)).info)==null||m.call(h,`Starting Zero version: ${this.version}`),d(this,Cr)===null){(g=(y=d(this,bt)).info)==null||g.call(y,"No socket origin provided, not starting connect loop.");return}let e=0;const t=d(this,bt),i=()=>{let z=t;return d(this,it)&&(z=rS(d(this,it),z)),z.withContext("runLoopCounter",e)};await O(this,ye,Hb).call(this,t);let r=!1,o=!1,u=y2,f;for(;!this.closed;){e++;let z=i();u=y2;try{switch(d(this,Nt)){case tr:{if(d(this,Ya).visibilityState==="hidden"&&(d(this,Mn).setDisconnectedWaitingForVisible(),D(this,Hi,void 0)),await d(this,Ya).waitForVisible(),r&&await O(this,ye,Hb).call(this,z,"invalid-token"),TV()||(await O(this,ye,Y3).call(this,z,f),f=void 0,this.closed))break;q(d(this,it)),z=i(),(v=z.debug)==null||v.call(z,"Connected successfully"),o=!1,r=!1,O(this,ye,iy).call(this,!0);break}case Cm:(b=z.error)==null||b.call(z,"unreachable"),o=!0;break;case gf:{const j=new AbortController;D(this,Tr,()=>j.abort());const[U,X]=EH(BV,j.signal);D(this,Ii,Ue());const G=0,P=2,V=await aS([U,X,d(this,Ya).waitForHidden(),d(this,Yu).promise,d(this,Ii).promise]);if(this.closed){D(this,Ii,void 0);break}switch(V){case G:{await O(this,ye,sA).call(this,z,d(this,Ii).promise)===d2&&(o=!0);break}case P:O(this,ye,nr).call(this,z,{client:"Hidden"}),O(this,ye,iy).call(this,!1);break}D(this,Ii,void 0)}}}catch(j){if(d(this,Nt)!==gf&&((E=z.error)==null||E.call(z,"Failed to connect",j,{lmid:d(this,Qu),baseCookie:d(this,Vu)})),(R=z.debug)==null||R.call(z,"Got an exception in the run loop","state:",d(this,Nt),"exception:",j),OV(j)){if(!r){r=!0;continue}r=!0}(Hw(j)||j instanceof g2||j instanceof v2)&&(o=!0);const U=NV(j);U&&(U.minBackoffMs!==void 0&&(u=Math.max(u,U.minBackoffMs)),U.maxBackoffMs!==void 0&&(u=Math.min(u,U.maxBackoffMs)),f=U.reconnectParams)}o&&(O(this,ye,iy).call(this,!1),(A=z.debug)==null||A.call(z,"Sleeping",u,"ms before reconnecting due to error, state:",d(this,Nt)),await Nr(u))}},iA=async function(e,t){var h,m,y,g;q(e.pullVersion===1);const i=d(this,bt).withContext("requestID",t);if((h=i.debug)==null||h.call(i,"Pull",e),e.clientGroupID===await this.clientGroupID)return{httpRequestInfo:{errorMessage:"",httpStatusCode:200}};await d(this,yi).promise;const r=d(this,it);q(r),(m=i.debug)==null||m.call(i,"Pull is for mutation recovery");const o=Ar(e.cookie,Ey),u=["pull",{clientGroupID:e.clientGroupID,cookie:o,requestID:t}];Jo(r,u);const f=Ue();d(this,Ku).set(t,f);try{switch(await aS([Nr($V),f.promise])){case 0:throw(y=i.debug)==null||y.call(i,"Mutation recovery pull timed out"),new Error("Pull timed out");case 1:{(g=i.debug)==null||g.call(i,"Returning mutation recovery pull response");const R=await f.promise;return{response:{cookie:R.cookie,lastMutationIDChanges:R.lastMutationIDChanges,patch:[]},httpRequestInfo:{errorMessage:"",httpStatusCode:200}}}default:q(!1,"unreachable")}}finally{f.reject("timed out"),d(this,Ku).delete(t)}},iy=function(e){var t;d(this,Pu)!==e&&(D(this,Pu,e),(t=d(this,Lh))==null||t.call(this,e))},sA=async function(e,t){var m,y,g;(m=e.debug)==null||m.call(e,"pinging");const{promise:i,resolve:r}=Ue();D(this,jh,r);const o=["ping",{}],u=performance.now();q(d(this,it)),Jo(d(this,it),o);const f=await aS([i,Nr(PV),t])===0,h=performance.now()-u;return f?((g=e.debug)==null||g.call(e,"ping succeeded in",h,"ms"),CV):((y=e.info)==null||y.call(e,"ping failed in",h,"ms - disconnecting"),O(this,ye,nr).call(this,e,{client:"PingTimeout"}),d2)},rA=async function(e){},sy=function(e){O(this,ye,aA).call(this,e)},aA=function(e){},oA=function(e){const t={},i=d(this,qu);for(const r of Object.keys(e.tables))t[r]=X7(i,e,r);return t},VD);async function ZV(e,t,i,r,o,u,f,h,m,y,g,v,b,E=1024*8,R){var G,P;const A=new URL(L3(i,`/sync/v${Lw}/connect`)),{searchParams:z}=A;if(z.set("clientID",o),z.set("clientGroupID",u),z.set("schemaVersion",f.toString()),z.set("userID",h),z.set("baseCookie",r===null?"":String(r)),z.set("ts",String(performance.now())),z.set("lmid",String(y)),z.set("wsid",g),v&&z.set("debugPerf","true"),R)for(const V in R)z.has(V)?(G=b.warn)==null||G.call(b,`skipping conflicting parameter ${V}`):z.set(V,R[V]);(P=b.info)==null||P.call(b,"Connecting to",A.toString());const j=ow("WebSocket");let U=await e.query(V=>t.getQueriesPatch(V)),X=t2(["initConnection",{desiredQueriesPatch:[...U.values()]}],m);return X.length>E&&(X=t2(void 0,m),U=void 0),[new j(A.toString(),X),U]}function rS({url:e},t){const i=new URL(e).searchParams.get("wsid")??_3();return Ub(i,t)}function Ub(e,t){return t.withContext("wsid",e)}function aS(e){return Promise.race(e.map((t,i)=>t.then(()=>i)))}var g2=class extends Error{constructor(e){super(`${e} timed out`)}},v2=class extends Error{};const W=Symbol.for("drizzle:entityKind");function Pe(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,W))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(W in i&&i[W]===t[W])return!0;i=Object.getPrototypeOf(i)}return!1}var FD;FD=W;class hg{constructor(t,i){C(this,"name");C(this,"keyAsName");C(this,"primary");C(this,"notNull");C(this,"default");C(this,"defaultFn");C(this,"onUpdateFn");C(this,"hasDefault");C(this,"isUnique");C(this,"uniqueName");C(this,"uniqueType");C(this,"dataType");C(this,"columnType");C(this,"enumValues");C(this,"generated");C(this,"generatedIdentity");C(this,"config");this.table=t,this.config=i,this.name=i.name,this.keyAsName=i.keyAsName,this.notNull=i.notNull,this.default=i.default,this.defaultFn=i.defaultFn,this.onUpdateFn=i.onUpdateFn,this.hasDefault=i.hasDefault,this.primary=i.primaryKey,this.isUnique=i.isUnique,this.uniqueName=i.uniqueName,this.uniqueType=i.uniqueType,this.dataType=i.dataType,this.columnType=i.columnType,this.generated=i.generated,this.generatedIdentity=i.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}C(hg,FD,"Column");var GD;GD=W;class lA{constructor(t,i,r){C(this,"config");C(this,"$default",this.$defaultFn);C(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:i,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}C(lA,GD,"ColumnBuilder");const Wa=Symbol.for("drizzle:Name");var qD;qD=W;class Uw{constructor(t,i){C(this,"reference");C(this,"_onUpdate","no action");C(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:o,foreignColumns:u}=t();return{name:r,columns:o,foreignTable:u[0].table,foreignColumns:u}},i&&(this._onUpdate=i.onUpdate,this._onDelete=i.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new uA(t,this)}}C(Uw,qD,"PgForeignKeyBuilder");var KD;KD=W;class uA{constructor(t,i){C(this,"reference");C(this,"onUpdate");C(this,"onDelete");this.table=t,this.reference=i.reference,this.onUpdate=i._onUpdate,this.onDelete=i._onDelete}getName(){const{name:t,columns:i,foreignColumns:r}=this.reference(),o=i.map(h=>h.name),u=r.map(h=>h.name),f=[this.table[Wa],...o,r[0].table[Wa],...u];return t??`${f.join("_")}_fk`}}C(uA,KD,"PgForeignKey");function WV(e,...t){return e(...t)}function cA(e,t){return`${e[Wa]}_${t.join("_")}_unique`}var QD;QD=W;class fA{constructor(t,i){C(this,"columns");C(this,"nullsNotDistinctConfig",!1);this.name=i,this.columns=t}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new dA(t,this.columns,this.nullsNotDistinctConfig,this.name)}}C(fA,QD,"PgUniqueConstraintBuilder");var YD;YD=W;class dA{constructor(t,i,r,o){C(this,"columns");C(this,"name");C(this,"nullsNotDistinct",!1);this.table=t,this.columns=i,this.name=o??cA(this.table,this.columns.map(u=>u.name)),this.nullsNotDistinct=r}getName(){return this.name}}C(dA,YD,"PgUniqueConstraint");function S2(e,t,i){for(let r=t;r<e.length;r++){const o=e[r];if(o==="\\"){r++;continue}if(o==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!i&&(o===","||o==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function hA(e,t=0){const i=[];let r=t,o=!1;for(;r<e.length;){const u=e[r];if(u===","){(o||r===t)&&i.push(""),o=!0,r++;continue}if(o=!1,u==="\\"){r+=2;continue}if(u==='"'){const[m,y]=S2(e,r+1,!0);i.push(m),r=y;continue}if(u==="}")return[i,r+1];if(u==="{"){const[m,y]=hA(e,r+1);i.push(m),r=y;continue}const[f,h]=S2(e,r,!1);i.push(f),r=h}return[i,r]}function eF(e){const[t]=hA(e,1);return t}function pA(e){return`{${e.map(t=>Array.isArray(t)?pA(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var JD,XD;class ze extends(XD=lA,JD=W,XD){constructor(){super(...arguments);C(this,"foreignKeyConfigs",[])}array(i){return new yA(this.config.name,this,i)}references(i,r={}){return this.foreignKeyConfigs.push({ref:i,actions:r}),this}unique(i,r){return this.config.isUnique=!0,this.config.uniqueName=i,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(i){return this.config.generated={as:i,type:"always",mode:"stored"},this}buildForeignKeys(i,r){return this.foreignKeyConfigs.map(({ref:o,actions:u})=>WV((f,h)=>{const m=new Uw(()=>{const y=f();return{columns:[i],foreignColumns:[y]}});return h.onUpdate&&m.onUpdate(h.onUpdate),h.onDelete&&m.onDelete(h.onDelete),m.build(r)},o,u))}buildExtraConfigColumn(i){return new mA(i,this.config)}}C(ze,JD,"PgColumnBuilder");var ZD,WD;class De extends(WD=hg,ZD=W,WD){constructor(t,i){i.uniqueName||(i.uniqueName=cA(t,[i.name])),super(t,i),this.table=t}}C(De,ZD,"PgColumn");var eT,tT;class mA extends(tT=De,eT=W,tT){constructor(){super(...arguments);C(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});C(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(i){return this.indexConfig.opClass=i,this}}C(mA,eT,"ExtraConfigColumn");var nT,iT;class yA extends(iT=ze,nT=W,iT){constructor(t,i,r){super(t,"array","PgArray"),this.config.baseBuilder=i,this.config.size=r}build(t){const i=this.config.baseBuilder.build(t);return new Bb(t,this.config,i)}}C(yA,nT,"PgArrayBuilder");var sT,rT;const Ky=class Ky extends(rT=De,sT=W,rT){constructor(i,r,o,u){super(i,r);C(this,"size");this.baseColumn=o,this.range=u,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(i){return typeof i=="string"&&(i=eF(i)),i.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(i,r=!1){const o=i.map(u=>u===null?null:Pe(this.baseColumn,Ky)?this.baseColumn.mapToDriverValue(u,!0):this.baseColumn.mapToDriverValue(u));return r?o:pA(o)}};C(Ky,sT,"PgArray");let Bb=Ky;const b2=Symbol.for("drizzle:isPgEnum");function tF(e){return!!e&&typeof e=="function"&&b2 in e&&e[b2]===!0}var aT;aT=W;class Bw{constructor(t,i,r,o=!1){this._={brand:"Subquery",sql:t,selectedFields:i,alias:r,isWith:o}}}C(Bw,aT,"Subquery");const nF={startActiveSpan(e,t){return t()}},Nf=Symbol.for("drizzle:ViewBaseConfig"),oS=Symbol.for("drizzle:Schema"),w2=Symbol.for("drizzle:Columns"),x2=Symbol.for("drizzle:ExtraConfigColumns"),lS=Symbol.for("drizzle:OriginalName"),uS=Symbol.for("drizzle:BaseName"),Ry=Symbol.for("drizzle:IsAlias"),C2=Symbol.for("drizzle:ExtraConfigBuilder"),iF=Symbol.for("drizzle:IsDrizzleTable");var oT,lT,uT,cT,fT,dT,hT,pT,mT,yT;yT=W,mT=Wa,pT=lS,hT=oS,dT=w2,fT=x2,cT=uS,uT=Ry,lT=iF,oT=C2;class Xe{constructor(t,i,r){C(this,mT);C(this,pT);C(this,hT);C(this,dT);C(this,fT);C(this,cT);C(this,uT,!1);C(this,lT,!0);C(this,oT);this[Wa]=this[lS]=t,this[oS]=i,this[uS]=r}}C(Xe,yT,"Table"),C(Xe,"Symbol",{Name:Wa,Schema:oS,OriginalName:lS,Columns:w2,ExtraConfigColumns:x2,BaseName:uS,IsAlias:Ry,ExtraConfigBuilder:C2});function Ds(e){return e[Wa]}function sF(e){return e!=null&&typeof e.getSQL=="function"}function rF(e){var i;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(i=r.typings)!=null&&i.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var gT;gT=W;class Wn{constructor(t){C(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Gt([this])}}C(Wn,gT,"StringChunk");var vT;vT=W;const va=class va{constructor(t){C(this,"decoder",gA);C(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return nF.startActiveSpan("drizzle.buildSQL",i=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return i==null||i.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,i){const r=Object.assign({},i,{inlineParams:i.inlineParams||this.shouldInlineParams,paramStartIndex:i.paramStartIndex||{value:0}}),{casing:o,escapeName:u,escapeParam:f,prepareTyping:h,inlineParams:m,paramStartIndex:y}=r;return rF(t.map(g=>{var v;if(Pe(g,Wn))return{sql:g.value.join(""),params:[]};if(Pe(g,My))return{sql:u(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const b=[new Wn("(")];for(const[E,R]of g.entries())b.push(R),E<g.length-1&&b.push(new Wn(", "));return b.push(new Wn(")")),this.buildQueryFromSourceParams(b,r)}if(Pe(g,va))return this.buildQueryFromSourceParams(g.queryChunks,{...r,inlineParams:m||g.shouldInlineParams});if(Pe(g,Xe)){const b=g[Xe.Symbol.Schema],E=g[Xe.Symbol.Name];return{sql:b===void 0||g[Ry]?u(E):u(b)+"."+u(E),params:[]}}if(Pe(g,hg)){const b=o.getColumnCasing(g);if(i.invokeSource==="indexes")return{sql:u(b),params:[]};const E=g.table[Xe.Symbol.Schema];return{sql:g.table[Ry]||E===void 0?u(g.table[Xe.Symbol.Name])+"."+u(b):u(E)+"."+u(g.table[Xe.Symbol.Name])+"."+u(b),params:[]}}if(Pe(g,SA)){const b=g[Nf].schema,E=g[Nf].name;return{sql:b===void 0||g[Nf].isAlias?u(E):u(b)+"."+u(E),params:[]}}if(Pe(g,Pw)){if(Pe(g.value,Oy))return{sql:f(y.value++,g),params:[g],typings:["none"]};const b=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(Pe(b,va))return this.buildQueryFromSourceParams([b],r);if(m)return{sql:this.mapInlineParam(b,r),params:[]};let E=["none"];return h&&(E=[h(g.encoder)]),{sql:f(y.value++,b),params:[b],typings:E}}return Pe(g,Oy)?{sql:f(y.value++,g),params:[g],typings:["none"]}:Pe(g,va.Aliased)&&g.fieldAlias!==void 0?{sql:u(g.fieldAlias),params:[]}:Pe(g,Bw)?g._.isWith?{sql:u(g._.alias),params:[]}:this.buildQueryFromSourceParams([new Wn("("),g._.sql,new Wn(") "),new My(g._.alias)],r):tF(g)?g.schema?{sql:u(g.schema)+"."+u(g.enumName),params:[]}:{sql:u(g.enumName),params:[]}:sF(g)?(v=g.shouldOmitSQLParens)!=null&&v.call(g)?this.buildQueryFromSourceParams([g.getSQL()],r):this.buildQueryFromSourceParams([new Wn("("),g.getSQL(),new Wn(")")],r):m?{sql:this.mapInlineParam(g,r),params:[]}:{sql:f(y.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(t,{escapeString:i}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return i(t);if(typeof t=="object"){const r=t.toString();return i(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new va.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};C(va,vT,"SQL");let Gt=va;var ST;ST=W;class My{constructor(t){C(this,"brand");this.value=t}getSQL(){return new Gt([this])}}C(My,ST,"Name");const gA={mapFromDriverValue:e=>e},vA={mapToDriverValue:e=>e};({...gA,...vA});var bT;bT=W;class Pw{constructor(t,i=vA){C(this,"brand");this.value=t,this.encoder=i}getSQL(){return new Gt([this])}}C(Pw,bT,"Param");function $w(e,...t){const i=[];(t.length>0||e.length>0&&e[0]!=="")&&i.push(new Wn(e[0]));for(const[r,o]of t.entries())i.push(o,new Wn(e[r+1]));return new Gt(i)}(e=>{function t(){return new Gt([])}e.empty=t;function i(m){return new Gt(m)}e.fromList=i;function r(m){return new Gt([new Wn(m)])}e.raw=r;function o(m,y){const g=[];for(const[v,b]of m.entries())v>0&&y!==void 0&&g.push(y),g.push(b);return new Gt(g)}e.join=o;function u(m){return new My(m)}e.identifier=u;function f(m){return new Oy(m)}e.placeholder=f;function h(m,y){return new Pw(m,y)}e.param=h})($w);(e=>{var i;i=W;const r=class r{constructor(u,f){C(this,"isSelectionField",!1);this.sql=u,this.fieldAlias=f}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};C(r,i,"SQL.Aliased");let t=r;e.Aliased=t})(Gt);var wT;wT=W;class Oy{constructor(t){this.name=t}getSQL(){return new Gt([this])}}C(Oy,wT,"Placeholder");const aF=Symbol.for("drizzle:IsDrizzleView");var xT,CT,ET;ET=W,CT=Nf,xT=aF;class SA{constructor({name:t,schema:i,selectedFields:r,query:o}){C(this,CT);C(this,xT,!0);this[Nf]={name:t,originalName:t,schema:i,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Gt([this])}}C(SA,ET,"View");hg.prototype.getSQL=function(){return new Gt([this])};Xe.prototype.getSQL=function(){return new Gt([this])};Bw.prototype.getSQL=function(){return new Gt([this])};function oF(e){return e[Xe.Symbol.Columns]}function Tt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var _T,DT;class ep extends(DT=ze,_T=W,DT){generatedAlwaysAsIdentity(t){if(t){const{name:i,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:i,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:i,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:i,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}C(ep,_T,"PgIntColumnBaseBuilder");var TT,RT;class bA extends(RT=ep,TT=W,RT){constructor(t){super(t,"number","PgBigInt53")}build(t){return new wA(t,this.config)}}C(bA,TT,"PgBigInt53Builder");var MT,OT;class wA extends(OT=De,MT=W,OT){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}C(wA,MT,"PgBigInt53");var kT,NT;class xA extends(NT=ep,kT=W,NT){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new CA(t,this.config)}}C(xA,kT,"PgBigInt64Builder");var AT,zT;class CA extends(zT=De,AT=W,zT){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}C(CA,AT,"PgBigInt64");function lF(e,t){const{name:i,config:r}=Tt(e,t);return r.mode==="number"?new bA(i):new xA(i)}var jT,LT;class EA extends(LT=ze,jT=W,LT){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new _A(t,this.config)}}C(EA,jT,"PgBigSerial53Builder");var IT,HT;class _A extends(HT=De,IT=W,HT){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}C(_A,IT,"PgBigSerial53");var UT,BT;class DA extends(BT=ze,UT=W,BT){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new TA(t,this.config)}}C(DA,UT,"PgBigSerial64Builder");var PT,$T;class TA extends($T=De,PT=W,$T){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}C(TA,PT,"PgBigSerial64");function uF(e,t){const{name:i,config:r}=Tt(e,t);return r.mode==="number"?new EA(i):new DA(i)}var VT,FT;class RA extends(FT=ze,VT=W,FT){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new MA(t,this.config)}}C(RA,VT,"PgBooleanBuilder");var GT,qT;class MA extends(qT=De,GT=W,qT){getSQLType(){return"boolean"}}C(MA,GT,"PgBoolean");function cF(e){return new RA(e??"")}var KT,QT;class OA extends(QT=ze,KT=W,QT){constructor(t,i){super(t,"string","PgChar"),this.config.length=i.length,this.config.enumValues=i.enum}build(t){return new kA(t,this.config)}}C(OA,KT,"PgCharBuilder");var YT,JT;class kA extends(JT=De,YT=W,JT){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}C(kA,YT,"PgChar");function fF(e,t={}){const{name:i,config:r}=Tt(e,t);return new OA(i,r)}var XT,ZT;class NA extends(ZT=ze,XT=W,ZT){constructor(t){super(t,"string","PgCidr")}build(t){return new AA(t,this.config)}}C(NA,XT,"PgCidrBuilder");var WT,eR;class AA extends(eR=De,WT=W,eR){getSQLType(){return"cidr"}}C(AA,WT,"PgCidr");function dF(e){return new NA(e??"")}var tR,nR;class zA extends(nR=ze,tR=W,nR){constructor(t,i,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=i,this.config.customTypeParams=r}build(t){return new jA(t,this.config)}}C(zA,tR,"PgCustomColumnBuilder");var iR,sR;class jA extends(sR=De,iR=W,sR){constructor(i,r){super(i,r);C(this,"sqlName");C(this,"mapTo");C(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(i){return typeof this.mapFrom=="function"?this.mapFrom(i):i}mapToDriverValue(i){return typeof this.mapTo=="function"?this.mapTo(i):i}}C(jA,iR,"PgCustomColumn");function hF(e){return(t,i)=>{const{name:r,config:o}=Tt(t,i);return new zA(r,o,e)}}var rR,aR;class cc extends(aR=ze,rR=W,aR){defaultNow(){return this.default($w`now()`)}}C(cc,rR,"PgDateColumnBaseBuilder");var oR,lR;class LA extends(lR=cc,oR=W,lR){constructor(t){super(t,"date","PgDate")}build(t){return new IA(t,this.config)}}C(LA,oR,"PgDateBuilder");var uR,cR;class IA extends(cR=De,uR=W,cR){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}C(IA,uR,"PgDate");var fR,dR;class HA extends(dR=cc,fR=W,dR){constructor(t){super(t,"string","PgDateString")}build(t){return new UA(t,this.config)}}C(HA,fR,"PgDateStringBuilder");var hR,pR;class UA extends(pR=De,hR=W,pR){getSQLType(){return"date"}}C(UA,hR,"PgDateString");function pF(e,t){const{name:i,config:r}=Tt(e,t);return(r==null?void 0:r.mode)==="date"?new LA(i):new HA(i)}var mR,yR;class BA extends(yR=ze,mR=W,yR){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new PA(t,this.config)}}C(BA,mR,"PgDoublePrecisionBuilder");var gR,vR;class PA extends(vR=De,gR=W,vR){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}C(PA,gR,"PgDoublePrecision");function mF(e){return new BA(e??"")}var SR,bR;class $A extends(bR=ze,SR=W,bR){constructor(t){super(t,"string","PgInet")}build(t){return new VA(t,this.config)}}C($A,SR,"PgInetBuilder");var wR,xR;class VA extends(xR=De,wR=W,xR){getSQLType(){return"inet"}}C(VA,wR,"PgInet");function yF(e){return new $A(e??"")}var CR,ER;class FA extends(ER=ep,CR=W,ER){constructor(t){super(t,"number","PgInteger")}build(t){return new GA(t,this.config)}}C(FA,CR,"PgIntegerBuilder");var _R,DR;class GA extends(DR=De,_R=W,DR){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}C(GA,_R,"PgInteger");function gF(e){return new FA(e??"")}var TR,RR;class qA extends(RR=ze,TR=W,RR){constructor(t,i){super(t,"string","PgInterval"),this.config.intervalConfig=i}build(t){return new KA(t,this.config)}}C(qA,TR,"PgIntervalBuilder");var MR,OR;class KA extends(OR=De,MR=W,OR){constructor(){super(...arguments);C(this,"fields",this.config.intervalConfig.fields);C(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const i=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${i}${r}`}}C(KA,MR,"PgInterval");function vF(e,t={}){const{name:i,config:r}=Tt(e,t);return new qA(i,r)}var kR,NR;class QA extends(NR=ze,kR=W,NR){constructor(t){super(t,"json","PgJson")}build(t){return new YA(t,this.config)}}C(QA,kR,"PgJsonBuilder");var AR,zR;class YA extends(zR=De,AR=W,zR){constructor(t,i){super(t,i)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}C(YA,AR,"PgJson");function SF(e){return new QA(e??"")}var jR,LR;class JA extends(LR=ze,jR=W,LR){constructor(t){super(t,"json","PgJsonb")}build(t){return new XA(t,this.config)}}C(JA,jR,"PgJsonbBuilder");var IR,HR;class XA extends(HR=De,IR=W,HR){constructor(t,i){super(t,i)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}C(XA,IR,"PgJsonb");function bF(e){return new JA(e??"")}var UR,BR;class ZA extends(BR=ze,UR=W,BR){constructor(t){super(t,"array","PgLine")}build(t){return new WA(t,this.config)}}C(ZA,UR,"PgLineBuilder");var PR,$R;class WA extends($R=De,PR=W,$R){getSQLType(){return"line"}mapFromDriverValue(t){const[i,r,o]=t.slice(1,-1).split(",");return[Number.parseFloat(i),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}C(WA,PR,"PgLine");var VR,FR;class e4 extends(FR=ze,VR=W,FR){constructor(t){super(t,"json","PgLineABC")}build(t){return new t4(t,this.config)}}C(e4,VR,"PgLineABCBuilder");var GR,qR;class t4 extends(qR=De,GR=W,qR){getSQLType(){return"line"}mapFromDriverValue(t){const[i,r,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(i),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}C(t4,GR,"PgLineABC");function wF(e,t){const{name:i,config:r}=Tt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new ZA(i):new e4(i)}var KR,QR;class n4 extends(QR=ze,KR=W,QR){constructor(t){super(t,"string","PgMacaddr")}build(t){return new i4(t,this.config)}}C(n4,KR,"PgMacaddrBuilder");var YR,JR;class i4 extends(JR=De,YR=W,JR){getSQLType(){return"macaddr"}}C(i4,YR,"PgMacaddr");function xF(e){return new n4(e??"")}var XR,ZR;class s4 extends(ZR=ze,XR=W,ZR){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new r4(t,this.config)}}C(s4,XR,"PgMacaddr8Builder");var WR,eM;class r4 extends(eM=De,WR=W,eM){getSQLType(){return"macaddr8"}}C(r4,WR,"PgMacaddr8");function CF(e){return new s4(e??"")}var tM,nM;class a4 extends(nM=ze,tM=W,nM){constructor(t,i,r){super(t,"string","PgNumeric"),this.config.precision=i,this.config.scale=r}build(t){return new o4(t,this.config)}}C(a4,tM,"PgNumericBuilder");var iM,sM;class o4 extends(sM=De,iM=W,sM){constructor(i,r){super(i,r);C(this,"precision");C(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}C(o4,iM,"PgNumeric");function EF(e,t){const{name:i,config:r}=Tt(e,t);return new a4(i,r==null?void 0:r.precision,r==null?void 0:r.scale)}var rM,aM;class l4 extends(aM=ze,rM=W,aM){constructor(t){super(t,"array","PgPointTuple")}build(t){return new u4(t,this.config)}}C(l4,rM,"PgPointTupleBuilder");var oM,lM;class u4 extends(lM=De,oM=W,lM){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[i,r]=t.slice(1,-1).split(",");return[Number.parseFloat(i),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}C(u4,oM,"PgPointTuple");var uM,cM;class c4 extends(cM=ze,uM=W,cM){constructor(t){super(t,"json","PgPointObject")}build(t){return new f4(t,this.config)}}C(c4,uM,"PgPointObjectBuilder");var fM,dM;class f4 extends(dM=De,fM=W,dM){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[i,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(i),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}C(f4,fM,"PgPointObject");function _F(e,t){const{name:i,config:r}=Tt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new l4(i):new c4(i)}function DF(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(Number.parseInt(e.slice(i,i+2),16));return new Uint8Array(t)}function E2(e,t){const i=new ArrayBuffer(8),r=new DataView(i);for(let o=0;o<8;o++)r.setUint8(o,e[t+o]);return r.getFloat64(0,!0)}function d4(e){const t=DF(e);let i=0;const r=t[i];i+=1;const o=new DataView(t.buffer),u=o.getUint32(i,r===1);if(i+=4,u&536870912&&(o.getUint32(i,r===1),i+=4),(u&65535)===1){const f=E2(t,i);i+=8;const h=E2(t,i);return i+=8,[f,h]}throw new Error("Unsupported geometry type")}var hM,pM;class h4 extends(pM=ze,hM=W,pM){constructor(t){super(t,"array","PgGeometry")}build(t){return new p4(t,this.config)}}C(h4,hM,"PgGeometryBuilder");var mM,yM;class p4 extends(yM=De,mM=W,yM){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return d4(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}C(p4,mM,"PgGeometry");var gM,vM;class m4 extends(vM=ze,gM=W,vM){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new y4(t,this.config)}}C(m4,gM,"PgGeometryObjectBuilder");var SM,bM;class y4 extends(bM=De,SM=W,bM){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const i=d4(t);return{x:i[0],y:i[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}C(y4,SM,"PgGeometryObject");function TF(e,t){const{name:i,config:r}=Tt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new h4(i):new m4(i)}var wM,xM;class g4 extends(xM=ze,wM=W,xM){constructor(t,i){super(t,"number","PgReal"),this.config.length=i}build(t){return new v4(t,this.config)}}C(g4,wM,"PgRealBuilder");var CM,EM;class v4 extends(EM=De,CM=W,EM){constructor(i,r){super(i,r);C(this,"mapFromDriverValue",i=>typeof i=="string"?Number.parseFloat(i):i)}getSQLType(){return"real"}}C(v4,CM,"PgReal");function RF(e){return new g4(e??"")}var _M,DM;class S4 extends(DM=ze,_M=W,DM){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new b4(t,this.config)}}C(S4,_M,"PgSerialBuilder");var TM,RM;class b4 extends(RM=De,TM=W,RM){getSQLType(){return"serial"}}C(b4,TM,"PgSerial");function MF(e){return new S4(e??"")}var MM,OM;class w4 extends(OM=ep,MM=W,OM){constructor(t){super(t,"number","PgSmallInt")}build(t){return new x4(t,this.config)}}C(w4,MM,"PgSmallIntBuilder");var kM,NM;class x4 extends(NM=De,kM=W,NM){constructor(){super(...arguments);C(this,"mapFromDriverValue",i=>typeof i=="string"?Number(i):i)}getSQLType(){return"smallint"}}C(x4,kM,"PgSmallInt");function OF(e){return new w4(e??"")}var AM,zM;class C4 extends(zM=ze,AM=W,zM){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new E4(t,this.config)}}C(C4,AM,"PgSmallSerialBuilder");var jM,LM;class E4 extends(LM=De,jM=W,LM){getSQLType(){return"smallserial"}}C(E4,jM,"PgSmallSerial");function kF(e){return new C4(e??"")}var IM,HM;class _4 extends(HM=ze,IM=W,HM){constructor(t,i){super(t,"string","PgText"),this.config.enumValues=i.enum}build(t){return new D4(t,this.config)}}C(_4,IM,"PgTextBuilder");var UM,BM;class D4 extends(BM=De,UM=W,BM){constructor(){super(...arguments);C(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}C(D4,UM,"PgText");function NF(e,t={}){const{name:i,config:r}=Tt(e,t);return new _4(i,r)}var PM,$M;class T4 extends($M=cc,PM=W,$M){constructor(t,i,r){super(t,"string","PgTime"),this.withTimezone=i,this.precision=r,this.config.withTimezone=i,this.config.precision=r}build(t){return new R4(t,this.config)}}C(T4,PM,"PgTimeBuilder");var VM,FM;class R4 extends(FM=De,VM=W,FM){constructor(i,r){super(i,r);C(this,"withTimezone");C(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(R4,VM,"PgTime");function AF(e,t={}){const{name:i,config:r}=Tt(e,t);return new T4(i,r.withTimezone??!1,r.precision)}var GM,qM;class M4 extends(qM=cc,GM=W,qM){constructor(t,i,r){super(t,"date","PgTimestamp"),this.config.withTimezone=i,this.config.precision=r}build(t){return new O4(t,this.config)}}C(M4,GM,"PgTimestampBuilder");var KM,QM;class O4 extends(QM=De,KM=W,QM){constructor(i,r){super(i,r);C(this,"withTimezone");C(this,"precision");C(this,"mapFromDriverValue",i=>new Date(this.withTimezone?i:i+"+0000"));C(this,"mapToDriverValue",i=>i.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(O4,KM,"PgTimestamp");var YM,JM;class k4 extends(JM=cc,YM=W,JM){constructor(t,i,r){super(t,"string","PgTimestampString"),this.config.withTimezone=i,this.config.precision=r}build(t){return new N4(t,this.config)}}C(k4,YM,"PgTimestampStringBuilder");var XM,ZM;class N4 extends(ZM=De,XM=W,ZM){constructor(i,r){super(i,r);C(this,"withTimezone");C(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(N4,XM,"PgTimestampString");function Pb(e,t={}){const{name:i,config:r}=Tt(e,t);return(r==null?void 0:r.mode)==="string"?new k4(i,r.withTimezone??!1,r.precision):new M4(i,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var WM,eO;class A4 extends(eO=ze,WM=W,eO){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default($w`gen_random_uuid()`)}build(t){return new z4(t,this.config)}}C(A4,WM,"PgUUIDBuilder");var tO,nO;class z4 extends(nO=De,tO=W,nO){getSQLType(){return"uuid"}}C(z4,tO,"PgUUID");function ic(e){return new A4(e??"")}var iO,sO;class j4 extends(sO=ze,iO=W,sO){constructor(t,i){super(t,"string","PgVarchar"),this.config.length=i.length,this.config.enumValues=i.enum}build(t){return new L4(t,this.config)}}C(j4,iO,"PgVarcharBuilder");var rO,aO;class L4 extends(aO=De,rO=W,aO){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}C(L4,rO,"PgVarchar");function ky(e,t={}){const{name:i,config:r}=Tt(e,t);return new j4(i,r)}var oO,lO;class I4 extends(lO=ze,oO=W,lO){constructor(t,i){super(t,"string","PgBinaryVector"),this.config.dimensions=i.dimensions}build(t){return new H4(t,this.config)}}C(I4,oO,"PgBinaryVectorBuilder");var uO,cO;class H4 extends(cO=De,uO=W,cO){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}C(H4,uO,"PgBinaryVector");function zF(e,t){const{name:i,config:r}=Tt(e,t);return new I4(i,r)}var fO,dO;class U4 extends(dO=ze,fO=W,dO){constructor(t,i){super(t,"array","PgHalfVector"),this.config.dimensions=i.dimensions}build(t){return new B4(t,this.config)}}C(U4,fO,"PgHalfVectorBuilder");var hO,pO;class B4 extends(pO=De,hO=W,pO){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(i){return JSON.stringify(i)}mapFromDriverValue(i){return i.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}C(B4,hO,"PgHalfVector");function jF(e,t){const{name:i,config:r}=Tt(e,t);return new U4(i,r)}var mO,yO;class P4 extends(yO=ze,mO=W,yO){constructor(t,i){super(t,"string","PgSparseVector"),this.config.dimensions=i.dimensions}build(t){return new $4(t,this.config)}}C(P4,mO,"PgSparseVectorBuilder");var gO,vO;class $4 extends(vO=De,gO=W,vO){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}C($4,gO,"PgSparseVector");function LF(e,t){const{name:i,config:r}=Tt(e,t);return new P4(i,r)}var SO,bO;class V4 extends(bO=ze,SO=W,bO){constructor(t,i){super(t,"array","PgVector"),this.config.dimensions=i.dimensions}build(t){return new F4(t,this.config)}}C(V4,SO,"PgVectorBuilder");var wO,xO;class F4 extends(xO=De,wO=W,xO){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(i){return JSON.stringify(i)}mapFromDriverValue(i){return i.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}C(F4,wO,"PgVector");function IF(e,t){const{name:i,config:r}=Tt(e,t);return new V4(i,r)}function HF(){return{bigint:lF,bigserial:uF,boolean:cF,char:fF,cidr:dF,customType:hF,date:pF,doublePrecision:mF,inet:yF,integer:gF,interval:vF,json:SF,jsonb:bF,line:wF,macaddr:xF,macaddr8:CF,numeric:EF,point:_F,geometry:TF,real:RF,serial:MF,smallint:OF,smallserial:kF,text:NF,time:AF,timestamp:Pb,uuid:ic,varchar:ky,bit:zF,halfvec:jF,sparsevec:LF,vector:IF}}const $b=Symbol.for("drizzle:PgInlineForeignKeys"),_2=Symbol.for("drizzle:EnableRLS");var CO,EO,_O,DO,TO;class Rs extends(TO=Xe,DO=W,_O=$b,EO=_2,CO=Xe.Symbol.ExtraConfigBuilder,TO){constructor(){super(...arguments);C(this,_O,[]);C(this,EO,!1);C(this,CO)}}C(Rs,DO,"PgTable"),C(Rs,"Symbol",Object.assign({},Xe.Symbol,{InlineForeignKeys:$b,EnableRLS:_2}));function UF(e,t,i,r,o=e){const u=new Rs(e,r,o),f=typeof t=="function"?t(HF()):t,h=Object.fromEntries(Object.entries(f).map(([g,v])=>{const b=v;b.setName(g);const E=b.build(u);return u[$b].push(...b.buildForeignKeys(E,u)),[g,E]})),m=Object.fromEntries(Object.entries(f).map(([g,v])=>{const b=v;b.setName(g);const E=b.buildExtraConfigColumn(u);return[g,E]})),y=Object.assign(u,h);return y[Xe.Symbol.Columns]=h,y[Xe.Symbol.ExtraConfigColumns]=m,Object.assign(y,{enableRLS:()=>(y[Rs.Symbol.EnableRLS]=!0,y)})}const G4=(e,t,i)=>UF(e,t,i,void 0);var RO;RO=W;class q4{constructor(t,i){C(this,"columns");C(this,"name");this.columns=t,this.name=i}build(t){return new K4(t,this.columns,this.name)}}C(q4,RO,"PgPrimaryKeyBuilder");var MO;MO=W;class K4{constructor(t,i,r){C(this,"columns");C(this,"name");this.table=t,this.columns=i,this.name=r}getName(){return this.name??`${this.table[Rs.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}C(K4,MO,"PgPrimaryKey");var OO;OO=W;class Vw{constructor(t,i,r){C(this,"referencedTableName");C(this,"fieldName");this.sourceTable=t,this.referencedTable=i,this.relationName=r,this.referencedTableName=i[Xe.Symbol.Name]}}C(Vw,OO,"Relation");var kO;kO=W;class pg{constructor(t,i){this.table=t,this.config=i}}C(pg,kO,"Relations");var NO,AO;const Qy=class Qy extends(AO=Vw,NO=W,AO){constructor(t,i,r,o){super(t,i,r==null?void 0:r.relationName),this.config=r,this.isNullable=o}withFieldName(t){const i=new Qy(this.sourceTable,this.referencedTable,this.config,this.isNullable);return i.fieldName=t,i}};C(Qy,NO,"One");let eo=Qy;var zO,jO;const Yy=class Yy extends(jO=Vw,zO=W,jO){constructor(t,i,r){super(t,i,r==null?void 0:r.relationName),this.config=r}withFieldName(t){const i=new Yy(this.sourceTable,this.referencedTable,this.config);return i.fieldName=t,i}};C(Yy,zO,"Many");let Vb=Yy;function BF(e,t){return new pg(e,i=>Object.fromEntries(Object.entries(t(i)).map(([r,o])=>[r,o.withFieldName(r)])))}function PF(e){return function(i,r){return new eo(e,i,r,(r==null?void 0:r.fields.reduce((o,u)=>o&&u.notNull,!0))??!1)}}function $F(e){return function(i,r){return new Vb(e,i,r)}}function VF(e){return{one:PF(e),many:$F(e)}}var LO;LO=W;class Q4{constructor(t,i){C(this,"brand");this.name=t,this.value=i}build(t){return new Y4(t,this)}}C(Q4,LO,"PgCheckBuilder");var IO;IO=W;class Y4{constructor(t,i){C(this,"name");C(this,"value");this.table=t,this.name=i.name,this.value=i.value}}C(Y4,IO,"PgCheck");var HO;HO=W;class J4{constructor(t,i,r,o,u="btree"){C(this,"config");this.config={name:o,columns:t,unique:i,only:r,method:u}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new FF(this.config,t)}}C(J4,HO,"PgIndexBuilder");var UO,yS;let FF=(UO=W,yS=class{constructor(t,i){C(this,"config");this.config={...t,table:i}}},C(yS,UO,"PgIndex"),yS);var BO;BO=W;class X4{constructor(t,i){C(this,"as");C(this,"for");C(this,"to");C(this,"using");C(this,"withCheck");C(this,"_linkedTable");this.name=t,i&&(this.as=i.as,this.for=i.for,this.to=i.to,this.using=i.using,this.withCheck=i.withCheck)}link(t){return this._linkedTable=t,this}}C(X4,BO,"PgPolicy");function GF(e){const t=Object.values(e[Xe.Symbol.Columns]),i=[],r=[],o=[],u=Object.values(e[Rs.Symbol.InlineForeignKeys]),f=[],h=e[Xe.Symbol.Name],m=e[Xe.Symbol.Schema],y=[],g=e[Rs.Symbol.EnableRLS],v=e[Rs.Symbol.ExtraConfigBuilder];if(v!==void 0){const b=v(e[Xe.Symbol.ExtraConfigColumns]),E=Array.isArray(b)?b.flat(1):Object.values(b);for(const R of E)Pe(R,J4)?i.push(R.build(e)):Pe(R,Q4)?r.push(R.build(e)):Pe(R,fA)?f.push(R.build(e)):Pe(R,q4)?o.push(R.build(e)):Pe(R,Uw)?u.push(R.build(e)):Pe(R,X4)&&y.push(R)}return{columns:t,indexes:i,foreignKeys:u,checks:r,primaryKeys:o,uniqueConstraints:f,name:h,schema:m,policies:y,enableRLS:g}}const Z4={createdAt:Pb("createdAt").notNull(),createdBy:ic("createdBy").notNull(),updatedAt:Pb("updatedAt").notNull(),updatedBy:ic("updatedBy").notNull()},Ny=G4("user",{id:ic("id").primaryKey(),email:ky("title").notNull(),...Z4}),qF={...Z4,createdBy:ic("createdBy").notNull().references(()=>Ny.id,{onDelete:"cascade"})},Fb=G4("draft",{id:ic("id").primaryKey(),visibility:ky("visibility",{length:7}).notNull(),title:ky("title").notNull(),...qF}),KF=BF(Fb,({one:e})=>({creator:e(Ny,{fields:[Fb.createdBy],references:[Ny.id]})})),QF=Object.freeze(Object.defineProperty({__proto__:null,draftsTable:Fb,draftsTableRelations:KF,usersTable:Ny},Symbol.toStringTag,{value:"Module"}));var W4=e=>{if(Pe(e,Rs))return GF(e);throw new Error(`drizzle-zero: Unsupported table type: ${Ds(e)}. Only Postgres tables are supported.`)},D2={number:"number",bigint:"number",boolean:"boolean",date:"number"},T2={PgText:"string",PgChar:"string",PgVarchar:"string",PgUUID:"string",PgEnumColumn:"string",PgJsonb:"json",PgJson:"json",PgNumeric:"number",PgDateString:"number",PgTimestampString:"number"};function YF(e){return Object.entries(e)}var JF=(e,t)=>{const i=oF(e),r=W4(e),o=[],u=YF(i).reduce((y,[g,v])=>{const b=v.name,E=t[b];if(typeof E!="boolean"&&typeof E!="object"&&typeof E<"u")throw new Error(`drizzle-zero: Invalid column config for column ${b} - expected boolean or object but was ${typeof E}`);if(!E)return y;typeof E!="boolean"&&E.schema.customType;const R=T2[v.columnType]??D2[v.dataType]??null;if(R===null)throw new Error(`drizzle-zero: Unsupported column type: ${v.columnType} (${v.dataType}). It must be supported by Zero, e.g.: ${Object.keys({...D2,...T2}).join(" | ")}`);const A=typeof E=="boolean"?v.hasDefault&&v.defaultFn===void 0?!0:!v.notNull:E.schema.optional;if(v.primary){if(A)throw new Error(`drizzle-zero: Primary key column ${b} cannot have a default value defined on the database level and cannot be optional, since auto-incrementing primary keys can cause race conditions with concurrent inserts. See the Zero docs for more information.`);o.push(b)}if(E&&typeof E!="boolean")return{...y,[b]:E};const z=v.enumValues?GB():R==="string"?PB():R==="number"?$B():R==="json"?FB():VB();return{...y,[b]:A?z.optional():z}},{}),f=Ds(e),h=[...o,...r.primaryKeys.flatMap(y=>y.columns.map(g=>g.name)).filter(Boolean)];if(!h.length)throw new Error(`drizzle-zero: No primary keys found in table - ${f}. Did you forget to define a primary key?`);return BB(f).columns(u).primaryKey(...h)},XF=(e,t)=>{var o,u,f,h,m;let i={};for(const y of Object.values(e))if(Pe(y,Xe)){const g=y,v=Ds(g),b=t.tables[v];if(!b)continue;const E=JF(g,b);i[v]=E.build()}let r={};if(t.manyToMany){for(const[y,g]of Object.entries(t.manyToMany))if(g)for(const[v,[b,E]]of Object.entries(g))if(typeof b=="string"&&typeof E=="string"){const R=b,A=E,z=Object.values(e).find(G=>Pe(G,Xe)&&Ds(G)===y),j=Object.values(e).find(G=>Pe(G,Xe)&&Ds(G)===A);if(!z||!j)throw new Error(`drizzle-zero: Invalid many-to-many configuration for ${String(y)}.${v}: Could not find ${z?j?"junction":"destination":"source"} table`);const U=cS(e,{sourceTable:z,referencedTableName:R}),X=cS(e,{sourceTable:j,referencedTableName:R});if(!U.sourceFieldNames.length||!X.sourceFieldNames.length||!X.destFieldNames.length||!U.destFieldNames.length)throw new Error(`drizzle-zero: Invalid many-to-many configuration for ${String(y)}.${v}: Could not find foreign key relationships in junction table ${R}`);if(!t.tables[R]||!t.tables[y]||!t.tables[A])continue;r[y]={...(r==null?void 0:r[y])??{},[v]:[{sourceField:U.sourceFieldNames,destField:U.destFieldNames,destSchema:R,cardinality:"many"},{sourceField:X.destFieldNames,destField:X.sourceFieldNames,destSchema:A,cardinality:"many"}]}}else{const R=(b==null?void 0:b.destTable)??null,A=(b==null?void 0:b.sourceField)??null,z=(b==null?void 0:b.destField)??null,j=(E==null?void 0:E.destTable)??null,U=(E==null?void 0:E.sourceField)??null,X=(E==null?void 0:E.destField)??null;if(!A||!z||!U||!X||!R||!j)throw new Error(`drizzle-zero: Invalid many-to-many configuration for ${String(y)}.${v}: Not all required fields were provided.`);if(!t.tables[R]||!t.tables[y]||!t.tables[j])continue;r[y]={...(r==null?void 0:r[y])??{},[v]:[{sourceField:A,destField:z,destSchema:R,cardinality:"many"},{sourceField:U,destField:X,destSchema:j,cardinality:"many"}]}}}for(const y of Object.values(e))if(Pe(y,pg)){const g=Ds(y.table),v=e6(y);for(const b of Object.values(v)){let E=[],R=[];if(Pe(b,eo)&&(E=((u=(o=b==null?void 0:b.config)==null?void 0:o.fields)==null?void 0:u.map(A=>A==null?void 0:A.name))??[],R=((h=(f=b==null?void 0:b.config)==null?void 0:f.references)==null?void 0:h.map(A=>A==null?void 0:A.name))??[]),!E.length||!R.length)if(b.relationName){const A=ZF(e,b);E=A.sourceFieldNames,R=A.destFieldNames}else{const A=cS(e,b);E=A.sourceFieldNames,R=A.destFieldNames}if(!E.length||!R.length)throw new Error(`drizzle-zero: No relationship found for: ${b.fieldName} (${Pe(b,eo)?"One":"Many"} from ${g} to ${b.referencedTableName}). Did you forget to define foreign keys${b.relationName?` for named relation "${b.relationName}"`:""}?`);if(!(!t.tables[g]||!t.tables[b.referencedTableName])){if((m=r[g])!=null&&m[b.fieldName])throw new Error(`drizzle-zero: Duplicate relationship found for: ${b.fieldName} (from ${g} to ${b.referencedTableName}).`);r[g]={...(r==null?void 0:r[g])??{},[b.fieldName]:[{sourceField:E,destField:R,destSchema:b.referencedTableName,cardinality:Pe(b,eo)?"one":"many"}]}}}}return{version:t.version,tables:i,relationships:r}},cS=(e,t)=>{for(const i of Object.values(e))if(Pe(i,Xe)&&Ds(i)===t.referencedTableName){const o=W4(i);for(const u of o.foreignKeys){const f=u.reference(),h=Ds(f.foreignTable),m=Ds(t.sourceTable);if(h===m)return{sourceFieldNames:f.foreignColumns.map(y=>y.name),destFieldNames:f.columns.map(y=>y.name)}}}return{sourceFieldNames:[],destFieldNames:[]}},ZF=(e,t)=>{var i,r,o,u;for(const f of Object.values(e))if(Pe(f,pg)){const h=e6(f);for(const m of Object.values(h))if(Pe(m,eo)&&m.relationName===t.relationName)return{destFieldNames:((r=(i=m.config)==null?void 0:i.fields)==null?void 0:r.map(y=>y.name))??[],sourceFieldNames:((u=(o=m.config)==null?void 0:o.references)==null?void 0:u.map(y=>y.name))??[]}}return{sourceFieldNames:[],destFieldNames:[]}},e6=e=>e.config(VF(e.table));const t6=XF(QF,{version:1,tables:{draft:{id:!0,visibility:!0,title:!0,createdAt:!0,createdBy:!0,updatedAt:!0,updatedBy:!0},user:{id:!0,email:!0,createdAt:!0,createdBy:!0,updatedAt:!0,updatedBy:!0}}});function R2(...e){return(t,i)=>i.and(...e.map(r=>r(t,i)))}sP(t6,()=>{const e=(u,f)=>f.and(f.cmpLit(u.sub,"IS NOT",null)),t=(u,f)=>f.and(e(u,f),f.cmp("createdBy","=",u.sub)),i=(u,f)=>f.and(e(u,f),f.cmp("updatedBy","=",u.sub)),r=(u,f)=>f.or(t(u,f),f.cmp("visibility","=","public")),o=(u,f)=>f.and(e(u,f),f.cmp("id","=",u.sub));return{draft:{row:{insert:[R2(t,i)],update:{preMutation:[R2(t,i)]},delete:[t],select:[r]}},user:{row:{insert:tS,update:{preMutation:tS},delete:tS,select:[o]}}}});function WF(e){return Gb(e,[])}function Gb(e,t){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":{if(e===null)return null;if(t.includes(e))throw new Error("Cyclic object");if(t.push(e),Array.isArray(e)){const r=e.map(o=>Gb(o,t));return t.pop(),r}const i={};for(const r in e)if(Ir(e,r)){const o=e[r];o!==void 0&&(i[r]=Gb(o,t))}return t.pop(),i}default:throw new Error(`Invalid type: ${typeof e}`)}}var n6=we.createContext(void 0);function i6(){const e=we.useContext(n6);if(e===void 0)throw new Error("useZero must be used within a ZeroProvider");return e}function eG({children:e,zero:t}){return w.jsx(n6.Provider,{value:t,children:e})}function tG(e,t=!0){const i=i6(),r=oG.getView(i.clientID,e,t&&i.server!==null);return we.useSyncExternalStore(r.subscribeReactInternals,r.getSnapshot,r.getSnapshot)}var s6=[],nG=()=>()=>{},Fw={type:"unknown"},Gw={type:"complete"},r6=[void 0,Fw],iG=[void 0,Gw],a6=[s6,Fw],sG=[s6,Gw];function o6(e){return e?r6:a6}function rG(e,t,i){return e&&t===void 0?i==="complete"?iG:r6:!e&&t.length===0?i==="complete"?sG:a6:[t,i==="complete"?Gw:Fw]}var Mr,PO,aG=(PO=class{constructor(){x(this,Mr,new Map)}getView(e,t,i){if(!i)return{getSnapshot:()=>o6(t.format.singular),subscribeReactInternals:nG};const r=t.hash()+e;let o=d(this,Mr).get(r);return o||(o=new lG(t,u=>{const f=d(this,Mr).get(r);if(f&&f!==u)throw new Error("View already exists");d(this,Mr).set(r,u)},()=>{d(this,Mr).delete(r)}),d(this,Mr).set(r,o)),o}},Mr=new WeakMap,PO),oG=new aG,Cs,$h,Vh,Xu,Zu,Es,Jy,Fh,$O,lG=($O=class{constructor(e,t,i){x(this,Cs);x(this,$h);x(this,Vh);x(this,Xu);x(this,Zu);x(this,Es);x(this,Jy,(e,t)=>{const i=e===void 0?e:WF(e);D(this,Zu,rG(d(this,Xu).format.singular,i,t));for(const r of d(this,Es))r()});x(this,Fh,()=>{d(this,Cs)||(D(this,Cs,d(this,Xu).materialize()),d(this,Cs).addListener(d(this,Jy)),d(this,Vh).call(this,this))});C(this,"getSnapshot",()=>d(this,Zu));C(this,"subscribeReactInternals",e=>(d(this,Es).add(e),d(this,Fh).call(this),()=>{d(this,Es).delete(e),d(this,Es).size===0&&setTimeout(()=>{var t;d(this,Es).size>0||d(this,Cs)!==void 0&&((t=d(this,Cs))==null||t.destroy(),D(this,Cs,void 0),d(this,$h).call(this))},10)}));D(this,Zu,o6(e.format.singular)),D(this,Vh,t),D(this,$h,i),D(this,Es,new Set),D(this,Xu,e),d(this,Fh).call(this)}},Cs=new WeakMap,$h=new WeakMap,Vh=new WeakMap,Xu=new WeakMap,Zu=new WeakMap,Es=new WeakMap,Jy=new WeakMap,Fh=new WeakMap,$O);const uG=i6;function cG(e,t){return new XV({userID:(e==null?void 0:e.subject.properties.id)??"anon",server:"https://zero.dev.sst-zero.lshay.xyz/",schema:t6,auth:()=>e==null?void 0:e.tokens.access,kvStore:"mem"})}var ls;function l6(e){return{lang:(e==null?void 0:e.lang)??(ls==null?void 0:ls.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(ls==null?void 0:ls.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(ls==null?void 0:ls.abortPipeEarly)}}var fS;function fG(e){return fS==null?void 0:fS.get(e)}var dS;function dG(e){return dS==null?void 0:dS.get(e)}var hS;function hG(e,t){var i;return(i=hS==null?void 0:hS.get(e))==null?void 0:i.get(t)}function u6(e){var i,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:r.name))??"null":t}function sc(e,t,i,r,o){const u=o&&"input"in o?o.input:i.value,f=(o==null?void 0:o.expected)??e.expects??null,h=(o==null?void 0:o.received)??u6(u),m={kind:e.kind,type:e.type,input:u,expected:f,received:h,message:`Invalid ${t}: ${f?`Expected ${f} but r`:"R"}eceived ${h}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},y=e.kind==="schema",g=(o==null?void 0:o.message)??e.message??hG(e.reference,m.lang)??(y?dG(m.lang):null)??r.message??fG(m.lang);g&&(m.message=typeof g=="function"?g(m):g),y&&(i.typed=!1),i.issues?i.issues.push(m):i.issues=[m]}function fc(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},l6())}}}function pG(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var qb=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function c6(e,t,i){return typeof e.default=="function"?e.default(t,i):e.default}function f6(e){return{kind:"schema",type:"boolean",reference:f6,expects:"boolean",async:!1,message:e,get"~standard"(){return fc(this)},"~run"(t,i){return typeof t.value=="boolean"?t.typed=!0:sc(this,"type",t,i),t}}}function d6(e,t){return{kind:"schema",type:"literal",reference:d6,expects:u6(e),async:!1,literal:e,message:t,get"~standard"(){return fc(this)},"~run"(i,r){return i.value===this.literal?i.typed=!0:sc(this,"type",i,r),i}}}function gl(e,t){return{kind:"schema",type:"object",reference:gl,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return fc(this)},"~run"(i,r){var u;const o=i.value;if(o&&typeof o=="object"){i.typed=!0,i.value={};for(const f in this.entries){const h=this.entries[f];if(f in o||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const m=f in o?o[f]:c6(h),y=h["~run"]({value:m},r);if(y.issues){const g={type:"object",origin:"value",input:o,key:f,value:m};for(const v of y.issues)v.path?v.path.unshift(g):v.path=[g],(u=i.issues)==null||u.push(v);if(i.issues||(i.issues=y.issues),r.abortEarly){i.typed=!1;break}}y.typed||(i.typed=!1),i.value[f]=y.value}else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(sc(this,"key",i,r,{input:void 0,expected:`"${f}"`,path:[{type:"object",origin:"key",input:o,key:f,value:o[f]}]}),r.abortEarly))break}}else sc(this,"type",i,r);return i}}}function Ay(e,t){return{kind:"schema",type:"optional",reference:Ay,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return fc(this)},"~run"(i,r){return i.value===void 0&&(this.default!==void 0&&(i.value=c6(this,i,r)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,r)}}}function h6(e,t,i){return{kind:"schema",type:"record",reference:h6,expects:"Object",async:!1,key:e,value:t,message:i,get"~standard"(){return fc(this)},"~run"(r,o){var f,h;const u=r.value;if(u&&typeof u=="object"){r.typed=!0,r.value={};for(const m in u)if(pG(u,m)){const y=u[m],g=this.key["~run"]({value:m},o);if(g.issues){const b={type:"object",origin:"key",input:u,key:m,value:y};for(const E of g.issues)E.path=[b],(f=r.issues)==null||f.push(E);if(r.issues||(r.issues=g.issues),o.abortEarly){r.typed=!1;break}}const v=this.value["~run"]({value:y},o);if(v.issues){const b={type:"object",origin:"value",input:u,key:m,value:y};for(const E of v.issues)E.path?E.path.unshift(b):E.path=[b],(h=r.issues)==null||h.push(E);if(r.issues||(r.issues=v.issues),o.abortEarly){r.typed=!1;break}}(!g.typed||!v.typed)&&(r.typed=!1),g.typed&&(r.value[g.value]=v.value)}}else sc(this,"type",r,o);return r}}}function gi(e){return{kind:"schema",type:"string",reference:gi,expects:"string",async:!1,message:e,get"~standard"(){return fc(this)},"~run"(t,i){return typeof t.value=="string"?t.typed=!0:sc(this,"type",t,i),t}}}function M2(e,t,i){const r=e["~run"]({value:t},l6(i));if(r.issues)throw new qb(r.issues);return r.value}function mG(e){return{...e}}const qw=mG({user:gl({id:gi(),email:gi(),createdBy:gi(),createdAt:gi(),updatedBy:gi(),updatedAt:gi()})});function p6(e){return Object.prototype.toString.call(e).slice(8,-1)}function Dm(e){if(p6(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function O2(e){return p6(e)==="Symbol"}function k2(e,t,i,r){const o={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=i),o==="nonenumerable"&&Object.defineProperty(e,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}function m6(e,t,i){if(!Dm(t))return t;let r={};if(Dm(e)){const h=Object.getOwnPropertyNames(e),m=Object.getOwnPropertySymbols(e);r=[...h,...m].reduce((y,g)=>{const v=e[g];return(!O2(g)&&!Object.getOwnPropertyNames(t).includes(g)||O2(g)&&!Object.getOwnPropertySymbols(t).includes(g))&&k2(y,g,v,e),y},{})}const o=Object.getOwnPropertyNames(t),u=Object.getOwnPropertySymbols(t);return[...o,...u].reduce((h,m)=>{let y=t[m];const g=Dm(e)?e[m]:void 0;return g!==void 0&&Dm(y)&&(y=m6(g,y)),k2(h,m,y,t),h},r)}function yG(e,...t){return t.reduce((i,r)=>m6(i,r),e)}function gG({key:e,schema:t,defaultValue:i}){return{getItem:()=>{const r=localStorage.getItem(e);if(!r)return i;try{const o=JSON.parse(r);return M2(t,o)}catch(o){return o instanceof qb&&(console.warn("Invalid state detected, removing the item"),localStorage.removeItem(e)),i}},setItem:r=>{try{const o=M2(t,r);localStorage.setItem(e,JSON.stringify(o))}catch(o){if(o instanceof qb)console.warn("Invalid state detected, not saving the item");else throw o}},removeItem:()=>{localStorage.removeItem(e)}}}function Kb(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(i=>Kb(i));const t={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];typeof r=="object"&&r!==null?t[i]=Kb(r):r!==null&&(t[i]=r)}return t}const Kw=crypto,y6=e=>e instanceof CryptoKey,Tf=new TextEncoder,tp=new TextDecoder;function vG(...e){const t=e.reduce((o,{length:u})=>o+u,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.length;return i}const SG=e=>{let t=e;typeof t=="string"&&(t=Tf.encode(t));const i=32768,r=[];for(let o=0;o<t.length;o+=i)r.push(String.fromCharCode.apply(null,t.subarray(o,o+i)));return btoa(r.join(""))},bG=e=>SG(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),wG=e=>{const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i},Lr=e=>{let t=e;t instanceof Uint8Array&&(t=tp.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return wG(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class un extends Error{constructor(t,i){var r;super(t,i),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}un.code="ERR_JOSE_GENERIC";class ui extends un{constructor(t,i,r="unspecified",o="unspecified"){super(t,{cause:{claim:r,reason:o,payload:i}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=o,this.payload=i}}ui.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class zy extends un{constructor(t,i,r="unspecified",o="unspecified"){super(t,{cause:{claim:r,reason:o,payload:i}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=o,this.payload=i}}zy.code="ERR_JWT_EXPIRED";class g6 extends un{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}g6.code="ERR_JOSE_ALG_NOT_ALLOWED";class Pi extends un{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Pi.code="ERR_JOSE_NOT_SUPPORTED";class xG extends un{constructor(t="decryption operation failed",i){super(t,i),this.code="ERR_JWE_DECRYPTION_FAILED"}}xG.code="ERR_JWE_DECRYPTION_FAILED";class CG extends un{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}CG.code="ERR_JWE_INVALID";class _t extends un{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}_t.code="ERR_JWS_INVALID";class Di extends un{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Di.code="ERR_JWT_INVALID";class EG extends un{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}EG.code="ERR_JWK_INVALID";class Qw extends un{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}Qw.code="ERR_JWKS_INVALID";class v6 extends un{constructor(t="no applicable key found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_NO_MATCHING_KEY"}}v6.code="ERR_JWKS_NO_MATCHING_KEY";class S6 extends un{constructor(t="multiple matching keys found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}S6.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class _G extends un{constructor(t="request timed out",i){super(t,i),this.code="ERR_JWKS_TIMEOUT"}}_G.code="ERR_JWKS_TIMEOUT";class b6 extends un{constructor(t="signature verification failed",i){super(t,i),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}b6.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function us(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Tm(e,t){return e.name===t}function pS(e){return parseInt(e.name.slice(4),10)}function DG(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function TG(e,t){if(t.length&&!t.some(i=>e.usages.includes(i))){let i="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();i+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?i+=`one of ${t[0]} or ${t[1]}.`:i+=`${t[0]}.`;throw new TypeError(i)}}function RG(e,t,...i){switch(t){case"HS256":case"HS384":case"HS512":{if(!Tm(e.algorithm,"HMAC"))throw us("HMAC");const r=parseInt(t.slice(2),10);if(pS(e.algorithm.hash)!==r)throw us(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Tm(e.algorithm,"RSASSA-PKCS1-v1_5"))throw us("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(pS(e.algorithm.hash)!==r)throw us(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Tm(e.algorithm,"RSA-PSS"))throw us("RSA-PSS");const r=parseInt(t.slice(2),10);if(pS(e.algorithm.hash)!==r)throw us(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw us("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Tm(e.algorithm,"ECDSA"))throw us("ECDSA");const r=DG(t);if(e.algorithm.namedCurve!==r)throw us(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}TG(e,i)}function w6(e,t,...i){var r;if(i=i.filter(Boolean),i.length>2){const o=i.pop();e+=`one of type ${i.join(", ")}, or ${o}.`}else i.length===2?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const N2=(e,...t)=>w6("Key must be ",e,...t);function x6(e,t,...i){return w6(`Key for the ${e} algorithm must be `,t,...i)}const C6=e=>y6(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",jy=["CryptoKey"],MG=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let i;for(const r of t){const o=Object.keys(r);if(!i||i.size===0){i=new Set(o);continue}for(const u of o){if(i.has(u))return!1;i.add(u)}}return!0};function OG(e){return typeof e=="object"&&e!==null}function ro(e){if(!OG(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const kG=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:i}=t.algorithm;if(typeof i!="number"||i<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function dc(e){return ro(e)&&typeof e.kty=="string"}function NG(e){return e.kty!=="oct"&&typeof e.d=="string"}function AG(e){return e.kty!=="oct"&&typeof e.d>"u"}function zG(e){return dc(e)&&e.kty==="oct"&&typeof e.k=="string"}function jG(e){let t,i;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},i=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Pi('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},i=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},i=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new Pi('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new Pi('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Pi('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:i}}const E6=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:i}=jG(e),r=[t,e.ext??!1,e.key_ops??i],o={...e};return delete o.alg,delete o.use,Kw.subtle.importKey("jwk",o,...r)},_6=e=>Lr(e);let Xo,Zo;const D6=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",Ly=async(e,t,i,r,o=!1)=>{let u=e.get(t);if(u!=null&&u[r])return u[r];const f=await E6({...i,alg:r});return o&&Object.freeze(t),u?u[r]=f:e.set(t,{[r]:f}),f},LG=(e,t)=>{if(D6(e)){let i=e.export({format:"jwk"});return delete i.d,delete i.dp,delete i.dq,delete i.p,delete i.q,delete i.qi,i.k?_6(i.k):(Zo||(Zo=new WeakMap),Ly(Zo,e,i,t))}return dc(e)?e.k?Lr(e.k):(Zo||(Zo=new WeakMap),Ly(Zo,e,e,t,!0)):e},IG=(e,t)=>{if(D6(e)){let i=e.export({format:"jwk"});return i.k?_6(i.k):(Xo||(Xo=new WeakMap),Ly(Xo,e,i,t))}return dc(e)?e.k?Lr(e.k):(Xo||(Xo=new WeakMap),Ly(Xo,e,e,t,!0)):e},HG={normalizePublicKey:LG,normalizePrivateKey:IG};async function T6(e,t){if(!ro(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Lr(e.k);case"RSA":if(e.oth!==void 0)throw new Pi('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return E6({...e,alg:t});default:throw new Pi('Unsupported "kty" (Key Type) Parameter value')}}const tl=e=>e==null?void 0:e[Symbol.toStringTag],Qb=(e,t,i)=>{var r,o;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((o=(r=t.key_ops).includes)==null?void 0:o.call(r,i))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${i}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},UG=(e,t,i,r)=>{if(!(t instanceof Uint8Array)){if(r&&dc(t)){if(zG(t)&&Qb(e,t,i))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!C6(t))throw new TypeError(x6(e,t,...jy,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${tl(t)} instances for symmetric algorithms must be of type "secret"`)}},BG=(e,t,i,r)=>{if(r&&dc(t))switch(i){case"sign":if(NG(t)&&Qb(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(AG(t)&&Qb(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!C6(t))throw new TypeError(x6(e,t,...jy,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${tl(t)} instances for asymmetric algorithms must not be of type "secret"`);if(i==="sign"&&t.type==="public")throw new TypeError(`${tl(t)} instances for asymmetric algorithm signing must be of type "private"`);if(i==="decrypt"&&t.type==="public")throw new TypeError(`${tl(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&i==="verify"&&t.type==="private")throw new TypeError(`${tl(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&i==="encrypt"&&t.type==="private")throw new TypeError(`${tl(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function R6(e,t,i,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?UG(t,i,r,e):BG(t,i,r,e)}R6.bind(void 0,!1);const A2=R6.bind(void 0,!0);function PG(e,t,i,r,o){if(o.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(f=>typeof f!="string"||f.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let u;i!==void 0?u=new Map([...Object.entries(i),...t.entries()]):u=t;for(const f of r.crit){if(!u.has(f))throw new Pi(`Extension Header Parameter "${f}" is not recognized`);if(o[f]===void 0)throw new e(`Extension Header Parameter "${f}" is missing`);if(u.get(f)&&r[f]===void 0)throw new e(`Extension Header Parameter "${f}" MUST be integrity protected`)}return new Set(r.crit)}const $G=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(i=>typeof i!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function VG(e,t){const i=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:i,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:i,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:i,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:i,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Pi(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function FG(e,t,i){if(t=await HG.normalizePublicKey(t,e),y6(t))return RG(t,e,i),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(N2(t,...jy));return Kw.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[i])}throw new TypeError(N2(t,...jy,"Uint8Array","JSON Web Key"))}const GG=async(e,t,i,r)=>{const o=await FG(e,t,"verify");kG(e,o);const u=VG(e,o.algorithm);try{return await Kw.subtle.verify(u,o,i,r)}catch{return!1}};async function qG(e,t,i){if(!ro(e))throw new _t("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new _t('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new _t("JWS Protected Header incorrect type");if(e.payload===void 0)throw new _t("JWS Payload missing");if(typeof e.signature!="string")throw new _t("JWS Signature missing or incorrect type");if(e.header!==void 0&&!ro(e.header))throw new _t("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const A=Lr(e.protected);r=JSON.parse(tp.decode(A))}catch{throw new _t("JWS Protected Header is invalid")}if(!MG(r,e.header))throw new _t("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header},u=PG(_t,new Map([["b64",!0]]),i==null?void 0:i.crit,r,o);let f=!0;if(u.has("b64")&&(f=r.b64,typeof f!="boolean"))throw new _t('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:h}=o;if(typeof h!="string"||!h)throw new _t('JWS "alg" (Algorithm) Header Parameter missing or invalid');const m=$G("algorithms",i.algorithms);if(m&&!m.has(h))throw new g6('"alg" (Algorithm) Header Parameter value not allowed');if(f){if(typeof e.payload!="string")throw new _t("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new _t("JWS Payload must be a string or an Uint8Array instance");let y=!1;typeof t=="function"?(t=await t(r,e),y=!0,A2(h,t,"verify"),dc(t)&&(t=await T6(t,h))):A2(h,t,"verify");const g=vG(Tf.encode(e.protected??""),Tf.encode("."),typeof e.payload=="string"?Tf.encode(e.payload):e.payload);let v;try{v=Lr(e.signature)}catch{throw new _t("Failed to base64url decode the signature")}if(!await GG(h,t,v,g))throw new b6;let E;if(f)try{E=Lr(e.payload)}catch{throw new _t("Failed to base64url decode the payload")}else typeof e.payload=="string"?E=Tf.encode(e.payload):E=e.payload;const R={payload:E};return e.protected!==void 0&&(R.protectedHeader=r),e.header!==void 0&&(R.unprotectedHeader=e.header),y?{...R,key:t}:R}async function KG(e,t,i){if(e instanceof Uint8Array&&(e=tp.decode(e)),typeof e!="string")throw new _t("Compact JWS must be a string or Uint8Array");const{0:r,1:o,2:u,length:f}=e.split(".");if(f!==3)throw new _t("Invalid Compact JWS");const h=await qG({payload:o,protected:r,signature:u},t,i),m={payload:h.payload,protectedHeader:h.protectedHeader};return typeof t=="function"?{...m,key:h.key}:m}const QG=e=>Math.floor(e.getTime()/1e3),M6=60,O6=M6*60,Yw=O6*24,YG=Yw*7,JG=Yw*365.25,XG=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,z2=e=>{const t=XG.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const i=parseFloat(t[2]),r=t[3].toLowerCase();let o;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":o=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":o=Math.round(i*M6);break;case"hour":case"hours":case"hr":case"hrs":case"h":o=Math.round(i*O6);break;case"day":case"days":case"d":o=Math.round(i*Yw);break;case"week":case"weeks":case"w":o=Math.round(i*YG);break;default:o=Math.round(i*JG);break}return t[1]==="-"||t[4]==="ago"?-o:o},j2=e=>e.toLowerCase().replace(/^application\//,""),ZG=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,WG=(e,t,i={})=>{let r;try{r=JSON.parse(tp.decode(t))}catch{}if(!ro(r))throw new Di("JWT Claims Set must be a top-level JSON object");const{typ:o}=i;if(o&&(typeof e.typ!="string"||j2(e.typ)!==j2(o)))throw new ui('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:u=[],issuer:f,subject:h,audience:m,maxTokenAge:y}=i,g=[...u];y!==void 0&&g.push("iat"),m!==void 0&&g.push("aud"),h!==void 0&&g.push("sub"),f!==void 0&&g.push("iss");for(const R of new Set(g.reverse()))if(!(R in r))throw new ui(`missing required "${R}" claim`,r,R,"missing");if(f&&!(Array.isArray(f)?f:[f]).includes(r.iss))throw new ui('unexpected "iss" claim value',r,"iss","check_failed");if(h&&r.sub!==h)throw new ui('unexpected "sub" claim value',r,"sub","check_failed");if(m&&!ZG(r.aud,typeof m=="string"?[m]:m))throw new ui('unexpected "aud" claim value',r,"aud","check_failed");let v;switch(typeof i.clockTolerance){case"string":v=z2(i.clockTolerance);break;case"number":v=i.clockTolerance;break;case"undefined":v=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=i,E=QG(b||new Date);if((r.iat!==void 0||y)&&typeof r.iat!="number")throw new ui('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new ui('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>E+v)throw new ui('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new ui('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=E-v)throw new zy('"exp" claim timestamp check failed',r,"exp","check_failed")}if(y){const R=E-r.iat,A=typeof y=="number"?y:z2(y);if(R-v>A)throw new zy('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(R<0-v)throw new ui('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function eq(e,t,i){var f;const r=await KG(e,t,i);if((f=r.protectedHeader.crit)!=null&&f.includes("b64")&&r.protectedHeader.b64===!1)throw new Di("JWTs MUST NOT use unencoded payload");const u={payload:WG(r.protectedHeader,r.payload,i),protectedHeader:r.protectedHeader};return typeof t=="function"?{...u,key:r.key}:u}function tq(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Pi('Unsupported "alg" value for a JSON Web Key Set')}}function nq(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(iq)}function iq(e){return ro(e)}function k6(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class sq{constructor(t){if(this._cached=new WeakMap,!nq(t))throw new Qw("JSON Web Key Set malformed");this._jwks=k6(t)}async getKey(t,i){const{alg:r,kid:o}={...t,...i==null?void 0:i.header},u=tq(r),f=this._jwks.keys.filter(y=>{let g=u===y.kty;if(g&&typeof o=="string"&&(g=o===y.kid),g&&typeof y.alg=="string"&&(g=r===y.alg),g&&typeof y.use=="string"&&(g=y.use==="sig"),g&&Array.isArray(y.key_ops)&&(g=y.key_ops.includes("verify")),g&&r==="EdDSA"&&(g=y.crv==="Ed25519"||y.crv==="Ed448"),g)switch(r){case"ES256":g=y.crv==="P-256";break;case"ES256K":g=y.crv==="secp256k1";break;case"ES384":g=y.crv==="P-384";break;case"ES512":g=y.crv==="P-521";break}return g}),{0:h,length:m}=f;if(m===0)throw new v6;if(m!==1){const y=new S6,{_cached:g}=this;throw y[Symbol.asyncIterator]=async function*(){for(const v of f)try{yield await L2(g,v,r)}catch{}},y}return L2(this._cached,h,r)}}async function L2(e,t,i){const r=e.get(t)||e.set(t,{}).get(t);if(r[i]===void 0){const o=await T6({...t,ext:!0},i);if(o instanceof Uint8Array||o.type!=="public")throw new Qw("JSON Web Key Set members must be public keys");r[i]=o}return r[i]}function rq(e){const t=new sq(e),i=async(r,o)=>t.getKey(r,o);return Object.defineProperties(i,{jwks:{value:()=>k6(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),i}const N6=bG,aq=Lr;function oq(e){if(typeof e!="string")throw new Di("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:i}=e.split(".");if(i===5)throw new Di("Only JWTs using Compact JWS serialization can be decoded");if(i!==3)throw new Di("Invalid JWT");if(!t)throw new Di("JWTs must contain a payload");let r;try{r=aq(t)}catch{throw new Di("Failed to base64url decode the payload")}let o;try{o=JSON.parse(tp.decode(r))}catch{throw new Di("Failed to parse the decoded payload as JSON")}if(!ro(o))throw new Di("Invalid JWT Claims Set");return o}class lq extends Error{constructor(){super("Invalid subject")}}class uq extends Error{constructor(){super("Invalid refresh token")}}class I2 extends Error{constructor(){super("Invalid access token")}}class cq extends Error{constructor(){super("Invalid authorization code")}}function fq(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),N6(t)}async function dq(e,t){const r=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",r);return N6(new Uint8Array(o))}async function H2(e=64){if(e<43||e>128)throw new Error("Code verifier length must be between 43 and 128 characters");const t=fq(e),i=await dq(t);return{verifier:t,challenge:i,method:"S256"}}var hq={};function pq(e){const t=new Map,i=new Map,r=e.issuer||hq.OPENAUTH_ISSUER;if(!r)throw new Error("No issuer");const o=e.fetch??fetch;async function u(){const m=i.get(r);if(m)return m;const y=await(o||fetch)(`${r}/.well-known/oauth-authorization-server`).then(g=>g.json());return i.set(r,y),y}async function f(){const m=await u(),y=t.get(r);if(y)return y;const g=await(o||fetch)(m.jwks_uri).then(b=>b.json()),v=rq(g);return t.set(r,v),v}const h={async authorize(m,y,g){const v=new URL(r+"/authorize"),b={state:crypto.randomUUID()};if(v.searchParams.set("client_id",e.clientID),v.searchParams.set("redirect_uri",m),v.searchParams.set("response_type",y),v.searchParams.set("state",b.state),g!=null&&g.provider&&v.searchParams.set("provider",g.provider),g!=null&&g.pkce&&y==="code"){const E=await H2();v.searchParams.set("code_challenge_method","S256"),v.searchParams.set("code_challenge",E.challenge),b.verifier=E.verifier}return{challenge:b,url:v.toString()}},async pkce(m,y){const g=new URL(r+"/authorize");y!=null&&y.provider&&g.searchParams.set("provider",y.provider),g.searchParams.set("client_id",e.clientID),g.searchParams.set("redirect_uri",m),g.searchParams.set("response_type","code");const v=await H2();return g.searchParams.set("code_challenge_method","S256"),g.searchParams.set("code_challenge",v.challenge),[v.verifier,g.toString()]},async exchange(m,y,g){const v=await o(r+"/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:m,redirect_uri:y,grant_type:"authorization_code",client_id:e.clientID,code_verifier:g||""}).toString()}),b=await v.json();return v.ok?{err:!1,tokens:{access:b.access_token,refresh:b.refresh_token}}:{err:new cq}},async refresh(m,y){if(y&&y.access){const b=oq(y.access);if(!b)return{err:new I2};if((b.exp||0)>Date.now()/1e3+30)return{err:!1}}const g=await o(r+"/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:m}).toString()}),v=await g.json();return g.ok?{err:!1,tokens:{access:v.access_token,refresh:v.refresh_token}}:{err:new uq}},async verify(m,y,g){const v=await f();try{const b=await eq(y,v,{issuer:r}),E=await m[b.payload.type]["~standard"].validate(b.payload.properties);return!E.issues&&b.payload.mode==="access"?{aud:b.payload.aud,subject:{type:b.payload.type,properties:E.value}}:{err:new lq}}catch(b){if(b instanceof zy&&(g!=null&&g.refresh)){const E=await this.refresh(g.refresh);if(E.err)return E;const R=await h.verify(m,E.tokens.access,{refresh:E.tokens.refresh,issuer:r,fetch:g==null?void 0:g.fetch});return R.err||(R.tokens=E.tokens),R}return{err:new I2}}}};return h}async function mq(){return(await Jw.authorize(window.location.origin,"token")).url}const Jw=pq({clientID:"tanstack",issuer:"https://auth.dev.sst-zero.lshay.xyz"}),A6=gl({tokens:gl({access:gi(),refresh:Ay(gi())}),expired:Ay(f6()),aud:gi(),subject:gl({type:d6("user"),properties:qw.user})}),yq=h6(gi(),A6),gq=gl({currentSession:Ay(A6),sessions:yq}),vq="sst-zero/sessions",Yb=gG({key:vq,schema:gq,defaultValue:{currentSession:void 0,sessions:{}}});function z6(e){const t=Yb.getItem(),i=e(t),r=yG(t,Kb(i));return Yb.setItem(r),r}function Xw(){return Yb.getItem()}const Sq=()=>Xw().currentSession,bq=()=>Xw().sessions,j6=e=>{z6(t=>(t.currentSession=e,t.sessions[e.subject.properties.id]=e,{currentSession:e,sessions:{[e.subject.properties.id]:e}}))},wq=e=>Xw().sessions[e],xq=e=>z6(t=>({sessions:{[e]:{...t.sessions[e],expired:!0}}}));async function Cq(e){var i,r;const t=Object.fromEntries(e.split("&").map(o=>o.split("=")));if(t.access_token){const o=await Jw.verify(qw,t.access_token,{refresh:decodeURIComponent(t.refresh_token)});if(!o.err){const u={subject:o.subject,aud:o.aud,tokens:{refresh:((i=o.tokens)==null?void 0:i.refresh)??decodeURIComponent(t.refresh_token),access:((r=o.tokens)==null?void 0:r.access)??t.access_token}};return j6(u),u}throw XL({to:location.pathname,replace:!0})}}async function Eq(e){const t=typeof e=="string"?wq(e):e;if(t){try{const i=await Jw.verify(qw,t.tokens.access,{refresh:t.tokens.refresh});if(!i.err){const r={...t,tokens:i.tokens??t.tokens};return j6(r),r}}catch{}return xq(t.subject.properties.id),t}}async function _q(){const e=Sq();return Eq(e)}async function Dq(e){const t=await Cq(e);return t||_q()}const mg=YL({component:Tq,beforeLoad:async({location:e})=>({session:await Dq(e.hash)})});function Tq(){const e=mg.useRouteContext(),t=cG(e.session);return w.jsxs(eG,{zero:t,children:[w.jsxs("div",{className:"p-2 flex gap-2",children:[w.jsx(n_,{to:"/",className:"[&.active]:font-bold",children:"Home"}),w.jsx(n_,{to:"/about",className:"[&.active]:font-bold",children:"About"}),w.jsx("a",{onClick:async()=>{window.location.href=await mq()},children:"Sign In"})]}),w.jsx("hr",{}),w.jsx(ek,{}),w.jsx(B8,{})]})}const Rq=JO("/about")({component:Mq});function Mq(){return w.jsx("div",{className:"p-2",children:w.jsx("h3",{children:"Welcome Home!"})})}function mS(e){return w.jsx("div",{children:w.jsx("pre",{children:JSON.stringify(e.data,null,2)})})}const L6=JO("/")({component:Oq});function Oq(){const{session:e}=L6.useRouteContext(),t=uG(),[i]=tG(t.query.user.where("id","=",(e==null?void 0:e.subject.properties.id)??""));return w.jsxs("div",{className:"p-2",children:[w.jsx(mS,{data:i}),w.jsx(mS,{data:e}),w.jsx(mS,{data:bq()})]})}const kq=Rq.update({id:"/about",path:"/about",getParentRoute:()=>mg}),Nq=L6.update({id:"/",path:"/",getParentRoute:()=>mg}),Aq={IndexRoute:Nq,AboutRoute:kq},zq=mg._addFileChildren(Aq)._addFileTypes(),jq=y8({routeTree:zq}),U2=document.getElementById("root");U2.innerHTML||hL.createRoot(U2).render(w.jsx(we.StrictMode,{children:w.jsx(w8,{router:jq})}));
